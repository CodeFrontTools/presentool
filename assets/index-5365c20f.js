var Ll=Object.defineProperty;var Rl=(t,e,o)=>e in t?Ll(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var yn=(t,e,o)=>(Rl(t,typeof e!="symbol"?e+"":e,o),o),Ds=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var $=(t,e,o)=>(Ds(t,e,"read from private field"),o?o.call(t):e.get(t)),ve=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)},we=(t,e,o,n)=>(Ds(t,e,"write to private field"),n?n.call(t,o):e.set(t,o),o);var di=(t,e,o,n)=>({set _(i){we(t,e,i,o)},get _(){return $(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();function Zi(t,e){const o=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)o[n[i]]=!0;return e?i=>!!o[i.toLowerCase()]:i=>!!o[i]}const Ee={},mo=[],ft=()=>{},Nl=()=>!1,Pl=/^on[^a-z]/,qn=t=>Pl.test(t),Gi=t=>t.startsWith("onUpdate:"),Pe=Object.assign,Ji=(t,e)=>{const o=t.indexOf(e);o>-1&&t.splice(o,1)},Dl=Object.prototype.hasOwnProperty,ae=(t,e)=>Dl.call(t,e),oe=Array.isArray,bo=t=>Yn(t)==="[object Map]",Kr=t=>Yn(t)==="[object Set]",ie=t=>typeof t=="function",Me=t=>typeof t=="string",Qi=t=>typeof t=="symbol",ye=t=>t!==null&&typeof t=="object",qr=t=>ye(t)&&ie(t.then)&&ie(t.catch),Yr=Object.prototype.toString,Yn=t=>Yr.call(t),Fl=t=>Yn(t).slice(8,-1),Vr=t=>Yn(t)==="[object Object]",es=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,In=Zi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vn=t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))},Hl=/-(\w)/g,Ct=Vn(t=>t.replace(Hl,(e,o)=>o?o.toUpperCase():"")),jl=/\B([A-Z])/g,No=Vn(t=>t.replace(jl,"-$1").toLowerCase()),Xn=Vn(t=>t.charAt(0).toUpperCase()+t.slice(1)),ui=Vn(t=>t?`on${Xn(t)}`:""),on=(t,e)=>!Object.is(t,e),hi=(t,e)=>{for(let o=0;o<t.length;o++)t[o](e)},Nn=(t,e,o)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:o})},$l=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fs;const Si=()=>Fs||(Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(t){if(oe(t)){const e={};for(let o=0;o<t.length;o++){const n=t[o],i=Me(n)?Kl(n):Zn(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Me(t))return t;if(ye(t))return t}}const Ul=/;(?![^(]*\))/g,zl=/:([^]+)/,Wl=/\/\*[^]*?\*\//g;function Kl(t){const e={};return t.replace(Wl,"").split(Ul).forEach(o=>{if(o){const n=o.split(zl);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function de(t){let e="";if(Me(t))e=t;else if(oe(t))for(let o=0;o<t.length;o++){const n=de(t[o]);n&&(e+=n+" ")}else if(ye(t))for(const o in t)t[o]&&(e+=o+" ");return e.trim()}const ql="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yl=Zi(ql);function Xr(t){return!!t||t===""}const Vl=t=>Me(t)?t:t==null?"":oe(t)||ye(t)&&(t.toString===Yr||!ie(t.toString))?JSON.stringify(t,Zr,2):String(t),Zr=(t,e)=>e&&e.__v_isRef?Zr(t,e.value):bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((o,[n,i])=>(o[`${n} =>`]=i,o),{})}:Kr(e)?{[`Set(${e.size})`]:[...e.values()]}:ye(e)&&!oe(e)&&!Vr(e)?String(e):e;let rt;class Xl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!e&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const o=rt;try{return rt=this,e()}finally{rt=o}}}on(){rt=this}off(){rt=this.parent}stop(e){if(this._active){let o,n;for(o=0,n=this.effects.length;o<n;o++)this.effects[o].stop();for(o=0,n=this.cleanups.length;o<n;o++)this.cleanups[o]();if(this.scopes)for(o=0,n=this.scopes.length;o<n;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Zl(t,e=rt){e&&e.active&&e.effects.push(t)}function Gl(){return rt}const ts=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Gr=t=>(t.w&Kt)>0,Jr=t=>(t.n&Kt)>0,Jl=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Kt},Ql=t=>{const{deps:e}=t;if(e.length){let o=0;for(let n=0;n<e.length;n++){const i=e[n];Gr(i)&&!Jr(i)?i.delete(t):e[o++]=i,i.w&=~Kt,i.n&=~Kt}e.length=o}},Pn=new WeakMap;let Wo=0,Kt=1;const Ti=30;let lt;const eo=Symbol(""),_i=Symbol("");class os{constructor(e,o=null,n){this.fn=e,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Zl(this,n)}run(){if(!this.active)return this.fn();let e=lt,o=zt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=lt,lt=this,zt=!0,Kt=1<<++Wo,Wo<=Ti?Jl(this):Hs(this),this.fn()}finally{Wo<=Ti&&Ql(this),Kt=1<<--Wo,lt=this.parent,zt=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){lt===this?this.deferStop=!0:this.active&&(Hs(this),this.onStop&&this.onStop(),this.active=!1)}}function Hs(t){const{deps:e}=t;if(e.length){for(let o=0;o<e.length;o++)e[o].delete(t);e.length=0}}let zt=!0;const Qr=[];function Po(){Qr.push(zt),zt=!1}function Do(){const t=Qr.pop();zt=t===void 0?!0:t}function Ve(t,e,o){if(zt&&lt){let n=Pn.get(t);n||Pn.set(t,n=new Map);let i=n.get(o);i||n.set(o,i=ts()),ea(i)}}function ea(t,e){let o=!1;Wo<=Ti?Jr(t)||(t.n|=Kt,o=!Gr(t)):o=!t.has(lt),o&&(t.add(lt),lt.deps.push(t))}function Rt(t,e,o,n,i,s){const r=Pn.get(t);if(!r)return;let a=[];if(e==="clear")a=[...r.values()];else if(o==="length"&&oe(t)){const l=Number(n);r.forEach((c,d)=>{(d==="length"||d>=l)&&a.push(c)})}else switch(o!==void 0&&a.push(r.get(o)),e){case"add":oe(t)?es(o)&&a.push(r.get("length")):(a.push(r.get(eo)),bo(t)&&a.push(r.get(_i)));break;case"delete":oe(t)||(a.push(r.get(eo)),bo(t)&&a.push(r.get(_i)));break;case"set":bo(t)&&a.push(r.get(eo));break}if(a.length===1)a[0]&&Bi(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Bi(ts(l))}}function Bi(t,e){const o=oe(t)?t:[...t];for(const n of o)n.computed&&js(n);for(const n of o)n.computed||js(n)}function js(t,e){(t!==lt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function ec(t,e){var o;return(o=Pn.get(t))==null?void 0:o.get(e)}const tc=Zi("__proto__,__v_isRef,__isVue"),ta=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qi)),oc=ns(),nc=ns(!1,!0),ic=ns(!0),$s=sc();function sc(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...o){const n=ce(this);for(let s=0,r=this.length;s<r;s++)Ve(n,"get",s+"");const i=n[e](...o);return i===-1||i===!1?n[e](...o.map(ce)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...o){Po();const n=ce(this)[e].apply(this,o);return Do(),n}}),t}function rc(t){const e=ce(this);return Ve(e,"has",t),e.hasOwnProperty(t)}function ns(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?xc:ra:e?sa:ia).get(n))return n;const r=oe(n);if(!t){if(r&&ae($s,i))return Reflect.get($s,i,s);if(i==="hasOwnProperty")return rc}const a=Reflect.get(n,i,s);return(Qi(i)?ta.has(i):tc(i))||(t||Ve(n,"get",i),e)?a:Re(a)?r&&es(i)?a:a.value:ye(a)?t?la(a):Jn(a):a}}const ac=oa(),lc=oa(!0);function oa(t=!1){return function(o,n,i,s){let r=o[n];if(To(r)&&Re(r)&&!Re(i))return!1;if(!t&&(!Dn(i)&&!To(i)&&(r=ce(r),i=ce(i)),!oe(o)&&Re(r)&&!Re(i)))return r.value=i,!0;const a=oe(o)&&es(n)?Number(n)<o.length:ae(o,n),l=Reflect.set(o,n,i,s);return o===ce(s)&&(a?on(i,r)&&Rt(o,"set",n,i):Rt(o,"add",n,i)),l}}function cc(t,e){const o=ae(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&o&&Rt(t,"delete",e,void 0),n}function dc(t,e){const o=Reflect.has(t,e);return(!Qi(e)||!ta.has(e))&&Ve(t,"has",e),o}function uc(t){return Ve(t,"iterate",oe(t)?"length":eo),Reflect.ownKeys(t)}const na={get:oc,set:ac,deleteProperty:cc,has:dc,ownKeys:uc},hc={get:ic,set(t,e){return!0},deleteProperty(t,e){return!0}},fc=Pe({},na,{get:nc,set:lc}),is=t=>t,Gn=t=>Reflect.getPrototypeOf(t);function wn(t,e,o=!1,n=!1){t=t.__v_raw;const i=ce(t),s=ce(e);o||(e!==s&&Ve(i,"get",e),Ve(i,"get",s));const{has:r}=Gn(i),a=n?is:o?as:nn;if(r.call(i,e))return a(t.get(e));if(r.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function xn(t,e=!1){const o=this.__v_raw,n=ce(o),i=ce(t);return e||(t!==i&&Ve(n,"has",t),Ve(n,"has",i)),t===i?o.has(t):o.has(t)||o.has(i)}function En(t,e=!1){return t=t.__v_raw,!e&&Ve(ce(t),"iterate",eo),Reflect.get(t,"size",t)}function Us(t){t=ce(t);const e=ce(this);return Gn(e).has.call(e,t)||(e.add(t),Rt(e,"add",t,t)),this}function zs(t,e){e=ce(e);const o=ce(this),{has:n,get:i}=Gn(o);let s=n.call(o,t);s||(t=ce(t),s=n.call(o,t));const r=i.call(o,t);return o.set(t,e),s?on(e,r)&&Rt(o,"set",t,e):Rt(o,"add",t,e),this}function Ws(t){const e=ce(this),{has:o,get:n}=Gn(e);let i=o.call(e,t);i||(t=ce(t),i=o.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&Rt(e,"delete",t,void 0),s}function Ks(){const t=ce(this),e=t.size!==0,o=t.clear();return e&&Rt(t,"clear",void 0,void 0),o}function Cn(t,e){return function(n,i){const s=this,r=s.__v_raw,a=ce(r),l=e?is:t?as:nn;return!t&&Ve(a,"iterate",eo),r.forEach((c,d)=>n.call(i,l(c),l(d),s))}}function Sn(t,e,o){return function(...n){const i=this.__v_raw,s=ce(i),r=bo(s),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...n),d=o?is:e?as:nn;return!e&&Ve(s,"iterate",l?_i:eo),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:a?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function Dt(t){return function(...e){return t==="delete"?!1:this}}function pc(){const t={get(s){return wn(this,s)},get size(){return En(this)},has:xn,add:Us,set:zs,delete:Ws,clear:Ks,forEach:Cn(!1,!1)},e={get(s){return wn(this,s,!1,!0)},get size(){return En(this)},has:xn,add:Us,set:zs,delete:Ws,clear:Ks,forEach:Cn(!1,!0)},o={get(s){return wn(this,s,!0)},get size(){return En(this,!0)},has(s){return xn.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:Cn(!0,!1)},n={get(s){return wn(this,s,!0,!0)},get size(){return En(this,!0)},has(s){return xn.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:Cn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Sn(s,!1,!1),o[s]=Sn(s,!0,!1),e[s]=Sn(s,!1,!0),n[s]=Sn(s,!0,!0)}),[t,o,e,n]}const[gc,mc,bc,vc]=pc();function ss(t,e){const o=e?t?vc:bc:t?mc:gc;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(ae(o,i)&&i in n?o:n,i,s)}const kc={get:ss(!1,!1)},yc={get:ss(!1,!0)},wc={get:ss(!0,!1)},ia=new WeakMap,sa=new WeakMap,ra=new WeakMap,xc=new WeakMap;function Ec(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cc(t){return t.__v_skip||!Object.isExtensible(t)?0:Ec(Fl(t))}function Jn(t){return To(t)?t:rs(t,!1,na,kc,ia)}function aa(t){return rs(t,!1,fc,yc,sa)}function la(t){return rs(t,!0,hc,wc,ra)}function rs(t,e,o,n,i){if(!ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const r=Cc(t);if(r===0)return t;const a=new Proxy(t,r===2?n:o);return i.set(t,a),a}function vo(t){return To(t)?vo(t.__v_raw):!!(t&&t.__v_isReactive)}function To(t){return!!(t&&t.__v_isReadonly)}function Dn(t){return!!(t&&t.__v_isShallow)}function ca(t){return vo(t)||To(t)}function ce(t){const e=t&&t.__v_raw;return e?ce(e):t}function da(t){return Nn(t,"__v_skip",!0),t}const nn=t=>ye(t)?Jn(t):t,as=t=>ye(t)?la(t):t;function ua(t){zt&&lt&&(t=ce(t),ea(t.dep||(t.dep=ts())))}function ha(t,e){t=ce(t);const o=t.dep;o&&Bi(o)}function Re(t){return!!(t&&t.__v_isRef===!0)}function he(t){return fa(t,!1)}function Sc(t){return fa(t,!0)}function fa(t,e){return Re(t)?t:new Tc(t,e)}class Tc{constructor(e,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?e:ce(e),this._value=o?e:nn(e)}get value(){return ua(this),this._value}set value(e){const o=this.__v_isShallow||Dn(e)||To(e);e=o?e:ce(e),on(e,this._rawValue)&&(this._rawValue=e,this._value=o?e:nn(e),ha(this))}}function xe(t){return Re(t)?t.value:t}const _c={get:(t,e,o)=>xe(Reflect.get(t,e,o)),set:(t,e,o,n)=>{const i=t[e];return Re(i)&&!Re(o)?(i.value=o,!0):Reflect.set(t,e,o,n)}};function pa(t){return vo(t)?t:new Proxy(t,_c)}class Bc{constructor(e,o,n){this._object=e,this._key=o,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ec(ce(this._object),this._key)}}class Ic{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Qn(t,e,o){return Re(t)?t:ie(t)?new Ic(t):ye(t)&&arguments.length>1?Mc(t,e,o):he(t)}function Mc(t,e,o){const n=t[e];return Re(n)?n:new Bc(t,e,o)}class Ac{constructor(e,o,n,i){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new os(e,()=>{this._dirty||(this._dirty=!0,ha(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=ce(this);return ua(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Oc(t,e,o=!1){let n,i;const s=ie(t);return s?(n=t,i=ft):(n=t.get,i=t.set),new Ac(n,i,s||!i,o)}function Wt(t,e,o,n){let i;try{i=n?t(...n):t()}catch(s){bn(s,e,o)}return i}function pt(t,e,o,n){if(ie(t)){const s=Wt(t,e,o,n);return s&&qr(s)&&s.catch(r=>{bn(r,e,o)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(pt(t[s],e,o,n));return i}function bn(t,e,o,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const r=e.proxy,a=o;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,r,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Wt(l,null,10,[t,r,a]);return}}Lc(t,o,i,n)}function Lc(t,e,o,n=!0){console.error(t)}let sn=!1,Ii=!1;const ze=[];let Et=0;const ko=[];let It=null,Gt=0;const ga=Promise.resolve();let ls=null;function ma(t){const e=ls||ga;return t?e.then(this?t.bind(this):t):e}function Rc(t){let e=Et+1,o=ze.length;for(;e<o;){const n=e+o>>>1;rn(ze[n])<t?e=n+1:o=n}return e}function ei(t){(!ze.length||!ze.includes(t,sn&&t.allowRecurse?Et+1:Et))&&(t.id==null?ze.push(t):ze.splice(Rc(t.id),0,t),ba())}function ba(){!sn&&!Ii&&(Ii=!0,ls=ga.then(ka))}function Nc(t){const e=ze.indexOf(t);e>Et&&ze.splice(e,1)}function Pc(t){oe(t)?ko.push(...t):(!It||!It.includes(t,t.allowRecurse?Gt+1:Gt))&&ko.push(t),ba()}function qs(t,e=sn?Et+1:0){for(;e<ze.length;e++){const o=ze[e];o&&o.pre&&(ze.splice(e,1),e--,o())}}function va(t){if(ko.length){const e=[...new Set(ko)];if(ko.length=0,It){It.push(...e);return}for(It=e,It.sort((o,n)=>rn(o)-rn(n)),Gt=0;Gt<It.length;Gt++)It[Gt]();It=null,Gt=0}}const rn=t=>t.id==null?1/0:t.id,Dc=(t,e)=>{const o=rn(t)-rn(e);if(o===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return o};function ka(t){Ii=!1,sn=!0,ze.sort(Dc);const e=ft;try{for(Et=0;Et<ze.length;Et++){const o=ze[Et];o&&o.active!==!1&&Wt(o,null,14)}}finally{Et=0,ze.length=0,va(),sn=!1,ls=null,(ze.length||ko.length)&&ka()}}function Fc(t,e,...o){if(t.isUnmounted)return;const n=t.vnode.props||Ee;let i=o;const s=e.startsWith("update:"),r=s&&e.slice(7);if(r&&r in n){const d=`${r==="modelValue"?"model":r}Modifiers`,{number:u,trim:h}=n[d]||Ee;h&&(i=o.map(p=>Me(p)?p.trim():p)),u&&(i=o.map($l))}let a,l=n[a=ui(e)]||n[a=ui(Ct(e))];!l&&s&&(l=n[a=ui(No(e))]),l&&pt(l,t,6,i);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,pt(c,t,6,i)}}function ya(t,e,o=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let r={},a=!1;if(!ie(t)){const l=c=>{const d=ya(c,e,!0);d&&(a=!0,Pe(r,d))};!o&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ye(t)&&n.set(t,null),null):(oe(s)?s.forEach(l=>r[l]=null):Pe(r,s),ye(t)&&n.set(t,r),r)}function ti(t,e){return!t||!qn(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,No(e))||ae(t,e))}let Ke=null,wa=null;function Fn(t){const e=Ke;return Ke=t,wa=t&&t.type.__scopeId||null,e}function cs(t,e=Ke,o){if(!e||t._n)return t;const n=(...i)=>{n._d&&nr(-1);const s=Fn(e);let r;try{r=t(...i)}finally{Fn(s),n._d&&nr(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function fi(t){const{type:e,vnode:o,proxy:n,withProxy:i,props:s,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:u,data:h,setupState:p,ctx:f,inheritAttrs:C}=t;let m,x;const E=Fn(t);try{if(o.shapeFlag&4){const w=i||n;m=xt(d.call(w,w,u,s,p,h,f)),x=l}else{const w=e;m=xt(w.length>1?w(s,{attrs:l,slots:a,emit:c}):w(s,null)),x=e.props?l:Hc(l)}}catch(w){Zo.length=0,bn(w,t,1),m=le(qt)}let y=m;if(x&&C!==!1){const w=Object.keys(x),{shapeFlag:S}=y;w.length&&S&7&&(r&&w.some(Gi)&&(x=jc(x,r)),y=_o(y,x))}return o.dirs&&(y=_o(y),y.dirs=y.dirs?y.dirs.concat(o.dirs):o.dirs),o.transition&&(y.transition=o.transition),m=y,Fn(E),m}const Hc=t=>{let e;for(const o in t)(o==="class"||o==="style"||qn(o))&&((e||(e={}))[o]=t[o]);return e},jc=(t,e)=>{const o={};for(const n in t)(!Gi(n)||!(n.slice(9)in e))&&(o[n]=t[n]);return o};function $c(t,e,o){const{props:n,children:i,component:s}=t,{props:r,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(o&&l>=0){if(l&1024)return!0;if(l&16)return n?Ys(n,r,c):!!r;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(r[h]!==n[h]&&!ti(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Ys(n,r,c):!0:!!r;return!1}function Ys(t,e,o){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!ti(o,s))return!0}return!1}function Uc({vnode:t,parent:e},o){for(;e&&e.subTree===t;)(t=e.vnode).el=o,e=e.parent}const zc=t=>t.__isSuspense;function Wc(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):Pc(t)}const Tn={};function to(t,e,o){return xa(t,e,o)}function xa(t,e,{immediate:o,deep:n,flush:i,onTrack:s,onTrigger:r}=Ee){var a;const l=Gl()===((a=Le)==null?void 0:a.scope)?Le:null;let c,d=!1,u=!1;if(Re(t)?(c=()=>t.value,d=Dn(t)):vo(t)?(c=()=>t,n=!0):oe(t)?(u=!0,d=t.some(w=>vo(w)||Dn(w)),c=()=>t.map(w=>{if(Re(w))return w.value;if(vo(w))return go(w);if(ie(w))return Wt(w,l,2)})):ie(t)?e?c=()=>Wt(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),pt(t,l,3,[p])}:c=ft,e&&n){const w=c;c=()=>go(w())}let h,p=w=>{h=E.onStop=()=>{Wt(w,l,4)}},f;if(Io)if(p=ft,e?o&&pt(e,l,3,[c(),u?[]:void 0,p]):c(),i==="sync"){const w=Hd();f=w.__watcherHandles||(w.__watcherHandles=[])}else return ft;let C=u?new Array(t.length).fill(Tn):Tn;const m=()=>{if(E.active)if(e){const w=E.run();(n||d||(u?w.some((S,_)=>on(S,C[_])):on(w,C)))&&(h&&h(),pt(e,l,3,[w,C===Tn?void 0:u&&C[0]===Tn?[]:C,p]),C=w)}else E.run()};m.allowRecurse=!!e;let x;i==="sync"?x=m:i==="post"?x=()=>qe(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),x=()=>ei(m));const E=new os(c,x);e?o?m():C=E.run():i==="post"?qe(E.run.bind(E),l&&l.suspense):E.run();const y=()=>{E.stop(),l&&l.scope&&Ji(l.scope.effects,E)};return f&&f.push(y),y}function Kc(t,e,o){const n=this.proxy,i=Me(t)?t.includes(".")?Ea(n,t):()=>n[t]:t.bind(n,n);let s;ie(e)?s=e:(s=e.handler,o=e);const r=Le;Bo(this);const a=xa(i,s.bind(n),o);return r?Bo(r):oo(),a}function Ea(t,e){const o=e.split(".");return()=>{let n=t;for(let i=0;i<o.length&&n;i++)n=n[o[i]];return n}}function go(t,e){if(!ye(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Re(t))go(t.value,e);else if(oe(t))for(let o=0;o<t.length;o++)go(t[o],e);else if(Kr(t)||bo(t))t.forEach(o=>{go(o,e)});else if(Vr(t))for(const o in t)go(t[o],e);return t}function Xt(t,e,o,n){const i=t.dirs,s=e&&e.dirs;for(let r=0;r<i.length;r++){const a=i[r];s&&(a.oldValue=s[r].value);let l=a.dir[n];l&&(Po(),pt(l,o,8,[t.el,a,t,e]),Do())}}function Xe(t,e){return ie(t)?(()=>Pe({name:t.name},e,{setup:t}))():t}const Vo=t=>!!t.type.__asyncLoader;function qc(t){ie(t)&&(t={loader:t});const{loader:e,loadingComponent:o,errorComponent:n,delay:i=200,timeout:s,suspensible:r=!0,onError:a}=t;let l=null,c,d=0;const u=()=>(d++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),a)return new Promise((C,m)=>{a(f,()=>C(u()),()=>m(f),d+1)});throw f}).then(f=>p!==l&&l?l:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),c=f,f)))};return Xe({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const p=Le;if(c)return()=>pi(c,p);const f=E=>{l=null,bn(E,p,13,!n)};if(r&&p.suspense||Io)return h().then(E=>()=>pi(E,p)).catch(E=>(f(E),()=>n?le(n,{error:E}):null));const C=he(!1),m=he(),x=he(!!i);return i&&setTimeout(()=>{x.value=!1},i),s!=null&&setTimeout(()=>{if(!C.value&&!m.value){const E=new Error(`Async component timed out after ${s}ms.`);f(E),m.value=E}},s),h().then(()=>{C.value=!0,p.parent&&ds(p.parent.vnode)&&ei(p.parent.update)}).catch(E=>{f(E),m.value=E}),()=>{if(C.value&&c)return pi(c,p);if(m.value&&n)return le(n,{error:m.value});if(o&&!x.value)return le(o)}}})}function pi(t,e){const{ref:o,props:n,children:i,ce:s}=e.vnode,r=le(t,n,i);return r.ref=o,r.ce=s,delete e.vnode.ce,r}const ds=t=>t.type.__isKeepAlive;function Yc(t,e){Ca(t,"a",e)}function Vc(t,e){Ca(t,"da",e)}function Ca(t,e,o=Le){const n=t.__wdc||(t.__wdc=()=>{let i=o;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(oi(e,n,o),o){let i=o.parent;for(;i&&i.parent;)ds(i.parent.vnode)&&Xc(n,e,o,i),i=i.parent}}function Xc(t,e,o,n){const i=oi(e,t,n,!0);us(()=>{Ji(n[e],i)},o)}function oi(t,e,o=Le,n=!1){if(o){const i=o[t]||(o[t]=[]),s=e.__weh||(e.__weh=(...r)=>{if(o.isUnmounted)return;Po(),Bo(o);const a=pt(e,o,t,r);return oo(),Do(),a});return n?i.unshift(s):i.push(s),s}}const Pt=t=>(e,o=Le)=>(!Io||t==="sp")&&oi(t,(...n)=>e(...n),o),Zc=Pt("bm"),Fo=Pt("m"),Gc=Pt("bu"),Jc=Pt("u"),Qc=Pt("bum"),us=Pt("um"),ed=Pt("sp"),td=Pt("rtg"),od=Pt("rtc");function nd(t,e=Le){oi("ec",t,e)}const Sa="components",Ta=Symbol.for("v-ndc");function id(t){return Me(t)?sd(Sa,t,!1)||t:t||Ta}function sd(t,e,o=!0,n=!1){const i=Ke||Le;if(i){const s=i.type;if(t===Sa){const a=Pd(s,!1);if(a&&(a===e||a===Ct(e)||a===Xn(Ct(e))))return s}const r=Vs(i[t]||s[t],e)||Vs(i.appContext[t],e);return!r&&n?s:r}}function Vs(t,e){return t&&(t[e]||t[Ct(e)]||t[Xn(Ct(e))])}function rd(t,e,o,n){let i;const s=o&&o[n];if(oe(t)||Me(t)){i=new Array(t.length);for(let r=0,a=t.length;r<a;r++)i[r]=e(t[r],r,void 0,s&&s[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,s&&s[r])}else if(ye(t))if(t[Symbol.iterator])i=Array.from(t,(r,a)=>e(r,a,void 0,s&&s[a]));else{const r=Object.keys(t);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];i[a]=e(t[c],c,a,s&&s[a])}}else i=[];return o&&(o[n]=i),i}function ad(t,e,o={},n,i){if(Ke.isCE||Ke.parent&&Vo(Ke.parent)&&Ke.parent.isCE)return e!=="default"&&(o.name=e),le("slot",o,n&&n());let s=t[e];s&&s._c&&(s._d=!1),Ne();const r=s&&_a(s(o)),a=Vt(Je,{key:o.key||r&&r.key||`_${e}`},r||(n?n():[]),r&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function _a(t){return t.some(e=>$n(e)?!(e.type===qt||e.type===Je&&!_a(e.children)):!0)?t:null}const Mi=t=>t?Ha(t)?bs(t)||t.proxy:Mi(t.parent):null,Xo=Pe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mi(t.parent),$root:t=>Mi(t.root),$emit:t=>t.emit,$options:t=>hs(t),$forceUpdate:t=>t.f||(t.f=()=>ei(t.update)),$nextTick:t=>t.n||(t.n=ma.bind(t.proxy)),$watch:t=>Kc.bind(t)}),gi=(t,e)=>t!==Ee&&!t.__isScriptSetup&&ae(t,e),ld={get({_:t},e){const{ctx:o,setupState:n,data:i,props:s,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return i[e];case 4:return o[e];case 3:return s[e]}else{if(gi(n,e))return r[e]=1,n[e];if(i!==Ee&&ae(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&ae(c,e))return r[e]=3,s[e];if(o!==Ee&&ae(o,e))return r[e]=4,o[e];Ai&&(r[e]=0)}}const d=Xo[e];let u,h;if(d)return e==="$attrs"&&Ve(t,"get",e),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(o!==Ee&&ae(o,e))return r[e]=4,o[e];if(h=l.config.globalProperties,ae(h,e))return h[e]},set({_:t},e,o){const{data:n,setupState:i,ctx:s}=t;return gi(i,e)?(i[e]=o,!0):n!==Ee&&ae(n,e)?(n[e]=o,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=o,!0)},has({_:{data:t,setupState:e,accessCache:o,ctx:n,appContext:i,propsOptions:s}},r){let a;return!!o[r]||t!==Ee&&ae(t,r)||gi(e,r)||(a=s[0])&&ae(a,r)||ae(n,r)||ae(Xo,r)||ae(i.config.globalProperties,r)},defineProperty(t,e,o){return o.get!=null?t._.accessCache[e]=0:ae(o,"value")&&this.set(t,e,o.value,null),Reflect.defineProperty(t,e,o)}};function Xs(t){return oe(t)?t.reduce((e,o)=>(e[o]=null,e),{}):t}let Ai=!0;function cd(t){const e=hs(t),o=t.proxy,n=t.ctx;Ai=!1,e.beforeCreate&&Zs(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:r,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:p,updated:f,activated:C,deactivated:m,beforeDestroy:x,beforeUnmount:E,destroyed:y,unmounted:w,render:S,renderTracked:_,renderTriggered:O,errorCaptured:b,serverPrefetch:v,expose:M,inheritAttrs:R,components:A,directives:B,filters:U}=e;if(c&&dd(c,n,null),r)for(const j in r){const X=r[j];ie(X)&&(n[j]=X.bind(o))}if(i){const j=i.call(o,o);ye(j)&&(t.data=Jn(j))}if(Ai=!0,s)for(const j in s){const X=s[j],me=ie(X)?X.bind(o,o):ie(X.get)?X.get.bind(o,o):ft,Ae=!ie(X)&&ie(X.set)?X.set.bind(o):ft,De=ct({get:me,set:Ae});Object.defineProperty(n,j,{enumerable:!0,configurable:!0,get:()=>De.value,set:Ce=>De.value=Ce})}if(a)for(const j in a)Ba(a[j],n,o,j);if(l){const j=ie(l)?l.call(o):l;Reflect.ownKeys(j).forEach(X=>{Mn(X,j[X])})}d&&Zs(d,t,"c");function z(j,X){oe(X)?X.forEach(me=>j(me.bind(o))):X&&j(X.bind(o))}if(z(Zc,u),z(Fo,h),z(Gc,p),z(Jc,f),z(Yc,C),z(Vc,m),z(nd,b),z(od,_),z(td,O),z(Qc,E),z(us,w),z(ed,v),oe(M))if(M.length){const j=t.exposed||(t.exposed={});M.forEach(X=>{Object.defineProperty(j,X,{get:()=>o[X],set:me=>o[X]=me})})}else t.exposed||(t.exposed={});S&&t.render===ft&&(t.render=S),R!=null&&(t.inheritAttrs=R),A&&(t.components=A),B&&(t.directives=B)}function dd(t,e,o=ft){oe(t)&&(t=Oi(t));for(const n in t){const i=t[n];let s;ye(i)?"default"in i?s=Lt(i.from||n,i.default,!0):s=Lt(i.from||n):s=Lt(i),Re(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):e[n]=s}}function Zs(t,e,o){pt(oe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,o)}function Ba(t,e,o,n){const i=n.includes(".")?Ea(o,n):()=>o[n];if(Me(t)){const s=e[t];ie(s)&&to(i,s)}else if(ie(t))to(i,t.bind(o));else if(ye(t))if(oe(t))t.forEach(s=>Ba(s,e,o,n));else{const s=ie(t.handler)?t.handler.bind(o):e[t.handler];ie(s)&&to(i,s,t)}}function hs(t){const e=t.type,{mixins:o,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:r}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!o&&!n?l=e:(l={},i.length&&i.forEach(c=>Hn(l,c,r,!0)),Hn(l,e,r)),ye(e)&&s.set(e,l),l}function Hn(t,e,o,n=!1){const{mixins:i,extends:s}=e;s&&Hn(t,s,o,!0),i&&i.forEach(r=>Hn(t,r,o,!0));for(const r in e)if(!(n&&r==="expose")){const a=ud[r]||o&&o[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const ud={data:Gs,props:Js,emits:Js,methods:Ko,computed:Ko,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Ko,directives:Ko,watch:fd,provide:Gs,inject:hd};function Gs(t,e){return e?t?function(){return Pe(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function hd(t,e){return Ko(Oi(t),Oi(e))}function Oi(t){if(oe(t)){const e={};for(let o=0;o<t.length;o++)e[t[o]]=t[o];return e}return t}function We(t,e){return t?[...new Set([].concat(t,e))]:e}function Ko(t,e){return t?Pe(Object.create(null),t,e):e}function Js(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:Pe(Object.create(null),Xs(t),Xs(e??{})):e}function fd(t,e){if(!t)return e;if(!e)return t;const o=Pe(Object.create(null),t);for(const n in e)o[n]=We(t[n],e[n]);return o}function Ia(){return{app:null,config:{isNativeTag:Nl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pd=0;function gd(t,e){return function(n,i=null){ie(n)||(n=Pe({},n)),i!=null&&!ye(i)&&(i=null);const s=Ia(),r=new Set;let a=!1;const l=s.app={_uid:pd++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:jd,get config(){return s.config},set config(c){},use(c,...d){return r.has(c)||(c&&ie(c.install)?(r.add(c),c.install(l,...d)):ie(c)&&(r.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,u){if(!a){const h=le(n,i);return h.appContext=s,d&&e?e(h,c):t(h,c,u),a=!0,l._container=c,c.__vue_app__=l,bs(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){jn=l;try{return c()}finally{jn=null}}};return l}}let jn=null;function Mn(t,e){if(Le){let o=Le.provides;const n=Le.parent&&Le.parent.provides;n===o&&(o=Le.provides=Object.create(n)),o[t]=e}}function Lt(t,e,o=!1){const n=Le||Ke;if(n||jn){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:jn._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return o&&ie(e)?e.call(n&&n.proxy):e}}function md(t,e,o,n=!1){const i={},s={};Nn(s,ii,1),t.propsDefaults=Object.create(null),Ma(t,e,i,s);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);o?t.props=n?i:aa(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bd(t,e,o,n){const{props:i,attrs:s,vnode:{patchFlag:r}}=t,a=ce(i),[l]=t.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(ti(t.emitsOptions,h))continue;const p=e[h];if(l)if(ae(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const f=Ct(h);i[f]=Li(l,a,f,p,t,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{Ma(t,e,i,s)&&(c=!0);let d;for(const u in a)(!e||!ae(e,u)&&((d=No(u))===u||!ae(e,d)))&&(l?o&&(o[u]!==void 0||o[d]!==void 0)&&(i[u]=Li(l,a,u,void 0,t,!0)):delete i[u]);if(s!==a)for(const u in s)(!e||!ae(e,u))&&(delete s[u],c=!0)}c&&Rt(t,"set","$attrs")}function Ma(t,e,o,n){const[i,s]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(In(l))continue;const c=e[l];let d;i&&ae(i,d=Ct(l))?!s||!s.includes(d)?o[d]=c:(a||(a={}))[d]=c:ti(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(s){const l=ce(o),c=a||Ee;for(let d=0;d<s.length;d++){const u=s[d];o[u]=Li(i,l,u,c[u],t,!ae(c,u))}}return r}function Li(t,e,o,n,i,s){const r=t[o];if(r!=null){const a=ae(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ie(l)){const{propsDefaults:c}=i;o in c?n=c[o]:(Bo(i),n=c[o]=l.call(null,e),oo())}else n=l}r[0]&&(s&&!a?n=!1:r[1]&&(n===""||n===No(o))&&(n=!0))}return n}function Aa(t,e,o=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,r={},a=[];let l=!1;if(!ie(t)){const d=u=>{l=!0;const[h,p]=Aa(u,e,!0);Pe(r,h),p&&a.push(...p)};!o&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return ye(t)&&n.set(t,mo),mo;if(oe(s))for(let d=0;d<s.length;d++){const u=Ct(s[d]);Qs(u)&&(r[u]=Ee)}else if(s)for(const d in s){const u=Ct(d);if(Qs(u)){const h=s[d],p=r[u]=oe(h)||ie(h)?{type:h}:Pe({},h);if(p){const f=or(Boolean,p.type),C=or(String,p.type);p[0]=f>-1,p[1]=C<0||f<C,(f>-1||ae(p,"default"))&&a.push(u)}}}const c=[r,a];return ye(t)&&n.set(t,c),c}function Qs(t){return t[0]!=="$"}function er(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function tr(t,e){return er(t)===er(e)}function or(t,e){return oe(e)?e.findIndex(o=>tr(o,t)):ie(e)&&tr(e,t)?0:-1}const Oa=t=>t[0]==="_"||t==="$stable",fs=t=>oe(t)?t.map(xt):[xt(t)],vd=(t,e,o)=>{if(e._n)return e;const n=cs((...i)=>fs(e(...i)),o);return n._c=!1,n},La=(t,e,o)=>{const n=t._ctx;for(const i in t){if(Oa(i))continue;const s=t[i];if(ie(s))e[i]=vd(i,s,n);else if(s!=null){const r=fs(s);e[i]=()=>r}}},Ra=(t,e)=>{const o=fs(e);t.slots.default=()=>o},kd=(t,e)=>{if(t.vnode.shapeFlag&32){const o=e._;o?(t.slots=ce(e),Nn(e,"_",o)):La(e,t.slots={})}else t.slots={},e&&Ra(t,e);Nn(t.slots,ii,1)},yd=(t,e,o)=>{const{vnode:n,slots:i}=t;let s=!0,r=Ee;if(n.shapeFlag&32){const a=e._;a?o&&a===1?s=!1:(Pe(i,e),!o&&a===1&&delete i._):(s=!e.$stable,La(e,i)),r=e}else e&&(Ra(t,e),r={default:1});if(s)for(const a in i)!Oa(a)&&!(a in r)&&delete i[a]};function Ri(t,e,o,n,i=!1){if(oe(t)){t.forEach((h,p)=>Ri(h,e&&(oe(e)?e[p]:e),o,n,i));return}if(Vo(n)&&!i)return;const s=n.shapeFlag&4?bs(n.component)||n.component.proxy:n.el,r=i?null:s,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Ee?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(Me(c)?(d[c]=null,ae(u,c)&&(u[c]=null)):Re(c)&&(c.value=null)),ie(l))Wt(l,a,12,[r,d]);else{const h=Me(l),p=Re(l);if(h||p){const f=()=>{if(t.f){const C=h?ae(u,l)?u[l]:d[l]:l.value;i?oe(C)&&Ji(C,s):oe(C)?C.includes(s)||C.push(s):h?(d[l]=[s],ae(u,l)&&(u[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else h?(d[l]=r,ae(u,l)&&(u[l]=r)):p&&(l.value=r,t.k&&(d[t.k]=r))};r?(f.id=-1,qe(f,o)):f()}}}const qe=Wc;function wd(t){return xd(t)}function xd(t,e){const o=Si();o.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:r,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:p=ft,insertStaticContent:f}=t,C=(g,k,T,N=null,D=null,F=null,Y=!1,W=null,K=!!k.dynamicChildren)=>{if(g===k)return;g&&!$o(g,k)&&(N=P(g),Ce(g,D,F,!0),g=null),k.patchFlag===-2&&(K=!1,k.dynamicChildren=null);const{type:H,ref:Q,shapeFlag:Z}=k;switch(H){case ni:m(g,k,T,N);break;case qt:x(g,k,T,N);break;case mi:g==null&&E(k,T,N,Y);break;case Je:A(g,k,T,N,D,F,Y,W,K);break;default:Z&1?S(g,k,T,N,D,F,Y,W,K):Z&6?B(g,k,T,N,D,F,Y,W,K):(Z&64||Z&128)&&H.process(g,k,T,N,D,F,Y,W,K,q)}Q!=null&&D&&Ri(Q,g&&g.ref,F,k||g,!k)},m=(g,k,T,N)=>{if(g==null)n(k.el=a(k.children),T,N);else{const D=k.el=g.el;k.children!==g.children&&c(D,k.children)}},x=(g,k,T,N)=>{g==null?n(k.el=l(k.children||""),T,N):k.el=g.el},E=(g,k,T,N)=>{[g.el,g.anchor]=f(g.children,k,T,N,g.el,g.anchor)},y=({el:g,anchor:k},T,N)=>{let D;for(;g&&g!==k;)D=h(g),n(g,T,N),g=D;n(k,T,N)},w=({el:g,anchor:k})=>{let T;for(;g&&g!==k;)T=h(g),i(g),g=T;i(k)},S=(g,k,T,N,D,F,Y,W,K)=>{Y=Y||k.type==="svg",g==null?_(k,T,N,D,F,Y,W,K):v(g,k,D,F,Y,W,K)},_=(g,k,T,N,D,F,Y,W)=>{let K,H;const{type:Q,props:Z,shapeFlag:ee,transition:ne,dirs:se}=g;if(K=g.el=r(g.type,F,Z&&Z.is,Z),ee&8?d(K,g.children):ee&16&&b(g.children,K,null,N,D,F&&Q!=="foreignObject",Y,W),se&&Xt(g,null,N,"created"),O(K,g,g.scopeId,Y,N),Z){for(const ge in Z)ge!=="value"&&!In(ge)&&s(K,ge,null,Z[ge],F,g.children,N,D,je);"value"in Z&&s(K,"value",null,Z.value),(H=Z.onVnodeBeforeMount)&&vt(H,N,g)}se&&Xt(g,null,N,"beforeMount");const be=(!D||D&&!D.pendingBranch)&&ne&&!ne.persisted;be&&ne.beforeEnter(K),n(K,k,T),((H=Z&&Z.onVnodeMounted)||be||se)&&qe(()=>{H&&vt(H,N,g),be&&ne.enter(K),se&&Xt(g,null,N,"mounted")},D)},O=(g,k,T,N,D)=>{if(T&&p(g,T),N)for(let F=0;F<N.length;F++)p(g,N[F]);if(D){let F=D.subTree;if(k===F){const Y=D.vnode;O(g,Y,Y.scopeId,Y.slotScopeIds,D.parent)}}},b=(g,k,T,N,D,F,Y,W,K=0)=>{for(let H=K;H<g.length;H++){const Q=g[H]=W?Ht(g[H]):xt(g[H]);C(null,Q,k,T,N,D,F,Y,W)}},v=(g,k,T,N,D,F,Y)=>{const W=k.el=g.el;let{patchFlag:K,dynamicChildren:H,dirs:Q}=k;K|=g.patchFlag&16;const Z=g.props||Ee,ee=k.props||Ee;let ne;T&&Zt(T,!1),(ne=ee.onVnodeBeforeUpdate)&&vt(ne,T,k,g),Q&&Xt(k,g,T,"beforeUpdate"),T&&Zt(T,!0);const se=D&&k.type!=="foreignObject";if(H?M(g.dynamicChildren,H,W,T,N,se,F):Y||X(g,k,W,null,T,N,se,F,!1),K>0){if(K&16)R(W,k,Z,ee,T,N,D);else if(K&2&&Z.class!==ee.class&&s(W,"class",null,ee.class,D),K&4&&s(W,"style",Z.style,ee.style,D),K&8){const be=k.dynamicProps;for(let ge=0;ge<be.length;ge++){const _e=be[ge],it=Z[_e],ao=ee[_e];(ao!==it||_e==="value")&&s(W,_e,it,ao,D,g.children,T,N,je)}}K&1&&g.children!==k.children&&d(W,k.children)}else!Y&&H==null&&R(W,k,Z,ee,T,N,D);((ne=ee.onVnodeUpdated)||Q)&&qe(()=>{ne&&vt(ne,T,k,g),Q&&Xt(k,g,T,"updated")},N)},M=(g,k,T,N,D,F,Y)=>{for(let W=0;W<k.length;W++){const K=g[W],H=k[W],Q=K.el&&(K.type===Je||!$o(K,H)||K.shapeFlag&70)?u(K.el):T;C(K,H,Q,null,N,D,F,Y,!0)}},R=(g,k,T,N,D,F,Y)=>{if(T!==N){if(T!==Ee)for(const W in T)!In(W)&&!(W in N)&&s(g,W,T[W],null,Y,k.children,D,F,je);for(const W in N){if(In(W))continue;const K=N[W],H=T[W];K!==H&&W!=="value"&&s(g,W,H,K,Y,k.children,D,F,je)}"value"in N&&s(g,"value",T.value,N.value)}},A=(g,k,T,N,D,F,Y,W,K)=>{const H=k.el=g?g.el:a(""),Q=k.anchor=g?g.anchor:a("");let{patchFlag:Z,dynamicChildren:ee,slotScopeIds:ne}=k;ne&&(W=W?W.concat(ne):ne),g==null?(n(H,T,N),n(Q,T,N),b(k.children,T,Q,D,F,Y,W,K)):Z>0&&Z&64&&ee&&g.dynamicChildren?(M(g.dynamicChildren,ee,T,D,F,Y,W),(k.key!=null||D&&k===D.subTree)&&Na(g,k,!0)):X(g,k,T,Q,D,F,Y,W,K)},B=(g,k,T,N,D,F,Y,W,K)=>{k.slotScopeIds=W,g==null?k.shapeFlag&512?D.ctx.activate(k,T,N,Y,K):U(k,T,N,D,F,Y,K):L(g,k,K)},U=(g,k,T,N,D,F,Y)=>{const W=g.component=Ad(g,N,D);if(ds(g)&&(W.ctx.renderer=q),Od(W),W.asyncDep){if(D&&D.registerDep(W,z),!g.el){const K=W.subTree=le(qt);x(null,K,k,T)}return}z(W,g,k,T,D,F,Y)},L=(g,k,T)=>{const N=k.component=g.component;if($c(g,k,T))if(N.asyncDep&&!N.asyncResolved){j(N,k,T);return}else N.next=k,Nc(N.update),N.update();else k.el=g.el,N.vnode=k},z=(g,k,T,N,D,F,Y)=>{const W=()=>{if(g.isMounted){let{next:Q,bu:Z,u:ee,parent:ne,vnode:se}=g,be=Q,ge;Zt(g,!1),Q?(Q.el=se.el,j(g,Q,Y)):Q=se,Z&&hi(Z),(ge=Q.props&&Q.props.onVnodeBeforeUpdate)&&vt(ge,ne,Q,se),Zt(g,!0);const _e=fi(g),it=g.subTree;g.subTree=_e,C(it,_e,u(it.el),P(it),g,D,F),Q.el=_e.el,be===null&&Uc(g,_e.el),ee&&qe(ee,D),(ge=Q.props&&Q.props.onVnodeUpdated)&&qe(()=>vt(ge,ne,Q,se),D)}else{let Q;const{el:Z,props:ee}=k,{bm:ne,m:se,parent:be}=g,ge=Vo(k);if(Zt(g,!1),ne&&hi(ne),!ge&&(Q=ee&&ee.onVnodeBeforeMount)&&vt(Q,be,k),Zt(g,!0),Z&&fe){const _e=()=>{g.subTree=fi(g),fe(Z,g.subTree,g,D,null)};ge?k.type.__asyncLoader().then(()=>!g.isUnmounted&&_e()):_e()}else{const _e=g.subTree=fi(g);C(null,_e,T,N,g,D,F),k.el=_e.el}if(se&&qe(se,D),!ge&&(Q=ee&&ee.onVnodeMounted)){const _e=k;qe(()=>vt(Q,be,_e),D)}(k.shapeFlag&256||be&&Vo(be.vnode)&&be.vnode.shapeFlag&256)&&g.a&&qe(g.a,D),g.isMounted=!0,k=T=N=null}},K=g.effect=new os(W,()=>ei(H),g.scope),H=g.update=()=>K.run();H.id=g.uid,Zt(g,!0),H()},j=(g,k,T)=>{k.component=g;const N=g.vnode.props;g.vnode=k,g.next=null,bd(g,k.props,N,T),yd(g,k.children,T),Po(),qs(),Do()},X=(g,k,T,N,D,F,Y,W,K=!1)=>{const H=g&&g.children,Q=g?g.shapeFlag:0,Z=k.children,{patchFlag:ee,shapeFlag:ne}=k;if(ee>0){if(ee&128){Ae(H,Z,T,N,D,F,Y,W,K);return}else if(ee&256){me(H,Z,T,N,D,F,Y,W,K);return}}ne&8?(Q&16&&je(H,D,F),Z!==H&&d(T,Z)):Q&16?ne&16?Ae(H,Z,T,N,D,F,Y,W,K):je(H,D,F,!0):(Q&8&&d(T,""),ne&16&&b(Z,T,N,D,F,Y,W,K))},me=(g,k,T,N,D,F,Y,W,K)=>{g=g||mo,k=k||mo;const H=g.length,Q=k.length,Z=Math.min(H,Q);let ee;for(ee=0;ee<Z;ee++){const ne=k[ee]=K?Ht(k[ee]):xt(k[ee]);C(g[ee],ne,T,null,D,F,Y,W,K)}H>Q?je(g,D,F,!0,!1,Z):b(k,T,N,D,F,Y,W,K,Z)},Ae=(g,k,T,N,D,F,Y,W,K)=>{let H=0;const Q=k.length;let Z=g.length-1,ee=Q-1;for(;H<=Z&&H<=ee;){const ne=g[H],se=k[H]=K?Ht(k[H]):xt(k[H]);if($o(ne,se))C(ne,se,T,null,D,F,Y,W,K);else break;H++}for(;H<=Z&&H<=ee;){const ne=g[Z],se=k[ee]=K?Ht(k[ee]):xt(k[ee]);if($o(ne,se))C(ne,se,T,null,D,F,Y,W,K);else break;Z--,ee--}if(H>Z){if(H<=ee){const ne=ee+1,se=ne<Q?k[ne].el:N;for(;H<=ee;)C(null,k[H]=K?Ht(k[H]):xt(k[H]),T,se,D,F,Y,W,K),H++}}else if(H>ee)for(;H<=Z;)Ce(g[H],D,F,!0),H++;else{const ne=H,se=H,be=new Map;for(H=se;H<=ee;H++){const Ze=k[H]=K?Ht(k[H]):xt(k[H]);Ze.key!=null&&be.set(Ze.key,H)}let ge,_e=0;const it=ee-se+1;let ao=!1,Rs=0;const jo=new Array(it);for(H=0;H<it;H++)jo[H]=0;for(H=ne;H<=Z;H++){const Ze=g[H];if(_e>=it){Ce(Ze,D,F,!0);continue}let bt;if(Ze.key!=null)bt=be.get(Ze.key);else for(ge=se;ge<=ee;ge++)if(jo[ge-se]===0&&$o(Ze,k[ge])){bt=ge;break}bt===void 0?Ce(Ze,D,F,!0):(jo[bt-se]=H+1,bt>=Rs?Rs=bt:ao=!0,C(Ze,k[bt],T,null,D,F,Y,W,K),_e++)}const Ns=ao?Ed(jo):mo;for(ge=Ns.length-1,H=it-1;H>=0;H--){const Ze=se+H,bt=k[Ze],Ps=Ze+1<Q?k[Ze+1].el:N;jo[H]===0?C(null,bt,T,Ps,D,F,Y,W,K):ao&&(ge<0||H!==Ns[ge]?De(bt,T,Ps,2):ge--)}}},De=(g,k,T,N,D=null)=>{const{el:F,type:Y,transition:W,children:K,shapeFlag:H}=g;if(H&6){De(g.component.subTree,k,T,N);return}if(H&128){g.suspense.move(k,T,N);return}if(H&64){Y.move(g,k,T,q);return}if(Y===Je){n(F,k,T);for(let Z=0;Z<K.length;Z++)De(K[Z],k,T,N);n(g.anchor,k,T);return}if(Y===mi){y(g,k,T);return}if(N!==2&&H&1&&W)if(N===0)W.beforeEnter(F),n(F,k,T),qe(()=>W.enter(F),D);else{const{leave:Z,delayLeave:ee,afterLeave:ne}=W,se=()=>n(F,k,T),be=()=>{Z(F,()=>{se(),ne&&ne()})};ee?ee(F,se,be):be()}else n(F,k,T)},Ce=(g,k,T,N=!1,D=!1)=>{const{type:F,props:Y,ref:W,children:K,dynamicChildren:H,shapeFlag:Q,patchFlag:Z,dirs:ee}=g;if(W!=null&&Ri(W,null,T,g,!0),Q&256){k.ctx.deactivate(g);return}const ne=Q&1&&ee,se=!Vo(g);let be;if(se&&(be=Y&&Y.onVnodeBeforeUnmount)&&vt(be,k,g),Q&6)kn(g.component,T,N);else{if(Q&128){g.suspense.unmount(T,N);return}ne&&Xt(g,null,k,"beforeUnmount"),Q&64?g.type.remove(g,k,T,D,q,N):H&&(F!==Je||Z>0&&Z&64)?je(H,k,T,!1,!0):(F===Je&&Z&384||!D&&Q&16)&&je(K,k,T),N&&_t(g)}(se&&(be=Y&&Y.onVnodeUnmounted)||ne)&&qe(()=>{be&&vt(be,k,g),ne&&Xt(g,null,k,"unmounted")},T)},_t=g=>{const{type:k,el:T,anchor:N,transition:D}=g;if(k===Je){ro(T,N);return}if(k===mi){w(g);return}const F=()=>{i(T),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(g.shapeFlag&1&&D&&!D.persisted){const{leave:Y,delayLeave:W}=D,K=()=>Y(T,F);W?W(g.el,F,K):K()}else F()},ro=(g,k)=>{let T;for(;g!==k;)T=h(g),i(g),g=T;i(k)},kn=(g,k,T)=>{const{bum:N,scope:D,update:F,subTree:Y,um:W}=g;N&&hi(N),D.stop(),F&&(F.active=!1,Ce(Y,g,k,T)),W&&qe(W,k),qe(()=>{g.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},je=(g,k,T,N=!1,D=!1,F=0)=>{for(let Y=F;Y<g.length;Y++)Ce(g[Y],k,T,N,D)},P=g=>g.shapeFlag&6?P(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),V=(g,k,T)=>{g==null?k._vnode&&Ce(k._vnode,null,null,!0):C(k._vnode||null,g,k,null,null,null,T),qs(),va(),k._vnode=g},q={p:C,um:Ce,m:De,r:_t,mt:U,mc:b,pc:X,pbc:M,n:P,o:t};let J,fe;return e&&([J,fe]=e(q)),{render:V,hydrate:J,createApp:gd(V,J)}}function Zt({effect:t,update:e},o){t.allowRecurse=e.allowRecurse=o}function Na(t,e,o=!1){const n=t.children,i=e.children;if(oe(n)&&oe(i))for(let s=0;s<n.length;s++){const r=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ht(i[s]),a.el=r.el),o||Na(r,a)),a.type===ni&&(a.el=r.el)}}function Ed(t){const e=t.slice(),o=[0];let n,i,s,r,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(i=o[o.length-1],t[i]<c){e[n]=i,o.push(n);continue}for(s=0,r=o.length-1;s<r;)a=s+r>>1,t[o[a]]<c?s=a+1:r=a;c<t[o[s]]&&(s>0&&(e[n]=o[s-1]),o[s]=n)}}for(s=o.length,r=o[s-1];s-- >0;)o[s]=r,r=e[r];return o}const Cd=t=>t.__isTeleport,Je=Symbol.for("v-fgt"),ni=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),Zo=[];let dt=null;function Ne(t=!1){Zo.push(dt=t?null:[])}function Sd(){Zo.pop(),dt=Zo[Zo.length-1]||null}let an=1;function nr(t){an+=t}function Pa(t){return t.dynamicChildren=an>0?dt||mo:null,Sd(),an>0&&dt&&dt.push(t),t}function St(t,e,o,n,i,s){return Pa(Ie(t,e,o,n,i,s,!0))}function Vt(t,e,o,n,i){return Pa(le(t,e,o,n,i,!0))}function $n(t){return t?t.__v_isVNode===!0:!1}function $o(t,e){return t.type===e.type&&t.key===e.key}const ii="__vInternal",Da=({key:t})=>t??null,An=({ref:t,ref_key:e,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?Me(t)||Re(t)||ie(t)?{i:Ke,r:t,k:e,f:!!o}:t:null);function Ie(t,e=null,o=null,n=0,i=null,s=t===Je?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Da(e),ref:e&&An(e),scopeId:wa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ke};return a?(gs(l,o),s&128&&t.normalize(l)):o&&(l.shapeFlag|=Me(o)?8:16),an>0&&!r&&dt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&dt.push(l),l}const le=Td;function Td(t,e=null,o=null,n=0,i=null,s=!1){if((!t||t===Ta)&&(t=qt),$n(t)){const a=_o(t,e,!0);return o&&gs(a,o),an>0&&!s&&dt&&(a.shapeFlag&6?dt[dt.indexOf(t)]=a:dt.push(a)),a.patchFlag|=-2,a}if(Dd(t)&&(t=t.__vccOpts),e){e=_d(e);let{class:a,style:l}=e;a&&!Me(a)&&(e.class=de(a)),ye(l)&&(ca(l)&&!oe(l)&&(l=Pe({},l)),e.style=Zn(l))}const r=Me(t)?1:zc(t)?128:Cd(t)?64:ye(t)?4:ie(t)?2:0;return Ie(t,e,o,n,i,r,s,!0)}function _d(t){return t?ca(t)||ii in t?Pe({},t):t:null}function _o(t,e,o=!1){const{props:n,ref:i,patchFlag:s,children:r}=t,a=e?Bd(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Da(a),ref:e&&e.ref?o&&i?oe(i)?i.concat(An(e)):[i,An(e)]:An(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Je?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_o(t.ssContent),ssFallback:t.ssFallback&&_o(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ps(t=" ",e=0){return le(ni,null,t,e)}function Fa(t="",e=!1){return e?(Ne(),Vt(qt,null,t)):le(qt,null,t)}function xt(t){return t==null||typeof t=="boolean"?le(qt):oe(t)?le(Je,null,t.slice()):typeof t=="object"?Ht(t):le(ni,null,String(t))}function Ht(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_o(t)}function gs(t,e){let o=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(oe(e))o=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),gs(t,i()),i._c&&(i._d=!0));return}else{o=32;const i=e._;!i&&!(ii in e)?e._ctx=Ke:i===3&&Ke&&(Ke.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:Ke},o=32):(e=String(e),n&64?(o=16,e=[ps(e)]):o=8);t.children=e,t.shapeFlag|=o}function Bd(...t){const e={};for(let o=0;o<t.length;o++){const n=t[o];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=de([e.class,n.class]));else if(i==="style")e.style=Zn([e.style,n.style]);else if(qn(i)){const s=e[i],r=n[i];r&&s!==r&&!(oe(s)&&s.includes(r))&&(e[i]=s?[].concat(s,r):r)}else i!==""&&(e[i]=n[i])}return e}function vt(t,e,o,n=null){pt(t,e,7,[o,n])}const Id=Ia();let Md=0;function Ad(t,e,o){const n=t.type,i=(e?e.appContext:t.appContext)||Id,s={uid:Md++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Aa(n,i),emitsOptions:ya(n,i),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:n.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Fc.bind(null,s),t.ce&&t.ce(s),s}let Le=null,ms,lo,ir="__VUE_INSTANCE_SETTERS__";(lo=Si()[ir])||(lo=Si()[ir]=[]),lo.push(t=>Le=t),ms=t=>{lo.length>1?lo.forEach(e=>e(t)):lo[0](t)};const Bo=t=>{ms(t),t.scope.on()},oo=()=>{Le&&Le.scope.off(),ms(null)};function Ha(t){return t.vnode.shapeFlag&4}let Io=!1;function Od(t,e=!1){Io=e;const{props:o,children:n}=t.vnode,i=Ha(t);md(t,o,i,e),kd(t,n);const s=i?Ld(t,e):void 0;return Io=!1,s}function Ld(t,e){const o=t.type;t.accessCache=Object.create(null),t.proxy=da(new Proxy(t.ctx,ld));const{setup:n}=o;if(n){const i=t.setupContext=n.length>1?Nd(t):null;Bo(t),Po();const s=Wt(n,t,0,[t.props,i]);if(Do(),oo(),qr(s)){if(s.then(oo,oo),e)return s.then(r=>{sr(t,r,e)}).catch(r=>{bn(r,t,0)});t.asyncDep=s}else sr(t,s,e)}else ja(t,e)}function sr(t,e,o){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ye(e)&&(t.setupState=pa(e)),ja(t,o)}let rr;function ja(t,e,o){const n=t.type;if(!t.render){if(!e&&rr&&!n.render){const i=n.template||hs(t).template;if(i){const{isCustomElement:s,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Pe(Pe({isCustomElement:s,delimiters:a},r),l);n.render=rr(i,c)}}t.render=n.render||ft}Bo(t),Po(),cd(t),Do(),oo()}function Rd(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,o){return Ve(t,"get","$attrs"),e[o]}}))}function Nd(t){const e=o=>{t.exposed=o||{}};return{get attrs(){return Rd(t)},slots:t.slots,emit:t.emit,expose:e}}function bs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(pa(da(t.exposed)),{get(e,o){if(o in e)return e[o];if(o in Xo)return Xo[o](t)},has(e,o){return o in e||o in Xo}}))}function Pd(t,e=!0){return ie(t)?t.displayName||t.name:t.name||e&&t.__name}function Dd(t){return ie(t)&&"__vccOpts"in t}const ct=(t,e)=>Oc(t,e,Io);function $a(t,e,o){const n=arguments.length;return n===2?ye(e)&&!oe(e)?$n(e)?le(t,null,[e]):le(t,e):le(t,null,e):(n>3?o=Array.prototype.slice.call(arguments,2):n===3&&$n(o)&&(o=[o]),le(t,e,o))}const Fd=Symbol.for("v-scx"),Hd=()=>Lt(Fd),jd="3.3.4",$d="http://www.w3.org/2000/svg",Jt=typeof document<"u"?document:null,ar=Jt&&Jt.createElement("template"),Ud={insert:(t,e,o)=>{e.insertBefore(t,o||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,o,n)=>{const i=e?Jt.createElementNS($d,t):Jt.createElement(t,o?{is:o}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Jt.createTextNode(t),createComment:t=>Jt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Jt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,o,n,i,s){const r=o?o.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),o),!(i===s||!(i=i.nextSibling)););else{ar.innerHTML=n?`<svg>${t}</svg>`:t;const a=ar.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,o)}return[r?r.nextSibling:e.firstChild,o?o.previousSibling:e.lastChild]}};function zd(t,e,o){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):o?t.setAttribute("class",e):t.className=e}function Wd(t,e,o){const n=t.style,i=Me(o);if(o&&!i){if(e&&!Me(e))for(const s in e)o[s]==null&&Ni(n,s,"");for(const s in o)Ni(n,s,o[s])}else{const s=n.display;i?e!==o&&(n.cssText=o):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const lr=/\s*!important$/;function Ni(t,e,o){if(oe(o))o.forEach(n=>Ni(t,e,n));else if(o==null&&(o=""),e.startsWith("--"))t.setProperty(e,o);else{const n=Kd(t,e);lr.test(o)?t.setProperty(No(n),o.replace(lr,""),"important"):t[n]=o}}const cr=["Webkit","Moz","ms"],bi={};function Kd(t,e){const o=bi[e];if(o)return o;let n=Ct(e);if(n!=="filter"&&n in t)return bi[e]=n;n=Xn(n);for(let i=0;i<cr.length;i++){const s=cr[i]+n;if(s in t)return bi[e]=s}return e}const dr="http://www.w3.org/1999/xlink";function qd(t,e,o,n,i){if(n&&e.startsWith("xlink:"))o==null?t.removeAttributeNS(dr,e.slice(6,e.length)):t.setAttributeNS(dr,e,o);else{const s=Yl(e);o==null||s&&!Xr(o)?t.removeAttribute(e):t.setAttribute(e,s?"":o)}}function Yd(t,e,o,n,i,s,r){if(e==="innerHTML"||e==="textContent"){n&&r(n,i,s),t[e]=o??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=o;const c=a==="OPTION"?t.getAttribute("value"):t.value,d=o??"";c!==d&&(t.value=d),o==null&&t.removeAttribute(e);return}let l=!1;if(o===""||o==null){const c=typeof t[e];c==="boolean"?o=Xr(o):o==null&&c==="string"?(o="",l=!0):c==="number"&&(o=0,l=!0)}try{t[e]=o}catch{}l&&t.removeAttribute(e)}function Vd(t,e,o,n){t.addEventListener(e,o,n)}function Xd(t,e,o,n){t.removeEventListener(e,o,n)}function Zd(t,e,o,n,i=null){const s=t._vei||(t._vei={}),r=s[e];if(n&&r)r.value=n;else{const[a,l]=Gd(e);if(n){const c=s[e]=eu(n,i);Vd(t,a,c,l)}else r&&(Xd(t,a,r,l),s[e]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;function Gd(t){let e;if(ur.test(t)){e={};let n;for(;n=t.match(ur);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):No(t.slice(2)),e]}let vi=0;const Jd=Promise.resolve(),Qd=()=>vi||(Jd.then(()=>vi=0),vi=Date.now());function eu(t,e){const o=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=o.attached)return;pt(tu(n,o.value),e,5,[n])};return o.value=t,o.attached=Qd(),o}function tu(t,e){if(oe(e)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const hr=/^on[a-z]/,ou=(t,e,o,n,i=!1,s,r,a,l)=>{e==="class"?zd(t,n,i):e==="style"?Wd(t,o,n):qn(e)?Gi(e)||Zd(t,e,o,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nu(t,e,n,i))?Yd(t,e,n,s,r,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),qd(t,e,n,i))};function nu(t,e,o,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&hr.test(e)&&ie(o)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||hr.test(e)&&Me(o)?!1:e in t}const iu=["ctrl","shift","alt","meta"],su={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>iu.some(o=>t[`${o}Key`]&&!e.includes(o))},jt=(t,e)=>(o,...n)=>{for(let i=0;i<e.length;i++){const s=su[e[i]];if(s&&s(o,e))return}return t(o,...n)},ru=Pe({patchProp:ou},Ud);let fr;function au(){return fr||(fr=wd(ru))}const lu=(...t)=>{const e=au().createApp(...t),{mount:o}=e;return e.mount=n=>{const i=cu(n);if(!i)return;const s=e._component;!ie(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const r=o(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function cu(t){return Me(t)?document.querySelector(t):t}const du=["disabled","placeholder","value","type"],uu=Xe({__name:"BaseInput",props:{disabled:{type:Boolean},placeholder:{},type:{},value:{},variant:{}},emits:["onChange"],setup(t,{emit:e}){const o=n=>{e("onChange",n)};return(n,i)=>(Ne(),St("input",{class:de([n.$style.input,n.$style[`input_${n.variant}`]]),disabled:n.disabled,placeholder:n.placeholder||"",value:n.value,type:n.type||"text",onInput:o},null,42,du))}}),hu="_input_4mb6r_2",fu="_input_border_4mb6r_10",pu="_input_flat_4mb6r_14",gu={input:hu,input_border:fu,input_flat:pu},Tt=(t,e)=>{const o=t.__vccOpts||t;for(const[n,i]of e)o[n]=i;return o},mu={$style:gu},bu=Tt(uu,[["__cssModules",mu]]),vu="modulepreload",ku=function(t,e){return new URL(t,e).href},pr={},st=function(e,o,n){if(!o||o.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(o.map(s=>{if(s=ku(s,n),s in pr)return;pr[s]=!0;const r=s.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const u=i[d];if(u.href===s&&(!r||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":vu,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((d,u)=>{c.addEventListener("load",d),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})},yu=(t,e)=>{const o=t[e];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},vs=Xe({__name:"BaseIcon",props:{name:{},width:{},height:{}},setup(t){const e=t,o=qc(()=>yu(Object.assign({"../assets/svg/arrow-left.svg":()=>st(()=>import("./arrow-left-681d779a.js"),[],import.meta.url),"../assets/svg/arrow-right.svg":()=>st(()=>import("./arrow-right-1a746c0d.js"),[],import.meta.url),"../assets/svg/copy.svg":()=>st(()=>import("./copy-b8471310.js"),[],import.meta.url),"../assets/svg/export.svg":()=>st(()=>import("./export-e0446c84.js"),[],import.meta.url),"../assets/svg/font.svg":()=>st(()=>import("./font-5259260f.js"),[],import.meta.url),"../assets/svg/image-tool.svg":()=>st(()=>import("./image-tool-f5ba7e95.js"),[],import.meta.url),"../assets/svg/image.svg":()=>st(()=>import("./image-2f62abfe.js"),[],import.meta.url),"../assets/svg/logo.svg":()=>st(()=>import("./logo-1e0b8905.js"),[],import.meta.url),"../assets/svg/plus.svg":()=>st(()=>import("./plus-e40c7273.js"),[],import.meta.url),"../assets/svg/remove-18px.svg":()=>st(()=>import("./remove-18px-6b3e42c2.js"),[],import.meta.url),"../assets/svg/remove.svg":()=>st(()=>import("./remove-bf394fb1.js"),[],import.meta.url)}),`../assets/svg/${e.name}.svg`));return(n,i)=>(Ne(),Vt(id(xe(o)),{style:{width:"width",height:"height"}}))}}),wu=["disabled"],xu=Xe({__name:"BaseButton",props:{action:{type:Function},variant:{},disabled:{type:Boolean},highlighted:{type:Boolean},iconName:{}},setup(t){return(e,o)=>(Ne(),St("button",{class:de([e.$style["base-button"],e.$style[`base-button_${e.variant}`],e.highlighted?e.$style["base-button_highlighted"]:""]),disabled:e.disabled,onClick:o[0]||(o[0]=(...n)=>e.action&&e.action(...n))},[Ie("span",{class:de(e.$style["base-button-container"])},[e.iconName?(Ne(),Vt(vs,{key:0,name:e.iconName},null,8,["name"])):Fa("",!0),ad(e.$slots,"default")],2)],10,wu))}}),Eu={"base-button":"_base-button_1dm2z_2","base-button-container":"_base-button-container_1dm2z_15","base-button_light":"_base-button_light_1dm2z_22","base-button_highlighted":"_base-button_highlighted_1dm2z_28","base-button_colored":"_base-button_colored_1dm2z_38"},Cu={$style:Eu},Un=Tt(xu,[["__cssModules",Cu]]),Ua=he(!1);class Su{get(e){return localStorage.getItem(e)}set(e,o){return localStorage.setItem(e,o)}remove(e){return localStorage.removeItem(e)}onConfigured(){return Promise.resolve("success")}}var Ut,yo,Xi,_u;class Tu{constructor(e,o){ve(this,Xi);yn(this,"namespace");ve(this,Ut,void 0);ve(this,yo,null);this.namespace=e,we(this,Ut,(o==null?void 0:o.engine)??new Su),$(this,Ut).onConfigured().then(()=>{$(this,yo)&&$(this,yo).call(this)})}async get(e){return $(this,Ut).get(e)}async set(e,o){await $(this,Ut).set(e,o)}async remove(e){await $(this,Ut).remove(e)}async onConfigured(){return new Promise(e=>{we(this,yo,e)})}}Ut=new WeakMap,yo=new WeakMap,Xi=new WeakSet,_u=function(e){return`[[${this.namespace}]]-${e}`};var kt,Qe;class Bu{constructor(e,o,n){ve(this,kt,void 0);ve(this,Qe,void 0);yn(this,"resolver");we(this,Qe,o);const i=indexedDB.open(e);i.onupgradeneeded=s=>{we(this,kt,s.target.result),$(this,kt).objectStoreNames.contains($(this,Qe))||$(this,kt).createObjectStore($(this,Qe),{...n})},i.onsuccess=s=>{we(this,kt,s.target.result),this.resolver("success")}}get(e){const i=$(this,kt).transaction($(this,Qe)).objectStore($(this,Qe)).get(e);return new Promise((s,r)=>{i.onsuccess=()=>{s(i.result)},i.onerror=()=>{console.error(`An error occurred while getting data by key "${e}". Error: ${i.error}`),r(i.error)}})}set(e,o){const i=$(this,kt).transaction($(this,Qe),"readwrite").objectStore($(this,Qe)),s={...o,id:e},r=i.put(s);return new Promise((a,l)=>{r.onsuccess=()=>{a()},r.onerror=()=>{console.error(`An error occurred while setting data by key "${e}". Error: ${r.error}`),l(r.error)}})}remove(e){const i=$(this,kt).transaction($(this,Qe)).objectStore($(this,Qe)).delete(e);return new Promise((s,r)=>{i.onsuccess=()=>{s()},i.onerror=()=>{console.error(`An error occurred while removing data by key "${e}". Error: ${i.error}`),r(i.error)}})}onConfigured(){return new Promise(e=>{this.resolver=e})}}kt=new WeakMap,Qe=new WeakMap;function Iu(t,e){return new Tu(t,e)}const Mu="pt-key",Au="PT-DB",Ou="slides",no=Iu(Mu,{engine:new Bu(Au,Ou,{keyPath:"id"})}),Lu=Xe({__name:"BaseHeader",setup(t){const e=he("");Fo(()=>{no.get("presentationName").then(s=>{s!=null&&s.data&&(e.value=s.data)})});function o(s){var r;e.value=(r=s.target)==null?void 0:r.value.trim(),no.set("presentationName",{data:e.value})}function n(){}function i(){document.addEventListener("fullscreenchange",()=>{Ua.value=!!document.fullscreenElement}),document.documentElement.requestFullscreen()}return(s,r)=>(Ne(),St("header",{class:de(s.$style.header)},[Ie("div",{class:de(s.$style.wrapper)},[Ie("div",{class:de(s.$style.logoContainer)},[le(vs,{name:"logo"})],2),le(bu,{placeholder:" ",value:e.value,variant:"flat",onOnChange:o},null,8,["value"])],2),Ie("div",{class:de(s.$style.wrapper)},[le(Un,{"icon-name":"export",action:n,variant:"light"}),le(Un,{"icon-name":"image",action:i,variant:"colored"},{default:cs(()=>[ps("   ")]),_:1})],2)],2))}}),Ru="_header_1uguj_2",Nu="_wrapper_1uguj_9",Pu="_logoContainer_1uguj_15",Du={header:Ru,wrapper:Nu,logoContainer:Pu},Fu={$style:Du},Hu=Tt(Lu,[["__cssModules",Fu]]),za=18,Pi=t=>`${t}px 'Manrope', system-ui, 'SF Pro Display', Roboto, Oxygen, Arial, sans-serif`,ju=[{id:"1",elements:[]}],zn=(t,e,o,n=1,i)=>{if(!(t===null||!o)){e.clearRect(0,0,t.width,t.height);for(const s of o.elements)if(s.type==="rectangle")e.fillStyle=s.color||"",e.fillRect(s.area.x*n,s.area.y*n,s.area.width*n,s.area.height*n);else if(s.type==="image"){const r=document.createElement("canvas"),a=r.getContext("2d");r.width=s.content.width,r.height=s.content.height,a==null||a.putImageData(s.content,0,0),e.drawImage(r,s.area.x*n,s.area.y*n,s.area.width*n,s.area.height*n)}else s.type==="text"&&On(s.content,s.area.x*n,s.area.y*n,e,i)}};function On(t,e,o,n,i){if(!t)return;let s=o;n.fillStyle="#383838",n.font=`normal ${Pi(i)}`,t.blocks.forEach(({type:r,data:a})=>{r==="paragraph"?($u(a.text,e,s,n,i),s=s+43):r==="list"&&a.items.forEach(l=>{n.fillText(l.content,e,s),s=s+38})})}function $u(t,e,o,n,i){let s=e;const r=o;let a=!1,l=!1,c=1;const d=new Array(t.length);for(let u=0;u<t.length;u+=c){if(c=1,a){t[u]==="/"?(d.pop(),a=!1):(d.push(t[u]),a=!1,l=!0),c=t.substring(u).indexOf(">");continue}if(l){const h=d[d.length-1],p=["bold","italic"].find(E=>E.match(h));p&&(n.font=`${p} ${Pi(i)}`);const f=t.slice(u).indexOf("<"),C=t.slice(u).slice(1,f);n.fillText(C,s,r);const{width:m,fontBoundingBoxDescent:x}=n.measureText(C);if(!p)switch(h){case"u":n.fillRect(s,r+x-i/6,m,1);break;case"s":n.fillRect(s,r+i/2-1,m,1);break}s+=n.measureText(C).width,c=C.length+5,n.font=`normal ${Pi(i)}`,l=!1;continue}t[u]==="<"?a=!0:(n.fillText(t[u],s,r),s+=n.measureText(t[u]).width)}return!1}const Be=function(){return(window.devicePixelRatio||1)/1}(),ki=157,gr=92,Uu=Xe({__name:"SlideFrame",props:{slideNumber:{},slideIndex:{},selected:{type:Boolean},slide:{}},emits:["remove"],setup(t,{emit:e}){const o=t,n=Qn(o,"slide"),i=he(),s=he(0),r=he(0);let a;Fo(()=>{const c=document.querySelector("#workspace");console.log(getComputedStyle(c).width);const d=1728;s.value=ki/d*Be,r.value=za*s.value,i.value.width=ki*Be,i.value.height=gr*Be,i.value.style.width=ki+"px",i.value.style.height=gr+"px",a=i.value.getContext("2d",{willReadFrequently:!0}),a.setTransform(Be,0,0,Be,0,0),zn(i.value,a,n.value,s.value,r.value)});const l=()=>{e("remove",o.slideIndex)};return to(n,()=>{zn(i.value,a,n.value,s.value,r.value)},{deep:!0}),(c,d)=>(Ne(),St("div",{class:de([c.$style.containerSlide])},[Ie("div",{class:de([c.$style.wrapper])},[Ie("div",{class:de([c.$style.slideNumber])},Vl(c.slideNumber),3),Ie("button",{class:de([c.$style.btnRemove]),onClick:l},[le(vs,{name:"remove"})],2)],2),Ie("div",{class:de([c.$style.miniature,c.selected?c.$style.selected:""])},[Ie("canvas",{ref_key:"canvas",ref:i,class:de(c.$style.miniCanvas)},null,2)],2)],2))}}),zu="_btnRemove_1ijqg_2",Wu="_containerSlide_1ijqg_8",Ku="_slideNumber_1ijqg_20",qu="_miniature_1ijqg_26",Yu="_selected_1ijqg_49",Vu="_miniCanvas_1ijqg_58",Xu={btnRemove:zu,containerSlide:Wu,slideNumber:Ku,miniature:qu,selected:Yu,miniCanvas:Vu},Zu={$style:Xu},Gu=Tt(Uu,[["__cssModules",Zu],["__scopeId","data-v-ce19a84c"]]);function Ju(){const t=Math.floor(Math.random()*1e9);return String(t)}const Qu=Xe({__name:"SlidesContainer",props:{slides:{},currentSlideId:{}},emits:["selectSlide","removeSlide"],setup(t,{emit:e}){const n=Qn(t,"slides");function i(f){e("selectSlide",f)}function s(){n.value.push({id:Ju(),elements:[]}),nt.save()}const r=f=>{e("removeSlide",f)},a=he(-1),l=(f,C)=>{C.dataTransfer.setData("Text",f.toString()),C.dataTransfer.dropEffect="move",a.value=f},c=(f,C)=>{const x=C.target.className.includes("miniature");a.value!==f&&x&&(C.target.style.backgroundColor="#e3e3e3")},d=(f,C)=>{C.target.style.backgroundColor="white"},u=()=>{a.value=-1},h=(f,C)=>{C!==-1&&(n.value.splice(C,0,n.value.splice(f,1)[0]),nt.save())},p=(f,C)=>{h(a.value,f),C.target.style.backgroundColor="white"};return(f,C)=>(Ne(),St("div",{class:de(f.$style.container)},[le(Un,{"icon-name":"plus",action:s,variant:"light",class:de([f.$style.button])},{default:cs(()=>[ps("  ")]),_:1},8,["class"]),Ie("div",{class:de(f.$style.slidesContainer)},[(Ne(!0),St(Je,null,rd(n.value,(m,x)=>(Ne(),Vt(Gu,{class:de(f.$style.slideItem),key:m.id,"slide-index":m.id,slideNumber:x+1,selected:f.currentSlideId===m.id,slide:m,onMousedown:E=>i(m.id),draggable:"true",onDragstart:E=>l(x,E),onDragenter:[E=>c(x,E),C[1]||(C[1]=jt(()=>{},["prevent"]))],onDragleave:E=>d(x,E),onDragend:u,onDrop:E=>p(x,E),onDragover:C[0]||(C[0]=jt(()=>{},["prevent"])),onRemove:r},null,8,["class","slide-index","slideNumber","selected","slide","onMousedown","onDragstart","onDragenter","onDragleave","onDrop"]))),128))],2)],2))}}),eh="_container_tuere_2",th="_button_tuere_10",oh="_slidesContainer_tuere_15",nh="_slideItem_tuere_20",ih={container:eh,button:th,slidesContainer:oh,slideItem:nh},sh={$style:ih},rh=Tt(Qu,[["__cssModules",sh]]);class Wa{constructor(){yn(this,"isMouseInShape",(e,o,n)=>{const{x:i,y:s,height:r,width:a}=n,l=i,c=s,d=i+a,u=s+r;return e>l&&e<d&&o>c&&o<u})}}var dn,un,wo,hn;class ah{constructor(e){ve(this,dn,he(null));ve(this,un,[]);ve(this,wo,he(!1));ve(this,hn,void 0);we(this,un,e),we(this,hn,new Wa)}drag(e,o){let n=0;for(const i of $(this,un)){if($(this,hn).isMouseInShape(e,o,i)){this.currentPointIndex=n,$(this,wo).value=!0;return}n++}}move(e,o,n){this.currentPointIndex===0&&(e.area.x+=o,e.area.y+=n,e.area.width-=o,e.area.height-=n),this.currentPointIndex===1&&(e.area.width+=o,e.area.y+=n,e.area.height-=n),this.currentPointIndex===2&&(e.area.width+=o,e.area.height+=n),this.currentPointIndex===3&&(e.area.x+=o,e.area.width-=o,e.area.height+=n),this.currentPointIndex===4&&(e.area.y+=n,e.area.height-=n),this.currentPointIndex===5&&(e.area.width+=o),this.currentPointIndex===6&&(e.area.height+=n),this.currentPointIndex===7&&(e.area.x+=o,e.area.width-=o)}drop(){this.isResizing&&(this.isResizing=!1),this.currentPointIndex=null}get currentPointIndex(){return $(this,dn).value}set currentPointIndex(e){$(this,dn).value=e}get isResizing(){return $(this,wo).value}set isResizing(e){$(this,wo).value=e}}dn=new WeakMap,un=new WeakMap,wo=new WeakMap,hn=new WeakMap;var xo,fn,pn,Eo;class lh{constructor(e){ve(this,xo,he(!1));ve(this,fn,he(null));ve(this,pn,void 0);ve(this,Eo,void 0);we(this,pn,new Wa),we(this,Eo,e)}drag(e,o){if(!$(this,Eo))return;let n=0;for(const i of $(this,Eo))$(this,pn).isMouseInShape(e,o,i.area)&&(this.currentElementIndex=n,$(this,xo).value=!0),n++}move(e,o,n){e.area.x+=o,e.area.y+=n}drop(){this.isDragging&&(this.isDragging=!1)}get currentElementIndex(){return $(this,fn).value}set currentElementIndex(e){$(this,fn).value=e}get isDragging(){return $(this,xo).value}set isDragging(e){$(this,xo).value=e}}xo=new WeakMap,fn=new WeakMap,pn=new WeakMap,Eo=new WeakMap;var Co,So,yt,wt,gn,at,et;class ch{constructor(e,o,n,i){ve(this,Co,void 0);ve(this,So,void 0);ve(this,yt,void 0);ve(this,wt,void 0);ve(this,gn,void 0);ve(this,at,void 0);ve(this,et,void 0);we(this,Co,e),we(this,So,o),we(this,yt,he()),we(this,wt,he()),we(this,gn,i),we(this,et,new lh(o)),we(this,at,new ah(n))}drag(e){const o=$(this,Co).getBoundingClientRect();$(this,yt).value=e.clientX-o.left,$(this,wt).value=e.clientY-o.top,$(this,at).drag($(this,yt).value,$(this,wt).value),!$(this,at).isResizing&&$(this,et).drag($(this,yt).value,$(this,wt).value)}drop(){($(this,et).isDragging||$(this,at).isResizing)&&nt.save(),$(this,et).drop(),$(this,at).drop()}move(e){if(!$(this,et).isDragging&&!$(this,at).isResizing||!$(this,So)||!$(this,yt).value||!$(this,wt).value||$(this,et).currentElementIndex===null)return;const o=$(this,Co).getBoundingClientRect(),n=e.clientX-o.left,i=e.clientY-o.top,s=n-$(this,yt).value,r=i-$(this,wt).value,a=$(this,So)[$(this,et).currentElementIndex];$(this,at).isResizing&&$(this,at).move(a,s,r),$(this,et).isDragging&&$(this,et).move(a,s,r),$(this,gn).call(this),$(this,yt).value=n,$(this,wt).value=i}}Co=new WeakMap,So=new WeakMap,yt=new WeakMap,wt=new WeakMap,gn=new WeakMap,at=new WeakMap,et=new WeakMap;const Te=he({addImage:void 0,addRectangle:void 0,deleteElement:void 0,isTextEdit:!1,isDeleteElement:!1,fullScreenToggle:void 0});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yi(){}Object.assign(yi,{default:yi,register:yi,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let o=e.length;for(;--o>=0&&e.item(o)!==this;);return o>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(o=>{const n=o instanceof Node;e.appendChild(n?o:document.createTextNode(o))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,o=window.getComputedStyle(e,null),n=parseInt(o.getPropertyValue("border-top-width")),i=parseInt(o.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,r=this.offsetTop-e.offsetTop+this.clientHeight-n>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,c=s&&!r;(s||r)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-n+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(s||r||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let uh=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,o)=>(o&=63,o<36?e+=o.toString(36):o<62?e+=(o-26).toString(36).toUpperCase():o>62?e+="-":e+="_",e),"");var Ka=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Ka||{});const te={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},hh={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function vn(t,e,o="log",n,i="color: inherit"){if(!("console"in window)||!window.console[o])return;const s=["info","log","warn","error"].includes(o),r=[];switch(vn.logLevel){case"ERROR":if(o!=="error")return;break;case"WARN":if(!["error","warn"].includes(o))return;break;case"INFO":if(!s||t)return;break}n&&r.push(n);const a="Editor.js 2.28.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(s?(r.unshift(l,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{s?n?console[o](`${e} %o`,...r):console[o](e,...r):console[o](e)}catch{}}vn.logLevel="VERBOSE";function fh(t){vn.logLevel=t}const ue=vn.bind(window,!1),ut=vn.bind(window,!0);function so(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ke(t){return so(t)==="function"||so(t)==="asyncfunction"}function He(t){return so(t)==="object"}function Yt(t){return so(t)==="string"}function ph(t){return so(t)==="boolean"}function mr(t){return so(t)==="number"}function br(t){return so(t)==="undefined"}function gt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function qa(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function gh(t,e=()=>{},o=()=>{}){async function n(i,s,r){try{await i.function(i.data),await s(br(i.data)?{}:i.data)}catch{r(br(i.data)?{}:i.data)}}return t.reduce(async(i,s)=>(await i,n(s,e,o)),Promise.resolve())}function Ya(t){return Array.prototype.slice.call(t)}function Mo(t,e){return function(){const o=this,n=arguments;window.setTimeout(()=>t.apply(o,n),e)}}function mh(t){return t.name.split(".").pop()}function bh(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function vh(t,e,o){let n;return(...i)=>{const s=this,r=()=>{n=null,o||t.apply(s,i)},a=o&&!n;window.clearTimeout(n),n=window.setTimeout(r,e),a&&t.apply(s,i)}}function Di(t,e,o=void 0){let n,i,s,r=null,a=0;o||(o={});const l=function(){a=o.leading===!1?0:Date.now(),r=null,s=t.apply(n,i),r||(n=i=null)};return function(){const c=Date.now();!a&&o.leading===!1&&(a=c);const d=e-(c-a);return n=this,i=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),a=c,s=t.apply(n,i),r||(n=i=null)):!r&&o.trailing!==!1&&(r=setTimeout(l,d)),s}}function kh(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(o=>window.navigator.appVersion.toLowerCase().indexOf(o)!==-1);return e&&(t[e]=!0),t}function Ao(t){return t[0].toUpperCase()+t.slice(1)}function Fi(t,...e){if(!e.length)return t;const o=e.shift();if(He(t)&&He(o))for(const n in o)He(o[n])?(t[n]||Object.assign(t,{[n]:{}}),Fi(t[n],o[n])):Object.assign(t,{[n]:o[n]});return Fi(t,...e)}function ks(t){const e=kh();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function yh(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function wh(){return uh(10)}function xh(t){window.open(t,"_blank")}function Eh(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Hi(t,e,o){const n=`${e} is deprecated and will be removed in the next major release. Please use the ${o} instead.`;t&&ut(n,"warn")}function Ho(t,e,o){const n=o.value?"value":"get",i=o[n],s=`#${e}Cache`;if(o[n]=function(...r){return this[s]===void 0&&(this[s]=i.apply(this,...r)),this[s]},n==="get"&&o.set){const r=o.set;o.set=function(a){delete t[s],r.apply(this,a)}}return o}const Va=650;function io(){return window.matchMedia(`(max-width: ${Va}px)`).matches}const vr=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Ch(t,e){const o=Array.isArray(t)||He(t),n=Array.isArray(e)||He(e);return o||n?JSON.stringify(t)===JSON.stringify(e):t===e}class I{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,o=null,n={}){const i=document.createElement(e);Array.isArray(o)?i.classList.add(...o):o&&i.classList.add(o);for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s]);return i}static text(e){return document.createTextNode(e)}static append(e,o){Array.isArray(o)?o.forEach(n=>e.appendChild(n)):e.appendChild(o)}static prepend(e,o){Array.isArray(o)?(o=o.reverse(),o.forEach(n=>e.prepend(n))):e.prepend(o)}static swap(e,o){const n=document.createElement("div"),i=e.parentNode;i.insertBefore(n,e),i.insertBefore(e,o),i.insertBefore(o,n),i.removeChild(n)}static find(e=document,o){return e.querySelector(o)}static get(e){return document.getElementById(e)}static findAll(e=document,o){return e.querySelectorAll(o)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Ya(e.querySelectorAll(I.allInputsSelector)).reduce((o,n)=>I.isNativeInput(n)||I.containsOnlyInlineElements(n)?[...o,n]:[...o,...I.getDeepestBlockElements(n)],[])}static getDeepestNode(e,o=!1){const n=o?"lastChild":"firstChild",i=o?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[n]){let s=e[n];if(I.isSingleTag(s)&&!I.isNativeInput(s)&&!I.isLineBreakTag(s))if(s[i])s=s[i];else if(s.parentNode[i])s=s.parentNode[i];else return s.parentNode;return this.getDeepestNode(s,o)}return e}static isElement(e){return mr(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return mr(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const o=["INPUT","TEXTAREA"];return e&&e.tagName?o.includes(e.tagName):!1}static canSetCaret(e){let o=!0;if(I.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":o=!1;break}else o=I.isContentEditable(e);return o}static isNodeEmpty(e){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("",""),o.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const o=I.make("div");return o.innerHTML=e,o.childElementCount>0}static getContentLength(e){return I.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let o;Yt(e)?(o=document.createElement("div"),o.innerHTML=e):o=e;const n=i=>!I.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(n);return Array.from(o.children).every(n)}static getDeepestBlockElements(e){return I.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((o,n)=>[...o,...I.getDeepestBlockElements(n)],[])}static getHolder(e){return Yt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const o=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,s=o.top+i,r=o.left+n;return{top:s,left:r,bottom:s+o.height,right:r+o.width}}}const Sh={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},Th={Text:"",Link:"",Bold:"",Italic:""},_h={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Bh={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Xa={ui:Sh,toolNames:Th,tools:_h,blockTunes:Bh},uo=class{static ui(t,e){return uo._t(t,e)}static t(t,e){return uo._t(t,e)}static setDictionary(t){uo.currentDictionary=t}static _t(t,e){const o=uo.getNamespace(t);return!o||!o[e]?e:o[e]}static getNamespace(t){return t.split(".").reduce((e,o)=>!e||!Object.keys(e).length?{}:e[o],uo.currentDictionary)}};let Ye=uo;Ye.currentDictionary=Xa;class Za extends Error{}class ri{constructor(){this.subscribers={}}on(e,o){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(o)}once(e,o){e in this.subscribers||(this.subscribers[e]=[]);const n=i=>{const s=o(i),r=this.subscribers[e].indexOf(n);return r!==-1&&this.subscribers[e].splice(r,1),s};this.subscribers[e].push(n)}emit(e,o){gt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((n,i)=>{const s=i(n);return s!==void 0?s:n},o)}off(e,o){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let n=0;n<this.subscribers[e].length;n++)if(this.subscribers[e][n]===o){delete this.subscribers[e][n];break}}destroy(){this.subscribers={}}}function Qt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,o){return t.call(e,o)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class ys{constructor(){this.allListeners=[]}on(e,o,n,i=!1){const s=Eh("l"),r={id:s,element:e,eventType:o,handler:n,options:i};if(!this.findOne(e,o,n))return this.allListeners.push(r),e.addEventListener(o,n,i),s}off(e,o,n,i){const s=this.findAll(e,o,n);s.forEach((r,a)=>{const l=this.allListeners.indexOf(s[a]);l>-1&&(this.allListeners.splice(l,1),r.element.removeEventListener(r.eventType,r.handler,r.options))})}offById(e){const o=this.findById(e);o&&o.element.removeEventListener(o.eventType,o.handler,o.options)}findOne(e,o,n){const i=this.findAll(e,o,n);return i.length>0?i[0]:null}findAll(e,o,n){let i;const s=e?this.findByEventTarget(e):[];return e&&o&&n?i=s.filter(r=>r.eventType===o&&r.handler===n):e&&o?i=s.filter(r=>r.eventType===o):i=s,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(o=>{if(o.element===e)return o})}findByType(e){return this.allListeners.filter(o=>{if(o.eventType===e)return o})}findByHandler(e){return this.allListeners.filter(o=>{if(o.handler===e)return o})}findById(e){return this.allListeners.find(o=>o.id===e)}}class re{constructor({config:e,eventsDispatcher:o}){if(this.nodes={},this.listeners=new ys,this.readOnlyMutableListeners={on:(n,i,s,r=!1)=>{this.mutableListenerIds.push(this.listeners.on(n,i,s,r))},clearAll:()=>{for(const n of this.mutableListenerIds)this.listeners.offById(n);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===re)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=o}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const o=this.nodes[e];o instanceof HTMLElement&&o.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class G{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const o=e.anchorNode;return o?I.isElement(o)?o:o.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(G.get())}static isSelectionAtEditor(e){if(!e)return!1;let o=e.anchorNode||e.focusNode;o&&o.nodeType===Node.TEXT_NODE&&(o=o.parentNode);let n=null;return o&&o instanceof Element&&(n=o.closest(`.${G.CSS.editorZone}`)),n?n.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let o=e.startContainer;o&&o.nodeType===Node.TEXT_NODE&&(o=o.parentNode);let n=null;return o&&o instanceof Element&&(n=o.closest(`.${G.CSS.editorZone}`)),n?n.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!G.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,o,n={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,o=e.createRange(),n.x=o.boundingLeft,n.y=o.boundingTop,n.width=o.boundingWidth,n.height=o.boundingHeight,n;if(!window.getSelection)return ue("Method window.getSelection is not supported","warn"),n;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ue("Method SelectionUtils.rangeCount is not supported","warn"),n;if(e.rangeCount===0)return n;if(o=e.getRangeAt(0).cloneRange(),o.getBoundingClientRect&&(n=o.getBoundingClientRect()),n.x===0&&n.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("")),o.insertNode(i),n=i.getBoundingClientRect();const s=i.parentNode;s.removeChild(i),s.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,o=0){const n=document.createRange(),i=window.getSelection();return I.isNativeInput(e)?I.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=o,e.getBoundingClientRect()):void 0:(n.setStart(e,o),n.setEnd(e,o),i.removeAllRanges(),i.addRange(n),n.getBoundingClientRect())}static isRangeInsideContainer(e){const o=G.range;return o===null?!1:e.contains(o.startContainer)}static addFakeCursor(){const e=G.range;if(e===null)return;const o=I.make("span","codex-editor__fake-cursor");o.dataset.mutationFree="true",e.collapse(),e.insertNode(o)}static isFakeCursorInsideContainer(e){return I.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const o=I.find(e,".codex-editor__fake-cursor");o&&o.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=G.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),o=document.createRange();o.selectNodeContents(e.focusNode),o.collapse(!1),e.removeAllRanges(),e.addRange(o)}findParentTag(e,o,n=10){const i=window.getSelection();let s=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(r=>{let a=n;for(;a>0&&r.parentNode&&!(r.tagName===e&&(s=r,o&&r.classList&&!r.classList.contains(o)&&(s=null),s));)r=r.parentNode,a--}),s)}expandToTag(e){const o=window.getSelection();o.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),o.addRange(n)}}function Ih(t,e){const{type:o,target:n,addedNodes:i,removedNodes:s}=t;if(n===e)return!0;if(["characterData","attributes"].includes(o)){const l=n.nodeType===Node.TEXT_NODE?n.parentNode:n;return e.contains(l)}const r=Array.from(i).some(l=>e.contains(l)),a=Array.from(s).some(l=>e.contains(l));return r||a}const ji="redactor dom changed",Ga="block changed",Ja="fake cursor is about to be toggled",Qa="fake cursor have been set";function kr(t,e){return t.mergeable&&t.name===e.name}function Mh(t,e){const o=e==null?void 0:e.export;return ke(o)?o(t):Yt(o)?t[o]:(o!==void 0&&ue("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Ah(t,e){const o=e==null?void 0:e.import;return ke(o)?o(t):Yt(o)?{[o]:t}:(o!==void 0&&ue("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Mt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Mt||{});class Oe extends ri{constructor({id:e=wh(),data:o,tool:n,api:i,readOnly:s,tunesData:r},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,d=l instanceof InputEvent;!c&&!d&&this.detectToolRootChange(l);let u;c||d?u=!0:u=!(l.length>0&&l.every(h=>{const{addedNodes:p,removedNodes:f,target:C}=h;return[...Array.from(p),...Array.from(f),C].some(m=>I.isElement(m)?m.dataset.mutationFree==="true":!1)})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=n.name,this.id=e,this.settings=n.settings,this.config=n.settings.config||{},this.api=i,this.editorEventBus=a||null,this.blockAPI=new Qt(this),this.tool=n,this.toolInstance=n.create(o,this.blockAPI,s),this.tunes=n.tunes,this.composeTunes(r),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=I.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const o=this.inputs.findIndex(n=>n===e||n.contains(e));o!==-1&&(this.inputIndex=o)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!gt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ke(this.toolInstance.merge)}get isEmpty(){const e=I.isEmpty(this.pluginsContent),o=!this.hasMedia;return e&&o}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(Oe.CSS.focused,e)}get focused(){return this.holder.classList.contains(Oe.CSS.focused)}set selected(e){var o,n;this.holder.classList.toggle(Oe.CSS.selected,e);const i=e===!0&&G.isRangeInsideContainer(this.holder),s=e===!1&&G.isFakeCursorInsideContainer(this.holder);(i||s)&&((o=this.editorEventBus)==null||o.emit(Ja,{state:e}),i?G.addFakeCursor():G.removeFakeCursor(this.holder),(n=this.editorEventBus)==null||n.emit(Qa,{state:e}))}get selected(){return this.holder.classList.contains(Oe.CSS.selected)}set stretched(e){this.holder.classList.toggle(Oe.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Oe.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Oe.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,o){if(ke(this.toolInstance[e])){e==="appendCallback"&&ue("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,o)}catch(n){ue(`Error during '${e}' call: ${n.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),o=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([s,r])=>{if(ke(r.save))try{o[s]=r.save()}catch(a){ue(`Tune ${r.constructor.name} save method throws an Error %o`,"warn",a)}});const n=window.performance.now();let i;return Promise.resolve(e).then(s=>(i=window.performance.now(),{id:this.id,tool:this.name,data:s,tunes:o,time:i-n})).catch(s=>{ue(`Saving process for ${this.name} tool failed due to the ${s}`,"log","red")})}async validate(e){let o=!0;return this.toolInstance.validate instanceof Function&&(o=await this.toolInstance.validate(e)),o}getTunes(){const e=document.createElement("div"),o=[],n=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],i=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(s=>s.render());return[n,i].flat().forEach(s=>{I.isElement(s)?e.appendChild(s):Array.isArray(s)?o.push(...s):o.push(s)}),[o,e]}updateCurrentInput(){this.currentInput=I.isNativeInput(document.activeElement)||!G.anchorNode?document.activeElement:G.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ke(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const o=await this.data;return e.find(n=>Object.entries(n.data).some(([i,s])=>o[i]&&Ch(o[i],s)))}async exportDataAsString(){const e=await this.data;return Mh(e,this.tool.conversionConfig)}compose(){const e=I.make("div",Oe.CSS.wrapper),o=I.make("div",Oe.CSS.content),n=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=n,o.appendChild(this.toolRenderedElement);let i=o;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(s=>{if(ke(s.wrap))try{i=s.wrap(i)}catch(r){ue(`Tune ${s.constructor.name} wrap method throws an Error %o`,"warn",r)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(o=>{(o.isInternal?this.defaultTunesInstances:this.tunesInstances).set(o.name,o.create(e[o.name],this.blockAPI))}),Object.entries(e).forEach(([o,n])=>{this.tunesInstances.has(o)||(this.unavailableTunesData[o]=n)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=o=>{const{mutations:n}=o;n.some(i=>Ih(i,this.toolRenderedElement))&&this.didMutated(n)},(e=this.editorEventBus)==null||e.on(ji,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(ji,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(o=>{if(Array.from(o.removedNodes).includes(this.toolRenderedElement)){const n=o.addedNodes[o.addedNodes.length-1];this.toolRenderedElement=n}})}dropInputsCache(){this.cachedInputs=[]}}class Oh extends re{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,o={},n={},i,s,r,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:o,index:i,needToFocus:s,replace:r});return new Qt(l)},this.composeBlockData=async e=>{const o=this.Editor.Tools.blockTools.get(e);return new Oe({tool:o,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,o)=>{const{BlockManager:n}=this.Editor,i=n.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const s=await n.update(i,o);return new Qt(s)},this.convert=(e,o,n)=>{var i,s;const{BlockManager:r,Tools:a}=this.Editor,l=r.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(o);if(!d)throw new Error(`Block Tool with type "${o}" not found`);const u=((i=c==null?void 0:c.conversionConfig)==null?void 0:i.export)!==void 0,h=((s=d.conversionConfig)==null?void 0:s.import)!==void 0;if(u&&h)r.convert(l,o,n);else{const p=[u?!1:Ao(l.name),h?!1:Ao(o)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${o}" is not possible. ${p} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,o=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(o);const n=e.map(({id:i,type:s,data:r})=>this.Editor.BlockManager.composeBlock({id:i,tool:s||this.config.defaultBlock,data:r}));return this.Editor.BlockManager.insertMany(n,o),n.map(i=>new Qt(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,o)=>this.swap(e,o),move:(e,o)=>this.move(e,o),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,o=!0)=>this.stretchBlock(e,o),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const o=this.Editor.BlockManager.getBlockById(e);if(!o){ut("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(o)}getBlockByIndex(e){const o=this.Editor.BlockManager.getBlockByIndex(e);if(o===void 0){ut("There is no block at index `"+e+"`","warn");return}return new Qt(o)}getById(e){const o=this.Editor.BlockManager.getBlockById(e);return o===void 0?(ut("There is no block with id `"+e+"`","warn"),null):new Qt(o)}swap(e,o){ue("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,o)}move(e,o){this.Editor.BlockManager.move(e,o)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const o=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(o)}catch(o){ut(o,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,o=!0){Hi(!0,"blocks.stretchBlock()","BlockAPI");const n=this.Editor.BlockManager.getBlockByIndex(e);n&&(n.stretched=o)}insertNewBlock(){ue("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class Lh extends re{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,o),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,o),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,o),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,o),!0):!1,this.setToBlock=(e,o=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],o,n),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Rh extends re{get methods(){return{emit:(e,o)=>this.emit(e,o),off:(e,o)=>this.off(e,o),on:(e,o)=>this.on(e,o)}}on(e,o){this.eventsDispatcher.on(e,o)}emit(e,o){this.eventsDispatcher.emit(e,o)}off(e,o){this.eventsDispatcher.off(e,o)}}class ws extends re{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{ut("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:o=>Ye.t(ws.getNamespace(e),o)})}}class Nh extends re{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class Ph extends re{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Dh extends re{get methods(){return{on:(e,o,n,i)=>this.on(e,o,n,i),off:(e,o,n,i)=>this.off(e,o,n,i),offById:e=>this.offById(e)}}on(e,o,n,i){return this.listeners.on(e,o,n,i)}off(e,o,n,i){this.listeners.off(e,o,n,i)}offById(e){this.listeners.offById(e)}}var $i={},Fh={get exports(){return $i},set exports(t){$i=t}};(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="/",i(i.s=0)}([function(o,n,i){i(1),o.exports=function(){var s=i(6),r="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=s.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=s.confirm(l);break;case"prompt":c=s.prompt(l);break;default:c=s.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(r)}}}}()},function(o,n,i){var s=i(2);typeof s=="string"&&(s=[[o.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(4)(s,r),s.locals&&(o.exports=s.locals)},function(o,n,i){(o.exports=i(3)(!1)).push([o.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(o,n){o.exports=function(i){var s=[];return s.toString=function(){return this.map(function(r){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(f=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),p=u.sources.map(function(C){return"/*# sourceURL="+u.sourceRoot+C+" */"});return[d].concat(p).concat([h]).join(`
`)}var f;return[d].join(`
`)}(r,i);return r[2]?"@media "+r[2]+"{"+a+"}":a}).join("")},s.i=function(r,a){typeof r=="string"&&(r=[[null,r,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<r.length;c++){var u=r[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),s.push(u))}},s}},function(o,n,i){var s,r,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=s.apply(this,arguments)),r}),c=function(b){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var R=(function(A){return document.querySelector(A)}).call(this,M);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}v[M]=R}return v[M]}}(),d=null,u=0,h=[],p=i(5);function f(b,v){for(var M=0;M<b.length;M++){var R=b[M],A=a[R.id];if(A){A.refs++;for(var B=0;B<A.parts.length;B++)A.parts[B](R.parts[B]);for(;B<R.parts.length;B++)A.parts.push(w(R.parts[B],v))}else{var U=[];for(B=0;B<R.parts.length;B++)U.push(w(R.parts[B],v));a[R.id]={id:R.id,refs:1,parts:U}}}}function C(b,v){for(var M=[],R={},A=0;A<b.length;A++){var B=b[A],U=v.base?B[0]+v.base:B[0],L={css:B[1],media:B[2],sourceMap:B[3]};R[U]?R[U].parts.push(L):M.push(R[U]={id:U,parts:[L]})}return M}function m(b,v){var M=c(b.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=h[h.length-1];if(b.insertAt==="top")R?R.nextSibling?M.insertBefore(v,R.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),h.push(v);else if(b.insertAt==="bottom")M.appendChild(v);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(b.insertInto+" "+b.insertAt.before);M.insertBefore(v,A)}}function x(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var v=h.indexOf(b);v>=0&&h.splice(v,1)}function E(b){var v=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),y(v,b.attrs),m(b,v),v}function y(b,v){Object.keys(v).forEach(function(M){b.setAttribute(M,v[M])})}function w(b,v){var M,R,A,B;if(v.transform&&b.css){if(!(B=v.transform(b.css)))return function(){};b.css=B}if(v.singleton){var U=u++;M=d||(d=E(v)),R=O.bind(null,M,U,!1),A=O.bind(null,M,U,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(L){var z=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",y(z,L.attrs),m(L,z),z}(v),R=(function(L,z,j){var X=j.css,me=j.sourceMap,Ae=z.convertToAbsoluteUrls===void 0&&me;(z.convertToAbsoluteUrls||Ae)&&(X=p(X)),me&&(X+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(me))))+" */");var De=new Blob([X],{type:"text/css"}),Ce=L.href;L.href=URL.createObjectURL(De),Ce&&URL.revokeObjectURL(Ce)}).bind(null,M,v),A=function(){x(M),M.href&&URL.revokeObjectURL(M.href)}):(M=E(v),R=(function(L,z){var j=z.css,X=z.media;if(X&&L.setAttribute("media",X),L.styleSheet)L.styleSheet.cssText=j;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(j))}}).bind(null,M),A=function(){x(M)});return R(b),function(L){if(L){if(L.css===b.css&&L.media===b.media&&L.sourceMap===b.sourceMap)return;R(b=L)}else A()}}o.exports=function(b,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=l()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=C(b,v);return f(M,v),function(R){for(var A=[],B=0;B<M.length;B++){var U=M[B];(L=a[U.id]).refs--,A.push(L)}for(R&&f(C(R,v),v),B=0;B<A.length;B++){var L;if((L=A[B]).refs===0){for(var z=0;z<L.parts.length;z++)L.parts[z]();delete a[L.id]}}}};var S,_=(S=[],function(b,v){return S[b]=v,S.filter(Boolean).join(`
`)});function O(b,v,M,R){var A=M?"":R.css;if(b.styleSheet)b.styleSheet.cssText=_(v,A);else{var B=document.createTextNode(A),U=b.childNodes;U[v]&&b.removeChild(U[v]),U.length?b.insertBefore(B,U[v]):b.appendChild(B)}}},function(o,n){o.exports=function(i){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var r=s.protocol+"//"+s.host,a=r+s.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,p){return p}).replace(/^'(.*)'$/,function(h,p){return p});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(o,n,i){var s,r,a,l,c,d,u,h,p;o.exports=(s="cdx-notifies",r="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:p=function(f){var C=document.createElement("DIV"),m=document.createElement("DIV"),x=f.message,E=f.style;return C.classList.add(r),E&&C.classList.add(r+"--"+E),C.innerHTML=x,m.classList.add(a),m.addEventListener("click",C.remove.bind(C)),C.appendChild(m),C},confirm:function(f){var C=p(f),m=document.createElement("div"),x=document.createElement("button"),E=document.createElement("button"),y=C.querySelector("."+a),w=f.cancelHandler,S=f.okHandler;return m.classList.add(h),x.innerHTML=f.okText||"Confirm",E.innerHTML=f.cancelText||"Cancel",x.classList.add(u),E.classList.add(u),x.classList.add(l),E.classList.add(c),w&&typeof w=="function"&&(E.addEventListener("click",w),y.addEventListener("click",w)),S&&typeof S=="function"&&x.addEventListener("click",S),x.addEventListener("click",C.remove.bind(C)),E.addEventListener("click",C.remove.bind(C)),m.appendChild(x),m.appendChild(E),C.appendChild(m),C},prompt:function(f){var C=p(f),m=document.createElement("div"),x=document.createElement("button"),E=document.createElement("input"),y=C.querySelector("."+a),w=f.cancelHandler,S=f.okHandler;return m.classList.add(h),x.innerHTML=f.okText||"Ok",x.classList.add(u),x.classList.add(l),E.classList.add(d),f.placeholder&&E.setAttribute("placeholder",f.placeholder),f.default&&(E.value=f.default),f.inputType&&(E.type=f.inputType),w&&typeof w=="function"&&y.addEventListener("click",w),S&&typeof S=="function"&&x.addEventListener("click",function(){S(E.value)}),x.addEventListener("click",C.remove.bind(C)),m.appendChild(E),m.appendChild(x),C.appendChild(m),C},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add(s),f}})}])})})(Fh);const Hh=si($i);class jh{show(e){Hh.show(e)}}class $h extends re{constructor({config:e,eventsDispatcher:o}){super({config:e,eventsDispatcher:o}),this.notifier=new jh}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class Uh extends re{get methods(){const e=()=>this.isEnabled;return{toggle:o=>this.toggle(o),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Ui={},zh={get exports(){return Ui},set exports(t){Ui=t}};(function(t,e){(function(o,n){t.exports=n()})(dh,function(){function o(u){var h=u.tags,p=Object.keys(h),f=p.map(function(C){return typeof h[C]}).every(function(C){return C==="object"||C==="boolean"||C==="function"});if(!f)throw new Error("The configuration was invalid");this.config=u}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(u){return n.indexOf(u.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(u){return s.indexOf(u.nodeName)!==-1}o.prototype.clean=function(u){const h=document.implementation.createHTMLDocument(),p=h.createElement("div");return p.innerHTML=u,this._sanitize(h,p),p.innerHTML},o.prototype._sanitize=function(u,h){var p=a(u,h),f=p.firstChild();if(f)do{if(f.nodeType===Node.TEXT_NODE)if(f.data.trim()===""&&(f.previousElementSibling&&i(f.previousElementSibling)||f.nextElementSibling&&i(f.nextElementSibling))){h.removeChild(f),this._sanitize(u,h);break}else continue;if(f.nodeType===Node.COMMENT_NODE){h.removeChild(f),this._sanitize(u,h);break}var C=r(f),m;C&&(m=Array.prototype.some.call(f.childNodes,i));var x=!!h.parentNode,E=i(h)&&i(f)&&x,y=f.nodeName.toLowerCase(),w=l(this.config,y,f),S=C&&m;if(S||c(f,w)||!this.config.keepNestedBlockElements&&E){if(!(f.nodeName==="SCRIPT"||f.nodeName==="STYLE"))for(;f.childNodes.length>0;)h.insertBefore(f.childNodes[0],f);h.removeChild(f),this._sanitize(u,h);break}for(var _=0;_<f.attributes.length;_+=1){var O=f.attributes[_];d(O,w,f)&&(f.removeAttribute(O.name),_=_-1)}this._sanitize(u,f)}while(f=p.nextSibling())};function a(u,h){return u.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,h,p){return typeof u.tags[h]=="function"?u.tags[h](p):u.tags[h]}function c(u,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function d(u,h,p){var f=u.name.toLowerCase();return h===!0?!1:typeof h[f]=="function"?!h[f](u.value,p):typeof h[f]>"u"||h[f]===!1?!0:typeof h[f]=="string"?h[f]!==u.value:!1}return o})})(zh);const Wh=Ui;function el(t,e){return t.map(o=>{const n=ke(e)?e(o.tool):e;return gt(n)||(o.data=xs(o.data,n)),o})}function Ot(t,e={}){const o={tags:e};return new Wh(o).clean(t)}function xs(t,e){return Array.isArray(t)?Kh(t,e):He(t)?qh(t,e):Yt(t)?Yh(t,e):t}function Kh(t,e){return t.map(o=>xs(o,e))}function qh(t,e){const o={};for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const i=t[n],s=Vh(e[n])?e[n]:e;o[n]=xs(i,s)}return o}function Yh(t,e){return He(e)?Ot(t,e):e===!1?Ot(t,{}):t}function Vh(t){return He(t)||ph(t)||ke(t)}class Xh extends re{get methods(){return{clean:(e,o)=>this.clean(e,o)}}clean(e,o){return Ot(e,o)}}class Zh extends re{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(ut(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class Gh extends re{get methods(){return{findParentTag:(e,o)=>this.findParentTag(e,o),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,o){return new G().findParentTag(e,o)}expandToTag(e){new G().expandToTag(e)}}class Jh extends re{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Qh extends re{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){ut("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){ut("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var zi={},ef={get exports(){return zi},set exports(t){zi=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="",i(i.s=0)}([function(o,n,i){o.exports=i(1)},function(o,n,i){i.r(n),i.d(n,"default",function(){return s});class s{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(o,n){o.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(ef);const tf=si(zi);class Es{constructor(){this.lib=new tf}destroy(){this.lib.destroy()}show(e,o,n){this.lib.show(e,o,n)}hide(e=!1){this.lib.hide(e)}onHover(e,o,n){this.lib.onHover(e,o,n)}}class of extends re{constructor({config:e,eventsDispatcher:o}){super({config:e,eventsDispatcher:o}),this.tooltip=new Es}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,o,n)=>this.show(e,o,n),hide:()=>this.hide(),onHover:(e,o,n)=>this.onHover(e,o,n)}}show(e,o,n){this.tooltip.show(e,o,n)}hide(){this.tooltip.hide()}onHover(e,o,n){this.tooltip.onHover(e,o,n)}}class nf extends re{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function tl(t,e){const o={};return Object.entries(t).forEach(([n,i])=>{if(He(i)){const s=e?`${e}.${n}`:n;Object.values(i).every(r=>Yt(r))?o[n]=s:o[n]=tl(i,s);return}o[n]=i}),o}const ht=tl(Xa);function sf(t,e){const o={};return Object.keys(t).forEach(n=>{const i=e[n];i!==void 0?o[i]=t[n]:o[n]=t[n]}),o}const rf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',ol='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',af='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',lf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',cf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',df='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',yr='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',uf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',hf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',ff='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',pf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',gf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class Se{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Se.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Se.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Se.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Se.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Se.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Se.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const o=I.make("div",Se.CSS.container);return e.name&&(o.dataset.itemName=e.name),this.nodes.icon=I.make("div",Se.CSS.icon,{innerHTML:e.icon||cf}),o.appendChild(this.nodes.icon),o.appendChild(I.make("div",Se.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&o.appendChild(I.make("div",Se.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&o.classList.add(Se.CSS.active),e.isDisabled&&o.classList.add(Se.CSS.disabled),o}enableConfirmationMode(e){const o={...this.params,...e,confirmation:e.confirmation},n=this.make(o);this.nodes.root.innerHTML=n.innerHTML,this.nodes.root.classList.add(Se.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Se.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Se.CSS.noHover),this.nodes.root.classList.add(Se.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Se.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Se.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const qo=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(qo.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(qo.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===qo.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===qo.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,I.canSetCaret(this.items[e])&&Mo(()=>G.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let ho=qo;ho.directions={RIGHT:"right",LEFT:"left"};class Nt{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=o=>{if(this.isEventReadyForHandling(o))switch(Nt.usedKeys.includes(o.keyCode)&&o.preventDefault(),o.keyCode){case te.TAB:this.handleTabPress(o);break;case te.LEFT:case te.UP:this.flipLeft();break;case te.RIGHT:case te.DOWN:this.flipRight();break;case te.ENTER:this.handleEnterPress(o);break}},this.iterator=new ho(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Nt.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[te.TAB,te.LEFT,te.RIGHT,te.ENTER,te.UP,te.DOWN]}activate(e,o){this.activated=!0,e&&this.iterator.setItems(e),o!==void 0&&this.iterator.setCursor(o),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(o=>o!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ho.directions.LEFT:ho.directions.RIGHT){case ho.directions.RIGHT:this.flipRight();break;case ho.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ke(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class Go{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:o,placeholder:n}){this.listeners=new ys,this.items=e,this.onSearch=o,this.render(n)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=I.make("div",Go.CSS.wrapper);const o=I.make("div",Go.CSS.icon,{innerHTML:ff});this.input=I.make("input",Go.CSS.input,{placeholder:e}),this.wrapper.appendChild(o),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var o;const n=((o=e.title)==null?void 0:o.toLowerCase())||"",i=this.searchQuery.toLowerCase();return n.includes(i)}}const Yo=class{lock(){vr?this.lockHard():document.body.classList.add(Yo.CSS.scrollLocked)}unlock(){vr?this.unlockHard():document.body.classList.remove(Yo.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Yo.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Yo.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let nl=Yo;nl.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var mf=Object.defineProperty,bf=Object.getOwnPropertyDescriptor,vf=(t,e,o,n)=>{for(var i=n>1?void 0:n?bf(e,o):e,s=t.length-1,r;s>=0;s--)(r=t[s])&&(i=(n?r(e,o,i):r(i))||i);return n&&i&&mf(e,o,i),i},ln=(t=>(t.Close="close",t))(ln||{});const Fe=class extends ri{constructor(t){super(),this.scopeElement=document.body,this.listeners=new ys,this.scrollLocker=new nl,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new Se(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Fe.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Fe.CSS.overlayHidden),this.nodes.popover.classList.add(Fe.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),io()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Fe.CSS.popoverOpened),this.nodes.popover.classList.remove(Fe.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Fe.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),io()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),io()&&this.scrollLocker.unlock()}make(){this.nodes.popover=I.make("div",[Fe.CSS.popover]),this.nodes.nothingFoundMessage=I.make("div",[Fe.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=I.make("div",[Fe.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=I.make("div"),this.nodes.overlay=I.make("div",[Fe.CSS.overlay,Fe.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Go({items:this.items,placeholder:this.messages.search,onSearch:(e,o)=>{this.items.forEach(i=>{const s=!o.includes(i);i.toggleHidden(s)}),this.toggleNothingFoundMessage(o.length===0),this.toggleCustomContent(e!=="");const n=e===""?this.flippableElements:o.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(n))}});const t=this.search.getElement();t.classList.add(Fe.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Fe.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Nt({items:this.flippableElements,focusedItemClass:Se.CSS.focused,allowedKeys:[te.TAB,te.UP,te.DOWN,te.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Fe.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),o=this.height,n=t.top+o,i=t.top-o,s=Math.min(window.innerHeight,e.bottom);return i<e.top||n<=s}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Fe.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Fe.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(o=>o.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(o=>{o.toggleActive(o===t)})}}};let Cs=Fe;vf([Ho],Cs.prototype,"height",1);class kf extends re{constructor(){super(...arguments),this.opened=!1,this.selection=new G,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=I.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[o,n]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Cs({searchable:!0,items:o.map(i=>this.resolveTuneAliases(i)),customContent:n,customContentFlippableItems:this.getControls(n),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ye.ui(ht.ui.popover,"Nothing found"),search:Ye.ui(ht.ui.popover,"Filter")}}),this.popover.on(ln.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,G.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(ln.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:o}=this.Editor,n=e.querySelectorAll(`.${o.classes.settingsButton}, ${I.allInputsSelector}`);return Array.from(n)}resolveTuneAliases(e){const o=sf(e,{label:"title"});return e.confirmation&&(o.confirmation=this.resolveTuneAliases(e.confirmation)),o}}class Ge extends re{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=I.make("div",[Ge.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=I.make("div",Ge.CSS.conversionToolbarTools);const e=I.make("div",Ge.CSS.conversionToolbarLabel,{textContent:Ye.ui(ht.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),I.append(this.nodes.wrapper,e),I.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ke(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Ge.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Ge.CSS.conversionToolHidden))),this.flipper.focusFirst(),ke(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Ge.CSS.conversionToolbarShowed),ke(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,o){const{BlockManager:n,BlockSelection:i,InlineToolbar:s,Caret:r}=this.Editor;n.convert(this.Editor.BlockManager.currentBlock,e,o),i.clearSelection(),this.close(),s.close(),window.requestAnimationFrame(()=>{r.setToBlock(this.Editor.BlockManager.currentBlock,r.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([o,n])=>{var i;const s=n.conversionConfig;!s||!s.import||(i=n.toolbox)==null||i.forEach(r=>this.addToolIfValid(o,r))})}addToolIfValid(e,o){gt(o)||!o.icon||this.addTool(e,o)}addTool(e,o){var n;const i=I.make("div",[Ge.CSS.conversionTool]),s=I.make("div",[Ge.CSS.conversionToolIcon]);i.dataset.tool=e,s.innerHTML=o.icon,I.append(i,s),I.append(i,I.text(Ye.t(ht.toolNames,o.title||Ao(e))));const r=(n=this.Editor.Tools.blockTools.get(e))==null?void 0:n.shortcut;if(r){const a=I.make("span",Ge.CSS.conversionToolSecondaryLabel,{innerText:ks(r)});I.append(i,a)}I.append(this.nodes.tools,i),this.tools.push({name:e,button:i,toolboxItem:o}),this.listeners.on(i,"click",async()=>{await this.replaceWithBlock(e,o.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,o=await e.getActiveToolboxEntry();function n(i,s){return i.icon===s.icon&&i.title===s.title}this.tools.forEach(i=>{let s=!1;if(o){const r=n(o,i.toolboxItem);s=i.button.dataset.tool===e.name&&r}i.button.hidden=s,i.button.classList.toggle(Ge.CSS.conversionToolHidden,s)})}enableFlipper(){this.flipper=new Nt({focusedItemClass:Ge.CSS.conversionToolFocused})}}var Wi={},yf={get exports(){return Wi},set exports(t){Wi=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="",i(i.s=0)}([function(o,n,i){function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function r(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}i.r(n);var a=function(){function l(c){var d=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),r(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[d])){u=this.commands[h]=!0;break}u||(this.keys[c[d]]=!0)}for(var p in l.supportedCommands)this.commands[p]||(this.commands[p]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(d in this.commands)this.commands[d]!==u[d]&&(h=!1);var p,f=!0;for(p in this.keys)f=f&&c.keyCode===l.keyCodes[p];h&&f&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();n.default=a}]).default})})(yf);const wf=si(Wi);class xf{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const o=new wf({name:e.name,on:e.on,callback:e.handler}),n=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...n,o])}remove(e,o){const n=this.findShortcut(e,o);if(!n)return;n.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(s=>s!==n))}findShortcut(e,o){return(this.registeredShortcuts.get(e)||[]).find(({name:n})=>n===o)}}const Oo=new xf;var Ef=Object.defineProperty,Cf=Object.getOwnPropertyDescriptor,il=(t,e,o,n)=>{for(var i=n>1?void 0:n?Cf(e,o):e,s=t.length-1,r;s>=0;s--)(r=t[s])&&(i=(n?r(e,o,i):r(i))||i);return n&&i&&Ef(e,o,i),i},Ln=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Ln||{});const sl=class extends ri{constructor({api:t,tools:e,i18nLabels:o}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=o}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Cs({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(ln.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(sl.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(ln.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,o)=>({icon:e.icon,title:Ye.t(ht.toolNames,e.title||Ao(o.name)),name:o.name,onActivate:()=>{this.toolButtonActivated(o.name,e.data)},secondaryLabel:o.shortcut?ks(o.shortcut):""});return this.toolsToBeDisplayed.reduce((e,o)=>(Array.isArray(o.toolbox)?o.toolbox.forEach(n=>{e.push(t(n,o))}):o.toolbox!==void 0&&e.push(t(o.toolbox,o)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Oo.add({name:e,on:this.api.ui.nodes.redactor,handler:o=>{o.preventDefault();const n=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(n);if(i)try{this.api.blocks.convert(i.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(n,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Oo.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const o=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(o);if(!n)return;const i=n.isEmpty?o:o+1;let s;if(e){const a=await this.api.blocks.composeBlockData(t);s=Object.assign(a,e)}const r=this.api.blocks.insert(t,s,void 0,i,void 0,n.isEmpty);r.call(Mt.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:r}),this.api.toolbar.close()}};let Ss=sl;il([Ho],Ss.prototype,"toolsToBeDisplayed",1);il([Ho],Ss.prototype,"toolboxItemsToBeDisplayed",1);const rl="block hovered";class Sf extends re{constructor({config:e,eventsDispatcher:o}){super({config:e,eventsDispatcher:o}),this.toolboxInstance=null,this.tooltip=new Es}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var o;(o=this.toolboxInstance)==null||o.close()},open:()=>{if(this.toolboxInstance===null){ue("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){ue("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var o;return(o=this.toolboxInstance)==null?void 0:o.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){ue("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const o=e.holder,{isMobile:n}=this.Editor.UI,i=e.pluginsContent,s=window.getComputedStyle(i),r=parseInt(s.paddingTop,10),a=o.offsetHeight;let l;n?l=o.offsetTop+a:l=o.offsetTop+r,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(e=this.toolboxInstance)==null||e.close(),this.Editor.BlockSettings.close())}open(e=!0){Mo(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=I.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=I.make("div",this.CSS[o])}),I.append(this.nodes.wrapper,this.nodes.content),I.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=I.make("div",this.CSS.plusButton,{innerHTML:hf}),I.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=I.make("div");e.appendChild(document.createTextNode(Ye.ui(ht.ui.toolbar.toolbox,"Add"))),e.appendChild(I.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=I.make("span",this.CSS.settingsToggler,{innerHTML:uf}),I.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,Ye.ui(ht.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),I.append(this.nodes.actions,this.makeToolbox()),I.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Ss({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ye.ui(ht.ui.popover,"Filter"),nothingFound:Ye.ui(ht.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Ln.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ln.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ln.BlockAdded,({block:e})=>{const{BlockManager:o,Caret:n}=this.Editor,i=o.getBlockById(e.id);i.inputs.length===0&&(i===o.lastBlock?(o.insertAtEnd(),n.setToBlock(o.lastBlock)):n.setToBlock(o.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var o;e.stopPropagation(),this.settingsTogglerClicked(),(o=this.toolboxInstance)!=null&&o.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),io()||this.eventsDispatcher.on(rl,e=>{var o;this.Editor.BlockSettings.opened||(o=this.toolboxInstance)!=null&&o.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var ai=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(ai||{}),Rn=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Rn||{}),al=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(al||{}),fo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(fo||{}),Ts=(t=>(t.IsInline="isInline",t.Title="title",t))(Ts||{}),ll=(t=>(t.IsTune="isTune",t))(ll||{});class _s{constructor({name:e,constructable:o,config:n,api:i,isDefault:s,isInternal:r=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=o,this.config=n,this.isDefault=s,this.isInternal=r,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ke(this.constructable.reset))return this.constructable.reset()}prepare(){if(ke(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class Tf extends re{constructor({config:e,eventsDispatcher:o}){super({config:e,eventsDispatcher:o}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=io()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Es}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1,o=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(o),this.Editor.Toolbar.close()}move(){const e=G.rect,o=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),n={x:e.x-o.left,y:e.y+e.height-o.top+this.toolbarVerticalMargin};e.width&&(n.x+=Math.floor(e.width/2));const i=n.x-this.width/2,s=n.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,s>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(n.x)+"px",this.nodes.wrapper.style.top=Math.floor(n.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,o])=>{const n=this.getToolShortcut(e);n&&Oo.remove(this.Editor.UI.nodes.redactor,n),ke(o.clear)&&o.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let o=Array.from(this.buttonsList);o.unshift(this.nodes.conversionToggler),o=o.filter(n=>!n.hidden),this.flipper.activate(o)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=I.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=I.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=I.make("div",this.CSS.buttonsWrapper),this.nodes.actions=I.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),I.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),I.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],o=G.get(),n=G.text;if(!o||!o.anchorNode||o.isCollapsed||n.length<1)return!1;const i=I.isElement(o.anchorNode)?o.anchorNode:o.anchorNode.parentElement;if(o&&e.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const s=this.Editor.BlockManager.getBlock(o.anchorNode);return s?s.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=I.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=I.make("div",this.CSS.conversionTogglerContent);const e=I.make("div",this.CSS.conversionTogglerArrow,{innerHTML:ol});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(o=>{!o&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),io()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,Ye.ui(ht.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:o}=e,n=o.name,i=o.tool.conversionConfig,s=i&&i.export;this.nodes.conversionToggler.hidden=!s,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!s);const r=await o.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||Ao(n)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();I.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=G.get(),o=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(o.tool.inlineTools.values()).forEach(n=>{this.addTool(n)}),this.recalculateWidth()}addTool(e){const o=e.create(),n=o.render();if(!n){ue("Render method must return an instance of Node","warn",e.name);return}if(n.dataset.tool=e.name,this.nodes.buttons.appendChild(n),this.toolsInstances.set(e.name,o),ke(o.renderActions)){const a=o.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(n,"click",a=>{this.toolClicked(o),a.preventDefault()});const i=this.getToolShortcut(e.name);if(i)try{this.enableShortcuts(o,i)}catch{}const s=I.make("div"),r=Ye.t(ht.toolNames,e.title||Ao(e.name));s.appendChild(I.text(r)),i&&s.appendChild(I.make("div",this.CSS.inlineToolbarShortcut,{textContent:ks(i)})),io()===!1&&this.tooltip.onHover(n,s,{placement:"top",hidingDelay:100}),o.checkState(G.get())}getToolShortcut(e){const{Tools:o}=this.Editor,n=o.inlineTools.get(e),i=o.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][al.Shortcut]:n.shortcut}enableShortcuts(e,o){Oo.add({name:o,handler:n=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(n.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const o=G.range;e.surround(o),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(G.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([o,n])=>{e[o]=n.create()}),e}enableFlipper(){this.flipper=new Nt({focusedItemClass:this.CSS.focusedButton,allowedKeys:[te.ENTER,te.TAB]})}}class _f extends re{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case te.BACKSPACE:this.backspace(e);break;case te.DELETE:this.delete(e);break;case te.ENTER:this.enter(e);break;case te.DOWN:case te.RIGHT:this.arrowRightAndDown(e);break;case te.UP:case te.LEFT:this.arrowLeftAndUp(e);break;case te.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&qa(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:o,InlineToolbar:n,ConversionToolbar:i}=this.Editor,s=o.currentBlock;if(!s)return;const r=s.isEmpty,a=s.tool.isDefault&&r,l=!r&&i.opened,c=!r&&!G.isCollapsed&&n.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const o=this.Editor.BlockManager.getBlockByChildNode(e.target);o.dropTarget=!0}dragLeave(e){const o=this.Editor.BlockManager.getBlockByChildNode(e.target);o.dropTarget=!1}handleCommandC(e){const{BlockSelection:o}=this.Editor;o.anyBlockSelected&&o.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:o,BlockManager:n,Caret:i}=this.Editor;o.anyBlockSelected&&o.copySelectedBlocks(e).then(()=>{const s=n.removeSelectedBlocks(),r=n.insertDefaultBlockAtIndex(s,!0);i.setToBlock(r,i.positions.START),o.clearSelection(e)})}enter(e){const{BlockManager:o,UI:n}=this.Editor;if(o.currentBlock.tool.isLineBreaksEnabled||n.someToolbarOpened&&n.someFlipperButtonFocused||e.shiftKey)return;let i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:o,Caret:n}=this.Editor,{currentBlock:i,previousBlock:s}=o;if(!(!G.isCollapsed||!n.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){n.navigatePrevious();return}if(s!==null){if(s.isEmpty){o.removeBlock(s);return}if(i.isEmpty){o.removeBlock(i);const r=o.currentBlock;n.setToBlock(r,n.positions.END);return}kr(i,s)?this.mergeBlocks(s,i):n.setToBlock(s,n.positions.END)}}}delete(e){const{BlockManager:o,Caret:n}=this.Editor,{currentBlock:i,nextBlock:s}=o;if(!(!G.isCollapsed||!n.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){n.navigateNext();return}if(s!==null){if(s.isEmpty){o.removeBlock(s);return}if(i.isEmpty){o.removeBlock(i),n.setToBlock(s,n.positions.START);return}kr(i,s)?this.mergeBlocks(i,s):n.setToBlock(s,n.positions.START)}}}mergeBlocks(e,o){const{BlockManager:n,Caret:i,Toolbar:s}=this.Editor;i.createShadow(e.pluginsContent),n.mergeBlocks(e,o).then(()=>{window.requestAnimationFrame(()=>{i.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),s.close()})})}arrowRightAndDown(e){const o=Nt.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===te.TAB);if(this.Editor.UI.someToolbarOpened&&o)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===te.DOWN&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===te.DOWN||e.keyCode===te.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Mo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Nt.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===te.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const o=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===te.UP&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===te.UP||e.keyCode===te.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Mo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const o=e.keyCode===te.ENTER&&this.Editor.Toolbar.toolbox.opened,n=e.keyCode===te.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===te.ENTER&&this.Editor.InlineToolbar.opened,s=e.keyCode===te.ENTER&&this.Editor.ConversionToolbar.opened,r=e.keyCode===te.TAB;return!(e.shiftKey||r||o||n||i||s)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class wi{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Ya(this.workingArea.children)}static set(e,o,n){return isNaN(Number(o))?(Reflect.set(e,o,n),!0):(e.insert(+o,n),!0)}static get(e,o){return isNaN(Number(o))?Reflect.get(e,o):e.get(+o)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,o){const n=this.blocks[o];I.swap(this.blocks[e].holder,n.holder),this.blocks[o]=this.blocks[e],this.blocks[e]=n}move(e,o){const n=this.blocks.splice(o,1)[0],i=e-1,s=Math.max(0,i),r=this.blocks[s];e>0?this.insertToDOM(n,"afterend",r):this.insertToDOM(n,"beforebegin",r),this.blocks.splice(e,0,n);const a=this.composeBlockEvent("move",{fromIndex:o,toIndex:e});n.call(Mt.MOVED,a)}insert(e,o,n=!1){if(!this.length){this.push(o);return}e>this.length&&(e=this.length),n&&(this.blocks[e].holder.remove(),this.blocks[e].call(Mt.REMOVED));const i=n?1:0;if(this.blocks.splice(e,i,o),e>0){const s=this.blocks[e-1];this.insertToDOM(o,"afterend",s)}else{const s=this.blocks[e+1];s?this.insertToDOM(o,"beforebegin",s):this.insertToDOM(o)}}replace(e,o){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(o.holder),this.blocks[e]=o}insertMany(e,o){const n=new DocumentFragment;for(const i of e)n.appendChild(i.holder);if(this.length>0){if(o>0){const i=Math.min(o-1,this.length-1);this.blocks[i].holder.after(n)}else o===0&&this.workingArea.prepend(n);this.blocks.splice(o,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(n);e.forEach(i=>i.call(Mt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Mt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Mt.REMOVED)),this.blocks.length=0}insertAfter(e,o){const n=this.blocks.indexOf(e);this.insert(n+1,o)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,o,n){o?n.holder.insertAdjacentElement(o,e.holder):this.workingArea.appendChild(e.holder),e.call(Mt.RENDERED)}composeBlockEvent(e,o){return new CustomEvent(e,{detail:o})}}const wr="block-removed",xr="block-added",Bf="block-moved",Er="block-changed";class If{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((o,n)=>{this.completed=this.completed.then(e).then(o).catch(n)})}}class Mf extends re{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new wi(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:wi.set,get:wi.get}),this.listeners.on(document,"copy",o=>this.Editor.BlockEvents.handleCommandC(o))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:o={},id:n=void 0,tunes:i={}}){const s=this.Editor.ReadOnly.isEnabled,r=this.Editor.Tools.blockTools.get(e),a=new Oe({id:n,data:o,tool:r,api:this.Editor.API,readOnly:s,tunesData:i},this.eventsDispatcher);return s||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:o=this.config.defaultBlock,data:n={},index:i,needToFocus:s=!0,replace:r=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(r?0:1));const c=this.composeBlock({id:e,tool:o,data:n,tunes:a});return r&&this.blockDidMutated(wr,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,r),this.blockDidMutated(xr,c,{index:l}),s?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,o=0){this._blocks.insertMany(e,o)}async update(e,o){const n=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},n,o),tunes:e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(Er,i,{index:s}),i}replace(e,o,n){const i=this.getBlockIndex(e);this.insert({tool:o,data:n,index:i,replace:!0})}paste(e,o,n=!1){const i=this.insert({tool:e,replace:n});try{window.requestIdleCallback(()=>{i.call(Mt.ON_PASTE,o)})}catch(s){ue(`${e}: onPaste callback call is failed`,"error",s)}return i}insertDefaultBlockAtIndex(e,o=!1){const n=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=n,this.blockDidMutated(xr,n,{index:e}),o?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,n}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,o){const n=await o.data;gt(n)||await e.mergeWith(n),this.removeBlock(o),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,o=!0){return new Promise(n=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(wr,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,o&&this.insert()),n()})}removeSelectedBlocks(){let e;for(let o=this.blocks.length-1;o>=0;o--)this.blocks[o].selected&&(this.removeBlock(this.blocks[o]),e=o);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),o=I.make("div");o.appendChild(e);const n={text:I.isEmpty(o)?"":o.innerHTML};return this.insert({data:n})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(o=>o.id===e)}getBlock(e){I.isElement(e)||(e=e.parentNode);const o=this._blocks.nodes,n=e.closest(`.${Oe.CSS.wrapper}`),i=o.indexOf(n);if(i>=0)return this._blocks[i]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const o=e.closest(`.${Oe.CSS.wrapper}`);if(!o)return;const n=o.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(n!=null&&n.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(o),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const o=e.closest(`.${Oe.CSS.wrapper}`);return this.blocks.find(n=>n.holder===o)}swap(e,o){this._blocks.swap(e,o),this.currentBlockIndex=o}move(e,o=this.currentBlockIndex){if(isNaN(e)||isNaN(o)){ue("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(o)){ue("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,o),this.currentBlockIndex=e,this.blockDidMutated(Bf,this.currentBlock,{fromIndex:o,toIndex:e})}async convert(e,o,n){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(o);if(!i)throw new Error(`Could not convert Block. Tool ${o} not found.`);const s=await e.exportDataAsString(),r=Ot(s,i.sanitizeConfig);let a=Ah(r,i.conversionConfig);n&&(a=Object.assign(a,n)),this.replace(e,i.name,a)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(e=!1){const o=new If;this.blocks.forEach(n=>{o.add(async()=>{await this.removeBlock(n,!1)})}),await o.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:o}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",n=>{o.keydown(n)}),this.readOnlyMutableListeners.on(e.holder,"keyup",n=>{o.keyup(n)}),this.readOnlyMutableListeners.on(e.holder,"dragover",n=>{o.dragOver(n)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",n=>{o.dragLeave(n)}),e.on("didMutated",n=>this.blockDidMutated(Er,n,{index:this.getBlockIndex(n)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,o,n){const i=new CustomEvent(e,{detail:{target:new Qt(o),...n}});return this.eventsDispatcher.emit(Ga,{event:i}),o}}class Af extends re{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(o=>o.selected===!0)}set allBlocksSelected(e){const{BlockManager:o}=this.Editor;o.blocks.forEach(n=>{n.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(o=>o.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new G,Oo.add({name:"CMD+A",handler:e=>{const{BlockManager:o,ReadOnly:n}=this.Editor;if(n.isEnabled){e.preventDefault(),this.selectAllBlocks();return}o.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){G.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:o}=this.Editor;let n;isNaN(e)?n=o.currentBlock:n=o.getBlockByIndex(e),n.selected=!1,this.clearCache()}clearSelection(e,o=!1){const{BlockManager:n,Caret:i,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const r=e&&e instanceof KeyboardEvent,a=r&&qa(e.keyCode);if(this.anyBlockSelected&&r&&a&&!G.isSelectionExists){const l=n.removeSelectedBlocks();n.insertDefaultBlockAtIndex(l,!0),i.setToBlock(n.currentBlock),Mo(()=>{const c=e.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||s.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}o&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const o=I.make("div");this.selectedBlocks.forEach(s=>{const r=Ot(s.holder.innerHTML,this.sanitizerConfig),a=I.make("p");a.innerHTML=r,o.appendChild(a)});const n=Array.from(o.childNodes).map(s=>s.textContent).join(`

`),i=o.innerHTML;return e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(s=>s.save())).then(s=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(s))}catch{}})}selectBlockByIndex(e){const{BlockManager:o}=this.Editor;o.clearFocused();let n;isNaN(e)?n=o.currentBlock:n=o.getBlockByIndex(e),this.selection.save(),G.get().removeAllRanges(),n.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Oo.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),I.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const o=this.Editor.BlockManager.getBlock(e.target).inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),G.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Wn extends re{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=G.get(),o=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let n=e.focusNode;if(I.isNativeInput(o))return o.selectionEnd===0;if(!e.anchorNode)return!1;let i=n.textContent.search(/\S/);i===-1&&(i=0);let s=e.focusOffset;return n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[s]?(n=n.childNodes[s],s=0):(n=n.childNodes[s-1],s=n.textContent.length)),(I.isLineBreakTag(o)||I.isEmpty(o))&&this.getHigherLevelSiblings(n,"left").every(r=>{const a=I.isLineBreakTag(r),l=r.children.length===1&&I.isLineBreakTag(r.children[0]),c=a||l;return I.isEmpty(r)&&!c})&&s===i?!0:o===null||n===o&&s<=i}get isAtEnd(){const e=G.get();let o=e.focusNode;const n=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(I.isNativeInput(n))return n.selectionEnd===n.value.length;if(!e.focusNode)return!1;let i=e.focusOffset;if(o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[i-1]?(o=o.childNodes[i-1],i=o.textContent.length):(o=o.childNodes[0],i=0)),I.isLineBreakTag(n)||I.isEmpty(n)){const r=this.getHigherLevelSiblings(o,"right");if(r.every((a,l)=>l===r.length-1&&I.isLineBreakTag(a)||I.isEmpty(a)&&!I.isLineBreakTag(a))&&i===o.textContent.length)return!0}const s=n.textContent.replace(/\s+$/,"");return o===n&&i>=s.length}setToBlock(e,o=this.positions.DEFAULT,n=0){const{BlockManager:i}=this.Editor;let s;switch(o){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const r=I.getDeepestNode(s,o===this.positions.END),a=I.getContentLength(r);switch(!0){case o===this.positions.START:n=0;break;case o===this.positions.END:case n>a:n=a;break}Mo(()=>{this.set(r,n)},20)(),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=s}setToInput(e,o=this.positions.DEFAULT,n=0){const{currentBlock:i}=this.Editor.BlockManager,s=I.getDeepestNode(e);switch(o){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,I.getContentLength(s));break;default:n&&this.set(s,n)}i.currentInput=e}set(e,o=0){const{top:n,bottom:i}=G.setCursor(e,o),{innerHeight:s}=window;n<0&&window.scrollBy(0,n),i>s&&window.scrollBy(0,i-s)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const o=this.Editor.BlockManager.insertAtEnd();this.setToBlock(o)}}extractFragmentFromCaretPosition(){const e=G.get();if(e.rangeCount){const o=e.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(o.deleteContents(),n)if(I.isNativeInput(n)){const i=n,s=document.createDocumentFragment(),r=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return s.textContent=a,i.value=r,s}else{const i=o.cloneRange();return i.selectNodeContents(n),i.setStart(o.endContainer,o.endOffset),i.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:o,nextContentfulBlock:n}=e,{nextInput:i}=o,s=this.isAtEnd;let r=n;if(!r&&!i){if(o.tool.isDefault||!s)return!1;r=e.insertAtEnd()}return s?(i?this.setToInput(i,this.positions.START):this.setToBlock(r,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:o}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:n}=e;return!o&&!n?!1:this.isAtStart?(n?this.setToInput(n,this.positions.END):this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){const o=document.createElement("span");o.classList.add(Wn.CSS.shadowCaret),e.insertAdjacentElement("beforeend",o)}restoreCaret(e){const o=e.querySelector(`.${Wn.CSS.shadowCaret}`);if(!o)return;new G().expandToTag(o);const n=document.createRange();n.selectNode(o),n.extractContents()}insertContentAtCaretPosition(e){const o=document.createDocumentFragment(),n=document.createElement("div"),i=G.get(),s=G.range;n.innerHTML=e,Array.from(n.childNodes).forEach(c=>o.appendChild(c)),o.childNodes.length===0&&o.appendChild(new Text);const r=o.lastChild;s.deleteContents(),s.insertNode(o);const a=document.createRange(),l=r.nodeType===Node.TEXT_NODE?r:r.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),i.removeAllRanges(),i.addRange(a)}getHigherLevelSiblings(e,o){let n=e;const i=[];for(;n.parentNode&&n.parentNode.contentEditable!=="true";)n=n.parentNode;const s=o==="left"?"previousSibling":"nextSibling";for(;n[s];)n=n[s],i.push(n);return i}}class Of extends re{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:o,BlockSelection:n}=this.Editor,i=o.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=o.getBlockByChildNode(e.target);if(!(!i||!s)&&s!==i){if(i===this.firstSelectedBlock){G.get().removeAllRanges(),i.selected=!0,s.selected=!0,n.clearCache();return}if(s===this.firstSelectedBlock){i.selected=!1,s.selected=!1,n.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,s),this.lastSelectedBlock=s}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==hh.LEFT)return;const{BlockManager:o}=this.Editor;this.firstSelectedBlock=o.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:o,BlockSelection:n}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=o.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,n.clearCache(),G.get().removeAllRanges());const i=o.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=o.blocks[i];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,n.clearCache()):(this.lastSelectedBlock.selected=!1,n.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:o,BlockSelection:n,Caret:i}=this.Editor,s=o.blocks.indexOf(this.firstSelectedBlock),r=o.blocks.indexOf(this.lastSelectedBlock);if(n.anyBlockSelected&&s>-1&&r>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case te.DOWN:case te.RIGHT:i.setToBlock(o.blocks[Math.max(s,r)],i.positions.END);break;case te.UP:case te.LEFT:i.setToBlock(o.blocks[Math.min(s,r)],i.positions.START);break;default:i.setToBlock(o.blocks[Math.max(s,r)],i.positions.END)}else i.setToBlock(o.blocks[Math.max(s,r)],i.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:o}=this.Editor;G.isCollapsed||this.Editor.BlockSelection.clearSelection(e),o.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,o){const{BlockManager:n,BlockSelection:i}=this.Editor,s=n.blocks.indexOf(e),r=n.blocks.indexOf(o),a=e.selected!==o.selected;for(let l=Math.min(s,r);l<=Math.max(s,r);l++){const c=n.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:o)&&(n.blocks[l].selected=!n.blocks[l].selected,i.clearCache())}}}class Lf extends re{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async o=>{await this.processDrop(o)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",o=>{this.processDragOver(o)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:o,Caret:n,Paste:i}=this.Editor;e.preventDefault(),o.blocks.forEach(r=>{r.dropTarget=!1}),G.isAtEditor&&!G.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const s=o.setCurrentBlockByChildNode(e.target);if(s)this.Editor.Caret.setToBlock(s,n.positions.END);else{const r=o.setCurrentBlockByChildNode(o.lastBlock.holder);this.Editor.Caret.setToBlock(r,n.positions.END)}await i.processDataTransfer(e.dataTransfer,!0)}processDragStart(){G.isAtEditor&&!G.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class Rf extends re{constructor({config:e,eventsDispatcher:o}){super({config:e,eventsDispatcher:o}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(n=>{this.redactorChanged(n)}),this.eventsDispatcher.on(Ga,n=>{this.particularBlockChanged(n.event)}),this.eventsDispatcher.on(Ja,()=>{this.disable()}),this.eventsDispatcher.on(Qa,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ke(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let o;this.batchingOnChangeQueue.size===1?o=this.batchingOnChangeQueue.values().next().value:o=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,o),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(ji,{mutations:e})}}const cl=class extends re{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!ke(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){ue(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:o}=this.Editor,n=e.setCurrentBlockByChildNode(t.target);!n||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||n&&this.exceptionList.includes(n.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),o.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:o}=this.Editor,n=t.types;if((n.includes?n.includes("Files"):n.contains("Files"))&&!gt(this.toolsFiles)){await this.processFiles(t.files);return}const i=t.getData(this.MIME_TYPE),s=t.getData("text/plain");let r=t.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}e&&s.trim()&&r.trim()&&(r="<p>"+(r.trim()?r:s)+"</p>");const a=Object.keys(this.toolsTags).reduce((d,u)=>(d[u.toLowerCase()]=this.toolsTags[u].sanitizationConfig??{},d),{}),l=Object.assign({},a,o.getAllInlineToolsSanitizeConfig(),{br:{}}),c=Ot(r,l);!c.trim()||c.trim()===s||!I.isHTMLString(c)?await this.processText(s):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:o,BlockManager:n}=this.Editor,i=e?this.processHTML(t):this.processPlain(t);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;i.map(async(r,a)=>this.insertBlock(r,a===0&&s)),n.currentBlock&&o.setToBlock(n.currentBlock,o.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Yt(t)?[t]:He(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],o=[];e.forEach(n=>{const i=this.collectTagNames(n);o.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){ue(`Paste handler for ${t.name} Tool on ${s} tag is skipped because it is already used by ${this.toolsTags[s].tool.name} Tool.`,"warn");return}const r=He(n)?n[s]:null;this.toolsTags[s.toUpperCase()]={tool:t,sanitizationConfig:r}})}),this.tagsByTool[t.name]=o.map(n=>n.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:o,mimeTypes:n}=e;!o&&!n||(o&&!Array.isArray(o)&&(ue(`extensions property of the onDrop config for ${t.name} Tool should be an array`),o=[]),n&&!Array.isArray(n)&&(ue(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),n=[]),n&&(n=n.filter(i=>bh(i)?!0:(ue(`MIME type value ${i} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:o||[],mimeTypes:n||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||gt(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,o])=>{o instanceof RegExp||ue(`Pattern ${o} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:o,tool:t})})}isNativeBehaviour(t){return I.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let o;o=await Promise.all(Array.from(t).map(i=>this.processFile(i))),o=o.filter(i=>!!i);const n=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;o.forEach((i,s)=>{e.paste(i.type,i.event,s===0&&n)})}async processFile(t){const e=mh(t),o=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:r}])=>{const[a,l]=t.type.split("/"),c=r.find(u=>u.toLowerCase()===e.toLowerCase()),d=s.find(u=>{const[h,p]=u.split("/");return h===a&&(p===l||p==="*")});return!!c||!!d});if(!o)return;const[n]=o;return{event:this.composePasteEvent("file",{file:t}),type:n}}processHTML(t){const{Tools:e}=this.Editor,o=I.make("DIV");return o.innerHTML=t,this.getNodes(o).map(n=>{let i,s=e.defaultTool,r=!1;switch(n.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=I.make("div"),i.appendChild(n);break;case Node.ELEMENT_NODE:i=n,r=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:a}=s.pasteConfig||{tags:[]},l=a.reduce((u,h)=>(this.collectTagNames(h).forEach(p=>{const f=He(h)?h[p]:null;u[p.toLowerCase()]=f||{}}),u),{}),c=Object.assign({},l,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const u=Ot(i.outerHTML,c);i=I.make("div",void 0,{innerHTML:u}).firstChild}else i.innerHTML=Ot(i.innerHTML,c);const d=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:r,tool:s.name,event:d}}).filter(n=>{const i=I.isEmpty(n.content),s=I.isSingleTag(n.content);return!i||s})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const o=e;return t.split(/\r?\n/).filter(n=>n.trim()).map(n=>{const i=I.make("div");i.textContent=n;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:o,isBlock:!1,event:s}})}async processSingleBlock(t){const{Caret:e,BlockManager:o}=this.Editor,{currentBlock:n}=o;if(!n||t.tool!==n.name||!I.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(n==null?void 0:n.tool.isDefault)&&n.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:o}=this.Editor,{content:n}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&n.textContent.length<cl.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(n.textContent);if(i){const s=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,r=e.paste(i.tool,i.event,s);o.setToBlock(r,o.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const i=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Ot(n.innerHTML,i))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(o=>{const n=o.pattern.exec(t);return n?t===n.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:o,Caret:n}=this.Editor,{currentBlock:i}=o;let s;if(e&&i&&i.isEmpty){s=o.paste(t.tool,t.event,!0),n.setToBlock(s,n.positions.END);return}s=o.paste(t.tool,t.event),n.setToBlock(s,n.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:o,Tools:n}=this.Editor;el(t,i=>n.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},r)=>{let a=!1;r===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:i,data:s,replace:a});o.setToBlock(l,o.positions.END)})}processElementNode(t,e,o){const n=Object.keys(this.toolsTags),i=t,{tool:s}=this.toolsTags[i.tagName]||{},r=this.tagsByTool[s==null?void 0:s.name]||[],a=n.includes(i.tagName),l=I.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some(({tagName:u})=>n.includes(u)&&!r.includes(u)),d=Array.from(i.children).some(({tagName:u})=>I.blockElements.includes(u.toLowerCase()));if(!l&&!a&&!c)return o.appendChild(i),[...e,o];if(a&&!c||l&&!d&&!c)return[...e,o,i]}getNodes(t){const e=Array.from(t.childNodes);let o;const n=(i,s)=>{if(I.isEmpty(s)&&!I.isSingleTag(s))return i;const r=i[i.length-1];let a=new DocumentFragment;switch(r&&I.isFragment(r)&&(a=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(o=this.processElementNode(s,i,a),o)return o;break;case Node.TEXT_NODE:return a.appendChild(s),[...i,a];default:return[...i,a]}return[...i,...Array.from(s.childNodes).reduce(n,[])]};return e.reduce(n,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let dl=cl;dl.PATTERN_PROCESSING_MAX_LENGTH=450;class Nf extends re{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:o}=e,n=[];Array.from(o.entries()).forEach(([i,s])=>{s.isReadOnlySupported||n.push(i)}),this.toolsDontSupportReadOnly=n,this.config.readOnly&&n.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const o=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(o===e)return this.readOnlyEnabled;const n=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(n.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Za(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Jo extends re{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,o){const n=document.elementFromPoint(e-window.pageXOffset,o-window.pageYOffset);n.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${Oe.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=n.closest("."+this.Editor.UI.CSS.editorWrapper),r=i.some(a=>!!n.closest(a));!s||r||(this.mousedown=!0,this.startX=e,this.startY=o)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",o=>{this.processMouseDown(o)},!1),this.listeners.on(document.body,"mousemove",Di(o=>{this.processMouseMove(o)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Di(o=>{this.processScroll(o)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(I.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,o=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),n=I.make("div",Jo.CSS.overlay,{}),i=I.make("div",Jo.CSS.overlayContainer,{}),s=I.make("div",Jo.CSS.rect,{});return i.appendChild(s),n.appendChild(i),o.appendChild(n),this.overlayRectangle=s,{container:o,overlay:n}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const o=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-o,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:o,leftPos:n,index:i}=this.genInfoForMouseSelection(),s=this.startX>o&&this.mouseX>o,r=this.startX<n&&this.mouseX<n;this.rectCrossesBlocks=!(s||r),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),G.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const o of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(o);if(!this.rectCrossesBlocks&&e)for(const o of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(o)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,o=this.mouseY-window.pageYOffset,n=document.elementFromPoint(e,o),i=this.Editor.BlockManager.getBlockByChildNode(n);let s;i!==void 0&&(s=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===i.holder));const r=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Oe.CSS.content),a=Number.parseInt(window.getComputedStyle(r).width,10)/2,l=e-a,c=e+a;return{index:s,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const o=this.stackOfSelected[this.stackOfSelected.length-1]===e,n=this.stackOfSelected.length,i=1,s=-1,r=0;if(o)return;const a=this.stackOfSelected[n-1]-this.stackOfSelected[n-2]>0;let l=r;n>1&&(l=a?i:s);const c=e>this.stackOfSelected[n-1]&&l===i,d=e<this.stackOfSelected[n-1]&&l===s,u=!(c||d||l===r);if(!u&&(e>this.stackOfSelected[n-1]||this.stackOfSelected[n-1]===void 0)){let f=this.stackOfSelected[n-1]+1||e;for(f;f<=e;f++)this.addBlockInSelection(f);return}if(!u&&e<this.stackOfSelected[n-1]){for(let f=this.stackOfSelected[n-1]-1;f>=e;f--)this.addBlockInSelection(f);return}if(!u)return;let h=n-1,p;for(e>this.stackOfSelected[n-1]?p=()=>e>this.stackOfSelected[h]:p=()=>e<this.stackOfSelected[h];p();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class Pf extends re{async render(e){return new Promise(o=>{const{Tools:n,BlockManager:i}=this.Editor,s=e.map(({type:r,data:a,tunes:l,id:c})=>{n.available.has(r)===!1&&(ut(`Tool ${r} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(r,a,c),r=n.stubTool);let d;try{d=i.composeBlock({id:c,tool:r,data:a,tunes:l})}catch(u){ue(`Block ${r} skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(r,a,c),r=n.stubTool,d=i.composeBlock({id:c,tool:r,data:a,tunes:l})}return d});i.insertMany(s),window.requestIdleCallback(()=>{o()},{timeout:2e3})})}composeStubDataForTool(e,o,n){const{Tools:i}=this.Editor;let s=e;if(i.unavailable.has(e)){const r=i.unavailable.get(e).toolbox;r!==void 0&&r[0].title!==void 0&&(s=r[0].title)}return{savedData:{id:n,type:e,data:o},title:s}}}class Df extends re{async save(){const{BlockManager:e,Tools:o}=this.Editor,n=e.blocks,i=[];try{n.forEach(a=>{i.push(this.getSavedData(a))});const s=await Promise.all(i),r=await el(s,a=>o.blockTools.get(a).sanitizeConfig);return this.makeOutput(r)}catch(s){ut("Saving failed due to the Error %o","error",s)}}async getSavedData(e){const o=await e.save(),n=o&&await e.validate(o.data);return{...o,isValid:n}}makeOutput(e){const o=[];return e.forEach(({id:n,tool:i,data:s,tunes:r,isValid:a})=>{if(!a){ue(`Block ${i} skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){o.push(s);return}const l={id:n,type:i,data:s,...!gt(r)&&{tunes:r}};o.push(l)}),{time:+new Date,blocks:o,version:"2.28.2"}}}var Ki={},Ff={get exports(){return Ki},set exports(t){Ki=t}};(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="/",i(i.s=4)}([function(o,n,i){var s=i(1),r=i(2);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[o.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a),o.exports=r.locals||{}},function(o,n,i){var s,r=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var y={};return function(w){if(y[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}y[w]=S}return y[w]}}(),l=[];function c(y){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===y){w=S;break}return w}function d(y,w){for(var S={},_=[],O=0;O<y.length;O++){var b=y[O],v=w.base?b[0]+w.base:b[0],M=S[v]||0,R="".concat(v," ").concat(M);S[v]=M+1;var A=c(R),B={css:b[1],media:b[2],sourceMap:b[3]};A!==-1?(l[A].references++,l[A].updater(B)):l.push({identifier:R,updater:E(B,w),references:1}),_.push(R)}return _}function u(y){var w=document.createElement("style"),S=y.attributes||{};if(S.nonce===void 0){var _=i.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(b){w.setAttribute(b,S[b])}),typeof y.insert=="function")y.insert(w);else{var O=a(y.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(w)}return w}var h,p=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function f(y,w,S,_){var O=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=p(w,O);else{var b=document.createTextNode(O),v=y.childNodes;v[w]&&y.removeChild(v[w]),v.length?y.insertBefore(b,v[w]):y.appendChild(b)}}function C(y,w,S){var _=S.css,O=S.media,b=S.sourceMap;if(O?y.setAttribute("media",O):y.removeAttribute("media"),b&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var m=null,x=0;function E(y,w){var S,_,O;if(w.singleton){var b=x++;S=m||(m=u(w)),_=f.bind(null,S,b,!1),O=f.bind(null,S,b,!0)}else S=u(w),_=C.bind(null,S,w),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(S)};return _(y),function(v){if(v){if(v.css===y.css&&v.media===y.media&&v.sourceMap===y.sourceMap)return;_(y=v)}else O()}}o.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=r());var S=d(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var O=0;O<S.length;O++){var b=c(S[O]);l[b].references--}for(var v=d(_,w),M=0;M<S.length;M++){var R=c(S[M]);l[R].references===0&&(l[R].updater(),l.splice(R,1))}S=v}}}},function(o,n,i){(n=i(3)(!1)).push([o.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),o.exports=n},function(o,n,i){o.exports=function(s){var r=[];return r.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var p=(C=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(C)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(x," */")),f=h.sources.map(function(E){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(E," */")});return[u].concat(f).concat([p]).join(`
`)}var C,m,x;return[u].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},r.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var p=0;p<a.length;p++){var f=[].concat(a[p]);c&&d[f[0]]||(l&&(f[2]?f[2]="".concat(l," and ").concat(f[2]):f[2]=l),r.push(f))}},r}},function(o,n,i){i.r(n),i.d(n,"default",function(){return a}),i(0);function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function r(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var d=c.data,u=c.config,h=c.api,p=c.readOnly;(function(f,C){if(!(f instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=p,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=u.placeholder?u.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=u.preserveBlank!==void 0&&u.preserveBlank,this.data=d}return r(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element===null&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(c){var d={text:this.data.text+c.text};this.data=d}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var d={text:c.detail.data.innerHTML};this.data=d}},{key:"hydrate",value:function(){var c=this;window.requestAnimationFrame(function(){c._element.innerHTML=c._data.text||""})}},{key:"data",get:function(){if(this._element!==null){var c=this._element.innerHTML;this._data.text=c}return this._data},set:function(c){this._data=c||{},this._element!==null&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(Ff);const Hf=si(Ki);class Bs{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=rf,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Bs.isInline=!0;Bs.title="Bold";class Is{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=df,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Is.isInline=!0;Is.title="Italic";class Ms{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new G}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=yr,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const o=this.selection.findParentTag("A");if(o){this.selection.expandToTag(o),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=pf,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const o=e.getAttribute("href");this.nodes.input.value=o!=="null"?o:"",this.selection.save()}else this.nodes.button.innerHTML=yr,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const o=new G;o.save(),this.selection.restore(),this.selection.removeFakeBackground(),o.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let o=this.nodes.input.value||"";if(!o.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(o)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ue("Incorrect Link pasted","warn",o);return}o=this.prepareLink(o),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(o),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const o=/^\/[^/\s]/.test(e),n=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!o&&!n&&!i&&(e="http://"+e),e}insertLink(e){const o=this.selection.findParentTag("A");o&&this.selection.expandToTag(o),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Ms.isInline=!0;Ms.title="Link";class ul{constructor({data:e,api:o}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=o,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=I.make("div",this.CSS.wrapper),o=gf,n=I.make("div",this.CSS.info),i=I.make("div",this.CSS.title,{textContent:this.title}),s=I.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=o,n.appendChild(i),n.appendChild(s),e.appendChild(n),e}}ul.isReadOnlySupported=!0;class jf extends _s{constructor(){super(...arguments),this.type=ai.Inline}get title(){return this.constructable[Ts.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class $f extends _s{constructor(){super(...arguments),this.type=ai.Tune}create(e,o){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:o,data:e})}}class Ue extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,o])=>o.isBlock());return new Ue(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,o])=>o.isInline());return new Ue(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,o])=>o.isTune());return new Ue(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,o])=>o.isInternal);return new Ue(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,o])=>!o.isInternal);return new Ue(e)}}var Uf=Object.defineProperty,zf=Object.getOwnPropertyDescriptor,hl=(t,e,o,n)=>{for(var i=n>1?void 0:n?zf(e,o):e,s=t.length-1,r;s>=0;s--)(r=t[s])&&(i=(n?r(e,o,i):r(i))||i);return n&&i&&Uf(e,o,i),i};class As extends _s{constructor(){super(...arguments),this.type=ai.Block,this.inlineTools=new Ue,this.tunes=new Ue}create(e,o,n){return new this.constructable({data:e,block:o,readOnly:n,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[fo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[fo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[fo.Toolbox],o=this.config[Rn.Toolbox];if(!gt(e)&&o!==!1)return o?Array.isArray(e)?Array.isArray(o)?o.map((n,i)=>{const s=e[i];return s?{...s,...n}:n}):[o]:Array.isArray(o)?o:[{...e,...o}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[fo.ConversionConfig]}get enabledInlineTools(){return this.config[Rn.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Rn.EnabledBlockTunes]}get pasteConfig(){return this.constructable[fo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,o=this.baseSanitizeConfig;if(gt(e))return o;const n={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];He(s)?n[i]=Object.assign({},o,s):n[i]=s}return n}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(o=>Object.assign(e,o.sanitizeConfig)),Array.from(this.tunes.values()).forEach(o=>Object.assign(e,o.sanitizeConfig)),e}}hl([Ho],As.prototype,"sanitizeConfig",1);hl([Ho],As.prototype,"baseSanitizeConfig",1);class Wf{constructor(e,o,n){this.api=n,this.config=e,this.editorConfig=o}get(e){const{class:o,isInternal:n=!1,...i}=this.config[e],s=this.getConstructor(o);return new s({name:e,constructable:o,config:i,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:n})}getConstructor(e){switch(!0){case e[Ts.IsInline]:return jf;case e[ll.IsTune]:return $f;default:return As}}}class fl{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:ol,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(e+1);if(!o)throw new Error("Unable to move Block down since it is already the last");const n=o.holder,i=n.getBoundingClientRect();let s=Math.abs(window.innerHeight-n.offsetHeight);i.top<window.innerHeight&&(s=window.scrollY+n.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}fl.isTune=!0;class pl{constructor({api:e}){this.api=e}render(){return{icon:lf,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}pl.isTune=!0;class gl{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:af,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(e),n=this.api.blocks.getBlockByIndex(e-1);if(e===0||!o||!n)throw new Error("Unable to move Block up since it is already the first");const i=o.holder,s=n.holder,r=i.getBoundingClientRect(),a=s.getBoundingClientRect();let l;a.top>0?l=Math.abs(r.top)-Math.abs(a.top):l=Math.abs(r.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}gl.isTune=!0;var Kf=Object.defineProperty,qf=Object.getOwnPropertyDescriptor,Yf=(t,e,o,n)=>{for(var i=n>1?void 0:n?qf(e,o):e,s=t.length-1,r;s>=0;s--)(r=t[s])&&(i=(n?r(e,o,i):r(i))||i);return n&&i&&Kf(e,o,i),i};class ml extends re{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ue,this.toolsUnavailable=new Ue}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Fi({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new Wf(e,this.config,this.Editor.API);const o=this.getListOfPrepareFunctions(e);if(o.length===0)return Promise.resolve();await gh(o,n=>{this.toolPrepareMethodSuccess(n)},n=>{this.toolPrepareMethodFallback(n)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(o=>{Object.assign(e,o.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ke(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Bs,isInternal:!0},italic:{class:Is,isInternal:!0},link:{class:Ms,isInternal:!0},paragraph:{class:Hf,inlineToolbar:!0,isInternal:!0},stub:{class:ul,isInternal:!0},moveUp:{class:gl,isInternal:!0},delete:{class:pl,isInternal:!0},moveDown:{class:fl,isInternal:!0}}}toolPrepareMethodSuccess(e){const o=this.factory.get(e.toolName);if(o.isInline()){const n=["render","surround","checkState"].filter(i=>!o.create()[i]);if(n.length){ue(`Incorrect Inline Tool: ${o.name}. Some of required methods is not implemented %o`,"warn",n),this.toolsUnavailable.set(o.name,o);return}}this.toolsAvailable.set(o.name,o)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const o=[];return Object.entries(e).forEach(([n,i])=>{o.push({function:ke(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:n,config:i.config}})}),o}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ue(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(o=>[o,this.inlineTools.get(o)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ue(e.enabledInlineTools.map(o=>[o,this.inlineTools.get(o)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const o=new Ue(e.enabledBlockTunes.map(n=>[n,this.blockTunes.get(n)]));e.tunes=new Ue([...o,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const o=new Ue(this.config.tunes.map(n=>[n,this.blockTunes.get(n)]));e.tunes=new Ue([...o,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const o=this.config.tools[e];if(!ke(o)&&!ke(o.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const o in this.config.tools)He(this.config.tools[o])?e[o]=this.config.tools[o]:e[o]={class:this.config.tools[o]};return e}}Yf([Ho],ml.prototype,"getAllInlineToolsSanitizeConfig",1);const Vf=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Xf extends re{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=vh(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Oe.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:o,InlineToolbar:n,ConversionToolbar:i}=this.Editor;return o.opened||n.opened||i.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,o])=>o.flipper instanceof Nt).some(([e,o])=>o.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:o,InlineToolbar:n,ConversionToolbar:i}=this.Editor;o.close(),n.close(),i.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Va}make(){this.nodes.holder=I.getHolder(this.config.holder),this.nodes.wrapper=I.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=I.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(I.get(e))return;const o=I.make("style",null,{id:e,textContent:Vf.toString()});I.prepend(document.head,o)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Di(o=>{const n=o.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||n&&e!==n&&(e=n,this.eventsDispatcher.emit(rl,{block:this.Editor.BlockManager.getBlockByChildNode(n)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case te.ENTER:this.enterPressed(e);break;case te.BACKSPACE:case te.DELETE:this.backspacePressed(e);break;case te.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:o}=this.Editor.BlockManager,n=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(o!==void 0&&n===null){this.Editor.BlockEvents.keydown(e);return}n||o&&i||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:o,BlockSelection:n,Caret:i}=this.Editor;if(n.anyBlockSelected&&!G.isSelectionExists){const s=o.removeSelectedBlocks();i.setToBlock(o.insertDefaultBlockAtIndex(s,!0),i.positions.START),n.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:o,BlockSelection:n}=this.Editor,i=o.currentBlockIndex>=0;if(n.anyBlockSelected&&!G.isSelectionExists){n.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const s=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(s),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||G.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const n=this.Editor.BlockSettings.nodes.wrapper.contains(o),i=this.Editor.Toolbar.nodes.settingsToggler.contains(o),s=n||i;if(this.Editor.BlockSettings.opened&&!s){this.Editor.BlockSettings.close();const r=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(r)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let o=e.target;if(o===this.nodes.redactor){const n=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;o=document.elementFromPoint(n,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(o),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:o}=this.Editor;if(!G.isCollapsed)return;const n=()=>{e.stopImmediatePropagation(),e.stopPropagation()},i=e.target,s=e.metaKey||e.ctrlKey;if(I.isAnchor(i)&&s){n();const c=i.getAttribute("href"),d=yh(c);xh(d);return}const r=this.Editor.BlockManager.getBlockByIndex(-1),a=I.offset(r.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&a<l){n();const{BlockManager:c,Caret:d,Toolbar:u}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),d.setToTheLastBlock(),u.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:o}=this.Editor,n=G.anchorElement;if(e.isCrossBlockSelectionStarted&&o.anyBlockSelected&&G.get().removeAllRanges(),!n){G.range||this.Editor.InlineToolbar.close();return}const i=n.closest(`.${Oe.CSS.content}`)===null;if(i&&(this.Editor.InlineToolbar.containsNode(n)||this.Editor.InlineToolbar.close(),n.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(n);const s=i!==!0;this.Editor.InlineToolbar.tryToShow(!0,s)}}const Zf={BlocksAPI:Oh,CaretAPI:Lh,EventsAPI:Rh,I18nAPI:ws,API:Nh,InlineToolbarAPI:Ph,ListenersAPI:Dh,NotifierAPI:$h,ReadOnlyAPI:Uh,SanitizerAPI:Xh,SaverAPI:Zh,SelectionAPI:Gh,StylesAPI:Jh,ToolbarAPI:Qh,TooltipAPI:of,UiAPI:nf,BlockSettings:kf,ConversionToolbar:Ge,Toolbar:Sf,InlineToolbar:Tf,BlockEvents:_f,BlockManager:Mf,BlockSelection:Af,Caret:Wn,CrossBlockSelection:Of,DragNDrop:Lf,ModificationsObserver:Rf,Paste:dl,ReadOnly:Nf,RectangleSelection:Jo,Renderer:Pf,Saver:Df,Tools:ml,UI:Xf};class Gf{constructor(e){this.moduleInstances={},this.eventsDispatcher=new ri;let o,n;this.isReady=new Promise((i,s)=>{o=i,n=s}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:s,UI:r,ModificationsObserver:a}=this.moduleInstances;r.checkEmptiness(),a.enable(),this.configuration.autofocus&&(s.setToBlock(i.blocks[0],s.positions.START),i.highlightCurrentNode()),o()}).catch(i=>{ue(`Editor.js is not ready because of ${i}`,"error"),n(i)})}set configuration(e){var o,n;He(e)?this.config={...e}:this.config={holder:e},Hi(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Ka.VERBOSE),fh(this.config.logLevel),Hi(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(gt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(o=this.config.i18n)!=null&&o.messages&&Ye.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((n=this.config.i18n)==null?void 0:n.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:o}=this.config;if(e&&o)throw Error("holderId and holder param can't assign at the same time.");if(Yt(o)&&!I.get(o))throw Error(`element with ID ${o} is missing. Pass correct holder's ID.`);if(o&&He(o)&&!I.isElement(o))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,o)=>e.then(async()=>{try{await this.moduleInstances[o].prepare()}catch(n){if(n instanceof Za)throw new Error(n.message);ue(`Module ${o} was skipped because of %o`,"warn",n)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(Zf).forEach(([e,o])=>{try{this.moduleInstances[e]=new o({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(n){ue("[constructModules]",`Module ${e} skipped because`,"error",n)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const o={};for(const n in this.moduleInstances)n!==e&&(o[n]=this.moduleInstances[n]);return o}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Jf{static get version(){return"2.28.2"}constructor(e){let o=()=>{};He(e)&&ke(e.onReady)&&(o=e.onReady);const n=new Gf(e);this.isReady=n.isReady.then(()=>{this.exportAPI(n),o()})}exportAPI(e){const o=["configuration"],n=()=>{Object.values(e.moduleInstances).forEach(i=>{ke(i.destroy)&&i.destroy(),i.listeners.removeAll()}),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};o.forEach(i=>{this[i]=e[i]}),this.destroy=n,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,s])=>{Object.entries(s).forEach(([r,a])=>{this[a]=e.moduleInstances.API.methods[i][r]})})}}function li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bl={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(self,function(){return(()=>{var o={384:(r,a,l)=>{l.d(a,{Z:()=>u});var c=l(645),d=l.n(c)()(function(h){return h[1]});d.push([r.id,`.cdx-nested-list {
  margin: 0;
  padding: 0;
  outline: none;
  counter-reset: item;
  list-style: none;
}

  .cdx-nested-list__item {
    line-height: 1.6em;
    display: flex;
    margin: 2px 0;
  }

  .cdx-nested-list__item [contenteditable]{
      outline: none;
    }

  .cdx-nested-list__item-body {
      flex-grow: 2;
    }

  .cdx-nested-list__item-content,
    .cdx-nested-list__item-children {
      flex-basis: 100%;
    }

  .cdx-nested-list__item-content {
      word-break: break-word;
      white-space: pre-wrap;
    }

  .cdx-nested-list__item-children {}

  .cdx-nested-list__item::before {
      counter-increment: item;
      margin-right: 5px;
      white-space: nowrap;
    }

  .cdx-nested-list--ordered > .cdx-nested-list__item::before {
    content: counters(item, ".") ". ";
  }

  .cdx-nested-list--unordered > .cdx-nested-list__item::before {
    content: "";
  }

  .cdx-nested-list__settings {
    display: flex;
  }

  .cdx-nested-list__settings .cdx-settings-button {
      width: 50%;
    }
`,""]);const u=d},645:r=>{r.exports=function(a){var l=[];return l.toString=function(){return this.map(function(c){var d=a(c);return c[2]?"@media ".concat(c[2]," {").concat(d,"}"):d}).join("")},l.i=function(c,d,u){typeof c=="string"&&(c=[[null,c,""]]);var h={};if(u)for(var p=0;p<this.length;p++){var f=this[p][0];f!=null&&(h[f]=!0)}for(var C=0;C<c.length;C++){var m=[].concat(c[C]);u&&h[m[0]]||(d&&(m[2]?m[2]="".concat(d," and ").concat(m[2]):m[2]=d),l.push(m))}},l}},379:(r,a,l)=>{var c,d=function(){var _={};return function(O){if(_[O]===void 0){var b=document.querySelector(O);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}_[O]=b}return _[O]}}(),u=[];function h(_){for(var O=-1,b=0;b<u.length;b++)if(u[b].identifier===_){O=b;break}return O}function p(_,O){for(var b={},v=[],M=0;M<_.length;M++){var R=_[M],A=O.base?R[0]+O.base:R[0],B=b[A]||0,U="".concat(A," ").concat(B);b[A]=B+1;var L=h(U),z={css:R[1],media:R[2],sourceMap:R[3]};L!==-1?(u[L].references++,u[L].updater(z)):u.push({identifier:U,updater:S(z,O),references:1}),v.push(U)}return v}function f(_){var O=document.createElement("style"),b=_.attributes||{};if(b.nonce===void 0){var v=l.nc;v&&(b.nonce=v)}if(Object.keys(b).forEach(function(R){O.setAttribute(R,b[R])}),typeof _.insert=="function")_.insert(O);else{var M=d(_.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(O)}return O}var C,m=(C=[],function(_,O){return C[_]=O,C.filter(Boolean).join(`
`)});function x(_,O,b,v){var M=b?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(_.styleSheet)_.styleSheet.cssText=m(O,M);else{var R=document.createTextNode(M),A=_.childNodes;A[O]&&_.removeChild(A[O]),A.length?_.insertBefore(R,A[O]):_.appendChild(R)}}function E(_,O,b){var v=b.css,M=b.media,R=b.sourceMap;if(M?_.setAttribute("media",M):_.removeAttribute("media"),R&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),_.styleSheet)_.styleSheet.cssText=v;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(v))}}var y=null,w=0;function S(_,O){var b,v,M;if(O.singleton){var R=w++;b=y||(y=f(O)),v=x.bind(null,b,R,!1),M=x.bind(null,b,R,!0)}else b=f(O),v=E.bind(null,b,O),M=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(b)};return v(_),function(A){if(A){if(A.css===_.css&&A.media===_.media&&A.sourceMap===_.sourceMap)return;v(_=A)}else M()}}r.exports=function(_,O){(O=O||{}).singleton||typeof O.singleton=="boolean"||(O.singleton=(c===void 0&&(c=!!(window&&document&&document.all&&!window.atob)),c));var b=p(_=_||[],O);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var M=0;M<b.length;M++){var R=h(b[M]);u[R].references--}for(var A=p(v,O),B=0;B<b.length;B++){var U=h(b[B]);u[U].references===0&&(u[U].updater(),u.splice(U,1))}b=A}}}}},n={};function i(r){var a=n[r];if(a!==void 0)return a.exports;var l=n[r]={id:r,exports:{}};return o[r](l,l.exports,i),l.exports}i.n=r=>{var a=r&&r.__esModule?()=>r.default:()=>r;return i.d(a,{a}),a},i.d=(r,a)=>{for(var l in a)i.o(a,l)&&!i.o(r,l)&&Object.defineProperty(r,l,{enumerable:!0,get:a[l]})},i.o=(r,a)=>Object.prototype.hasOwnProperty.call(r,a);var s={};return(()=>{function r(C,m=null,x={}){const E=document.createElement(C);Array.isArray(m)?E.classList.add(...m):m&&E.classList.add(m);for(const y in x)E[y]=x[y];return E}function a(C){const m=r("div");return m.appendChild(C),m.innerHTML}function l(C){let m;return C.nodeType!==Node.ELEMENT_NODE?m=C.textContent:(m=C.innerHTML,m=m.replaceAll("<br>","")),m.trim().length===0}i.d(s,{default:()=>f});class c{constructor(){this.savedFakeCaret=void 0}save(){const m=c.range,x=r("span");x.hidden=!0,m.insertNode(x),this.savedFakeCaret=x}restore(){if(!this.savedFakeCaret)return;const m=window.getSelection(),x=new Range;x.setStartAfter(this.savedFakeCaret),x.setEndAfter(this.savedFakeCaret),m.removeAllRanges(),m.addRange(x),setTimeout(()=>{this.savedFakeCaret.remove()},150)}static get range(){const m=window.getSelection();return m&&m.rangeCount?m.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){const m=window.getSelection();if(!m.rangeCount)return;const x=m.getRangeAt(0);let E=x.startContainer;E.nodeType!==Node.ELEMENT_NODE&&(E=E.parentNode);const y=E.closest("[contenteditable]");x.deleteContents();const w=x.cloneRange();return w.selectNodeContents(y),w.setStart(x.endContainer,x.endOffset),w.extractContents()}static focus(m,x=!0){const E=document.createRange(),y=window.getSelection();E.selectNodeContents(m),E.collapse(x),y.removeAllRanges(),y.addRange(E)}static isAtStart(){const m=window.getSelection();if(m.focusOffset>0)return!1;const x=m.focusNode;return c.getHigherLevelSiblings(x,"left").every(E=>l(E))}static getHigherLevelSiblings(m,x="left"){let E=m;const y=[];for(;E.parentNode&&E.parentNode.contentEditable!=="true";)E=E.parentNode;const w=x==="left"?"previousSibling":"nextSibling";for(;E[w];)E=E[w],y.push(E);return y}}const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var u=i(379),h=i.n(u),p=i(384);h()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;class f{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:d,title:"List"}}constructor({data:m,config:x,api:E,readOnly:y}){this.nodes={wrapper:null},this.api=E,this.readOnly=y,this.config=x,this.defaultListStyle=this.config.defaultStyle==="ordered"?"ordered":"unordered";const w={style:this.defaultListStyle,items:[]};this.data=m&&Object.keys(m).length?m:w,this.caret=new c}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",m=>{switch(m.key){case"Enter":this.enterPressed(m);break;case"Backspace":this.backspace(m);break;case"Tab":m.shiftKey?this.shiftTab(m):this.addTab(m)}},!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>'},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:d}].map(m=>({name:m.name,icon:m.icon,label:m.label,isActive:this.data.style===m.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=m.name}}))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(m){const x=m.detail.data;this.data=this.pasteHandler(x);const E=this.nodes.wrapper;E&&E.parentNode.replaceChild(this.render(),E)}pasteHandler(m){const{tagName:x}=m;let E,y;switch(x){case"OL":E="ordered",y="ol";break;case"UL":case"LI":E="unordered",y="ul"}const w={style:E,items:[]},S=_=>Array.from(_.querySelectorAll(":scope > li")).map(O=>{var M;const b=O.querySelector(`:scope > ${y}`),v=b?S(b):[];return{content:((M=O==null?void 0:O.firstChild)==null?void 0:M.textContent)||"",items:v}});return w.items=S(m),w}appendItems(m,x){m.forEach(E=>{const y=this.createItem(E.content,E.items);x.appendChild(y)})}createItem(m,x=[]){const E=r("li",this.CSS.item),y=r("div",this.CSS.itemBody),w=r("div",this.CSS.itemContent,{innerHTML:m,contentEditable:!this.readOnly});return y.appendChild(w),E.appendChild(y),x&&x.length>0&&this.addChildrenList(E,x),E}save(){const m=x=>Array.from(x.querySelectorAll(`:scope > .${this.CSS.item}`)).map(E=>{const y=E.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(E),items:y?m(y):[]}});return{style:this.data.style,items:m(this.nodes.wrapper)}}addChildrenList(m,x){const E=m.querySelector(`.${this.CSS.itemBody}`),y=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(x,y),E.appendChild(y)}makeListWrapper(m=this.listStyle,x=[]){const E=m==="ordered"?"ol":"ul",y=m==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return x.push(y),r(E,[this.CSS.wrapper,...x])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(m){const x=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));x.push(this.nodes.wrapper),x.forEach(E=>{E.classList.toggle(this.CSS.wrapperUnordered,m==="unordered"),E.classList.toggle(this.CSS.wrapperOrdered,m==="ordered")}),this.data.style=m}get currentItem(){let m=window.getSelection().anchorNode;return m.nodeType!==Node.ELEMENT_NODE&&(m=m.parentNode),m.closest(`.${this.CSS.item}`)}enterPressed(m){const x=this.currentItem;m.stopPropagation(),m.preventDefault();const E=this.getItemContent(x).trim().length===0,y=x.parentNode===this.nodes.wrapper,w=x.nextElementSibling===null;if(y&&w&&E)return void this.getOutOfList();if(w&&E)return void this.unshiftItem();const S=a(c.extractFragmentFromCaretPositionTillTheEnd()),_=x.querySelector(`.${this.CSS.itemChildren}`),O=this.createItem(S,void 0);_&&Array.from(_.querySelectorAll(`.${this.CSS.item}`)).length>0?_.prepend(O):x.after(O),this.focusItem(O)}unshiftItem(){const m=this.currentItem,x=m.parentNode.closest(`.${this.CSS.item}`);if(!x)return;this.caret.save(),x.after(m),this.caret.restore();const E=x.querySelector(`.${this.CSS.itemChildren}`);E.children.length===0&&E.remove()}getItemContent(m){const x=m.querySelector(`.${this.CSS.itemContent}`);return l(x)?"":x.innerHTML}focusItem(m,x=!0){const E=m.querySelector(`.${this.CSS.itemContent}`);c.focus(E,x)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(m){if(!c.isAtStart())return;m.preventDefault();const x=this.currentItem,E=x.previousSibling,y=x.parentNode.closest(`.${this.CSS.item}`);if(!E&&!y)return;let w;if(m.stopPropagation(),E){const b=E.querySelectorAll(`.${this.CSS.item}`);w=Array.from(b).pop()||E}else w=y;const S=a(c.extractFragmentFromCaretPositionTillTheEnd()),_=w.querySelector(`.${this.CSS.itemContent}`);c.focus(_,!1),this.caret.save(),_.insertAdjacentHTML("beforeend",S);let O=x.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);O=Array.from(O),O=O.filter(b=>b.parentNode.closest(`.${this.CSS.item}`)===x),O.reverse().forEach(b=>{E?w.after(b):x.after(b)}),x.remove(),this.caret.restore()}addTab(m){m.stopPropagation(),m.preventDefault();const x=this.currentItem,E=x.previousSibling;if(!E)return;const y=E.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),y)y.appendChild(x);else{const w=this.makeListWrapper(void 0,[this.CSS.itemChildren]),S=E.querySelector(`.${this.CSS.itemBody}`);w.appendChild(x),S.appendChild(w)}this.caret.restore()}shiftTab(m){m.stopPropagation(),m.preventDefault(),this.unshiftItem()}static joinRecursive(m){return m.items.map(x=>`${x.content} ${f.joinRecursive(x)}`).join("")}static get conversionConfig(){return{export:m=>f.joinRecursive(m),import:m=>({items:[{content:m,items:[]}],style:"unordered"})}}}})(),s.default})()})})(bl);var Qf=bl.exports;const ep=li(Qf);var vl={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="/",i(i.s=4)}([function(o,n,i){var s=i(1),r=i(2);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[o.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a),o.exports=r.locals||{}},function(o,n,i){var s,r=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var y={};return function(w){if(y[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}y[w]=S}return y[w]}}(),l=[];function c(y){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===y){w=S;break}return w}function d(y,w){for(var S={},_=[],O=0;O<y.length;O++){var b=y[O],v=w.base?b[0]+w.base:b[0],M=S[v]||0,R="".concat(v," ").concat(M);S[v]=M+1;var A=c(R),B={css:b[1],media:b[2],sourceMap:b[3]};A!==-1?(l[A].references++,l[A].updater(B)):l.push({identifier:R,updater:E(B,w),references:1}),_.push(R)}return _}function u(y){var w=document.createElement("style"),S=y.attributes||{};if(S.nonce===void 0){var _=i.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(b){w.setAttribute(b,S[b])}),typeof y.insert=="function")y.insert(w);else{var O=a(y.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(w)}return w}var h,p=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function f(y,w,S,_){var O=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=p(w,O);else{var b=document.createTextNode(O),v=y.childNodes;v[w]&&y.removeChild(v[w]),v.length?y.insertBefore(b,v[w]):y.appendChild(b)}}function C(y,w,S){var _=S.css,O=S.media,b=S.sourceMap;if(O?y.setAttribute("media",O):y.removeAttribute("media"),b&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var m=null,x=0;function E(y,w){var S,_,O;if(w.singleton){var b=x++;S=m||(m=u(w)),_=f.bind(null,S,b,!1),O=f.bind(null,S,b,!0)}else S=u(w),_=C.bind(null,S,w),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(S)};return _(y),function(v){if(v){if(v.css===y.css&&v.media===y.media&&v.sourceMap===y.sourceMap)return;_(y=v)}else O()}}o.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=r());var S=d(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var O=0;O<S.length;O++){var b=c(S[O]);l[b].references--}for(var v=d(_,w),M=0;M<S.length;M++){var R=c(S[M]);l[R].references===0&&(l[R].updater(),l.splice(R,1))}S=v}}}},function(o,n,i){(n=i(3)(!1)).push([o.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),o.exports=n},function(o,n,i){o.exports=function(s){var r=[];return r.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var p=(C=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(C)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(x," */")),f=h.sources.map(function(E){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(E," */")});return[u].concat(f).concat([p]).join(`
`)}var C,m,x;return[u].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},r.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var p=0;p<a.length;p++){var f=[].concat(a[p]);c&&d[f[0]]||(l&&(f[2]?f[2]="".concat(l," and ").concat(f[2]):f[2]=l),r.push(f))}},r}},function(o,n,i){i.r(n),i.d(n,"default",function(){return a}),i(0);function s(l){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function r(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,(h=u.key,p=void 0,p=function(f,C){if(s(f)!=="object"||f===null)return f;var m=f[Symbol.toPrimitive];if(m!==void 0){var x=m.call(f,C||"default");if(s(x)!=="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(f)}(h,"string"),s(p)==="symbol"?p:String(p)),u)}var h,p}var a=function(){function l(h){var p=h.api;(function(f,C){if(!(f instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=p,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var c,d,u;return c=l,u=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:l.CSS}}}}],(d=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(h){if(h){var p=this.api.selection.findParentTag(this.tag,l.CSS);p?this.unwrap(p):this.wrap(h)}}},{key:"wrap",value:function(h){var p=document.createElement(this.tag);p.classList.add(l.CSS),p.appendChild(h.extractContents()),h.insertNode(p),this.api.selection.expandToTag(p)}},{key:"unwrap",value:function(h){this.api.selection.expandToTag(h);var p=window.getSelection(),f=p.getRangeAt(0),C=f.extractContents();h.parentNode.removeChild(h),f.insertNode(C),p.removeAllRanges(),p.addRange(f)}},{key:"checkState",value:function(){var h=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!h)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&r(c.prototype,d),u&&r(c,u),Object.defineProperty(c,"prototype",{writable:!1}),l}()}]).default})})(vl);var tp=vl.exports;const op=li(tp);var kl={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="/",i(i.s=4)}([function(o,n,i){var s=i(1),r=i(2);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[o.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a),o.exports=r.locals||{}},function(o,n,i){var s,r=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var y={};return function(w){if(y[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}y[w]=S}return y[w]}}(),l=[];function c(y){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===y){w=S;break}return w}function d(y,w){for(var S={},_=[],O=0;O<y.length;O++){var b=y[O],v=w.base?b[0]+w.base:b[0],M=S[v]||0,R="".concat(v," ").concat(M);S[v]=M+1;var A=c(R),B={css:b[1],media:b[2],sourceMap:b[3]};A!==-1?(l[A].references++,l[A].updater(B)):l.push({identifier:R,updater:E(B,w),references:1}),_.push(R)}return _}function u(y){var w=document.createElement("style"),S=y.attributes||{};if(S.nonce===void 0){var _=i.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(b){w.setAttribute(b,S[b])}),typeof y.insert=="function")y.insert(w);else{var O=a(y.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(w)}return w}var h,p=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function f(y,w,S,_){var O=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=p(w,O);else{var b=document.createTextNode(O),v=y.childNodes;v[w]&&y.removeChild(v[w]),v.length?y.insertBefore(b,v[w]):y.appendChild(b)}}function C(y,w,S){var _=S.css,O=S.media,b=S.sourceMap;if(O?y.setAttribute("media",O):y.removeAttribute("media"),b&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var m=null,x=0;function E(y,w){var S,_,O;if(w.singleton){var b=x++;S=m||(m=u(w)),_=f.bind(null,S,b,!1),O=f.bind(null,S,b,!0)}else S=u(w),_=C.bind(null,S,w),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(S)};return _(y),function(v){if(v){if(v.css===y.css&&v.media===y.media&&v.sourceMap===y.sourceMap)return;_(y=v)}else O()}}o.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=r());var S=d(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var O=0;O<S.length;O++){var b=c(S[O]);l[b].references--}for(var v=d(_,w),M=0;M<S.length;M++){var R=c(S[M]);l[R].references===0&&(l[R].updater(),l.splice(R,1))}S=v}}}},function(o,n,i){(n=i(3)(!1)).push([o.i,`.cdx-strikethrough {
    text-decoration: line-through;
}
`,""]),o.exports=n},function(o,n,i){o.exports=function(s){var r=[];return r.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var p=(C=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(C)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(x," */")),f=h.sources.map(function(E){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(E," */")});return[u].concat(f).concat([p]).join(`
`)}var C,m,x;return[u].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},r.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var p=0;p<a.length;p++){var f=[].concat(a[p]);c&&d[f[0]]||(l&&(f[2]?f[2]="".concat(l," and ").concat(f[2]):f[2]=l),r.push(f))}},r}},function(o,n,i){i.r(n),i.d(n,"default",function(){return a}),i(0);function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function r(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}var a=function(){function l(c){var d=c.api;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=d,this.button=null,this.tag="S",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return r(l,null,[{key:"CSS",get:function(){return"cdx-strikethrough"}}]),r(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var d=this.api.selection.findParentTag(this.tag,l.CSS);d?this.unwrap(d):this.wrap(c)}}},{key:"wrap",value:function(c){var d=document.createElement(this.tag);d.classList.add(l.CSS),d.appendChild(c.extractContents()),c.insertNode(d),this.api.selection.expandToTag(d)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var d=window.getSelection(),u=d.getRangeAt(0),h=u.extractContents();c.parentNode.removeChild(c),u.insertNode(h),d.removeAllRanges(),d.addRange(u)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 8.50001C13.5 7 10.935 6.66476 9.75315 7.79706C9.27092 8.25909 9 8.88574 9 9.53915C9 10.1926 9.27092 10.8192 9.75315 11.2812C10.9835 12.46 13.0165 11.5457 14.2468 12.7244C14.7291 13.1865 15 13.8131 15 14.4665C15 15.1199 14.7291 15.7466 14.2468 16.2086C12.8659 17.5317 10 17.5 9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12H18"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{s:{class:l.CSS}}}}]),l}()}]).default})})(kl);var np=kl.exports;const ip=li(np);var yl={exports:{}};(function(t,e){(function(o,n){t.exports=n()})(window,function(){return function(o){var n={};function i(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return o[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=o,i.c=n,i.d=function(s,r,a){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(1&r&&(s=i(s)),8&r||4&r&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="/",i(i.s=5)}([function(o,n,i){var s=i(1);typeof s=="string"&&(s=[[o.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,r),s.locals&&(o.exports=s.locals)},function(o,n,i){(o.exports=i(2)(!1)).push([o.i,`.change-case-action {
    z-index: 90;
    user-select: none;
    -moz-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -o-user-select: none;    
}

.change-case-tool {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    padding: 5px 10px;
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    cursor: pointer;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
}

.change-case-tool:hover {
    background: #eff2f5;
}

.change-case-toolbar__label {
    color: #707684;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: .33px;
    padding: 10px 10px 5px;
    text-transform: uppercase;
    cursor: pointer;
}`,""])},function(o,n){o.exports=function(i){var s=[];return s.toString=function(){return this.map(function(r){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(f=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),p=u.sources.map(function(C){return"/*# sourceURL="+u.sourceRoot+C+" */"});return[d].concat(p).concat([h]).join(`
`)}var f;return[d].join(`
`)}(r,i);return r[2]?"@media "+r[2]+"{"+a+"}":a}).join("")},s.i=function(r,a){typeof r=="string"&&(r=[[null,r,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<r.length;c++){var u=r[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),s.push(u))}},s}},function(o,n,i){var s,r,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=s.apply(this,arguments)),r}),c=function(b){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var R=(function(A){return document.querySelector(A)}).call(this,M);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}v[M]=R}return v[M]}}(),d=null,u=0,h=[],p=i(4);function f(b,v){for(var M=0;M<b.length;M++){var R=b[M],A=a[R.id];if(A){A.refs++;for(var B=0;B<A.parts.length;B++)A.parts[B](R.parts[B]);for(;B<R.parts.length;B++)A.parts.push(w(R.parts[B],v))}else{var U=[];for(B=0;B<R.parts.length;B++)U.push(w(R.parts[B],v));a[R.id]={id:R.id,refs:1,parts:U}}}}function C(b,v){for(var M=[],R={},A=0;A<b.length;A++){var B=b[A],U=v.base?B[0]+v.base:B[0],L={css:B[1],media:B[2],sourceMap:B[3]};R[U]?R[U].parts.push(L):M.push(R[U]={id:U,parts:[L]})}return M}function m(b,v){var M=c(b.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=h[h.length-1];if(b.insertAt==="top")R?R.nextSibling?M.insertBefore(v,R.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),h.push(v);else if(b.insertAt==="bottom")M.appendChild(v);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(b.insertInto+" "+b.insertAt.before);M.insertBefore(v,A)}}function x(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var v=h.indexOf(b);v>=0&&h.splice(v,1)}function E(b){var v=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),y(v,b.attrs),m(b,v),v}function y(b,v){Object.keys(v).forEach(function(M){b.setAttribute(M,v[M])})}function w(b,v){var M,R,A,B;if(v.transform&&b.css){if(!(B=v.transform(b.css)))return function(){};b.css=B}if(v.singleton){var U=u++;M=d||(d=E(v)),R=O.bind(null,M,U,!1),A=O.bind(null,M,U,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(L){var z=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",y(z,L.attrs),m(L,z),z}(v),R=(function(L,z,j){var X=j.css,me=j.sourceMap,Ae=z.convertToAbsoluteUrls===void 0&&me;(z.convertToAbsoluteUrls||Ae)&&(X=p(X)),me&&(X+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(me))))+" */");var De=new Blob([X],{type:"text/css"}),Ce=L.href;L.href=URL.createObjectURL(De),Ce&&URL.revokeObjectURL(Ce)}).bind(null,M,v),A=function(){x(M),M.href&&URL.revokeObjectURL(M.href)}):(M=E(v),R=(function(L,z){var j=z.css,X=z.media;if(X&&L.setAttribute("media",X),L.styleSheet)L.styleSheet.cssText=j;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(j))}}).bind(null,M),A=function(){x(M)});return R(b),function(L){if(L){if(L.css===b.css&&L.media===b.media&&L.sourceMap===b.sourceMap)return;R(b=L)}else A()}}o.exports=function(b,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=l()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=C(b,v);return f(M,v),function(R){for(var A=[],B=0;B<M.length;B++){var U=M[B];(L=a[U.id]).refs--,A.push(L)}for(R&&f(C(R,v),v),B=0;B<A.length;B++){var L;if((L=A[B]).refs===0){for(var z=0;z<L.parts.length;z++)L.parts[z]();delete a[L.id]}}}};var S,_=(S=[],function(b,v){return S[b]=v,S.filter(Boolean).join(`
`)});function O(b,v,M,R){var A=M?"":R.css;if(b.styleSheet)b.styleSheet.cssText=_(v,A);else{var B=document.createTextNode(A),U=b.childNodes;U[v]&&b.removeChild(U[v]),U.length?b.insertBefore(B,U[v]):b.appendChild(B)}}},function(o,n){o.exports=function(i){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var r=s.protocol+"//"+s.host,a=r+s.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,p){return p}).replace(/^'(.*)'$/,function(h,p){return p});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(o,n,i){i.r(n),i(0);function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function r(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}i.d(n,"default",function(){return a});var a=function(){function l(c){var d=c.config,u=c.api;(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.optionButtons=[],this._state=!0,this.selectedText=null,this.range=null,this._settings=d,this.CSS={actions:"change-case-action",toolbarLabel:"change-case-toolbar__label",tool:"change-case-tool",toolbarBtnActive:this.api.styles.settingsButtonActive,inlineButton:this.api.styles.inlineToolButton},this.caseOptions={titleCase:"Title Case",lowerCase:"lower case",upperCase:"UPPER CASE",localeLowerCase:"local lower cas",localeUpperCase:"LCALE UPPER CASE",sentenceCase:"Sentence case",toggleCase:"tOOGLE cASE"}}return r(l,[{key:"state",get:function(){return this._state}}],[{key:"isInline",get:function(){return!0}}]),r(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 100 100" stroke="currentColor">
            <path d="m46.099 74.271-3.6868-13.686h-18.523l-3.6868 13.686h-11.605l17.934-57.653h13.17l18.001 57.653zm-6.2632-23.813q-5.0972-18.612-5.7524-21.056c-0.42199-1.6168-0.73293-2.9077-0.91061-3.8477q-1.1105 5.0133-6.5741 24.828z" stroke-width="1.1797"/>
            <path d="m87.355 74.271-2.4938-8.4556h-12.529l-2.4938 8.4556h-7.8496l12.131-35.619h8.9087l12.176 35.619zm-4.2365-14.712q-3.4478-11.499-3.891-13.009c-0.28544-0.99887-0.49576-1.7964-0.61595-2.3772q-0.75116 3.0973-4.4469 15.339z" stroke-width=".76265"/>
            </svg>`,this.button.classList.add(this.CSS.inlineButton),this.button}},{key:"checkState",value:function(c){c.anchorNode}},{key:"convertCase",value:function(c,d){var u=this;if(c){var h=c.cloneContents();h&&(h.childNodes.forEach(function(p){if(p.nodeName==="#text")switch(d){case"titleCase":p.textContent=p.textContent.replace(/\w\S*/g,function(f){return f.charAt(0).toUpperCase()+f.slice(1,f.length).toLowerCase()});break;case"lowerCase":p.textContent=function(f){return f.toLowerCase()}(p.textContent);break;case"upperCase":p.textContent=function(f){return f.toUpperCase()}(p.textContent);break;case"localeLowerCase":p.textContent=function(f,C){return f.toLocaleLowerCase(C)}(p.textContent,u._settings.locale);break;case"localeUpperCase":p.textContent=function(f,C){return f.toLocaleUpperCase(C)}(p.textContent,u._settings.locale);break;case"sentenceCase":p.textContent=function(f){return f.charAt(0).toUpperCase()+f.slice(1,f.length).toLowerCase()}(p.textContent);break;case"toggleCase":p.textContent=function(f){return f.replace(/\w\S*/g,function(C){return C.charAt(0).toLowerCase()+C.slice(1,C.length).toUpperCase()})}(p.textContent)}}),c.extractContents(),c.insertNode(h),this.api.inlineToolbar.close())}}},{key:"surround",value:function(c){this.selectedText=c.cloneContents(),this.actions.hidden=!this.actions.hidden,this.range=this.actions.hidden?null:c,this.state=!this.actions.hidden}},{key:"renderActions",value:function(){var c=this;this.actions=document.createElement("div"),this.actions.classList.add(this.CSS.actions);var d=document.createElement("div");d.classList.add(this.CSS.toolbarLabel),d.innerHTML="Change Case",this.actions.appendChild(d),this.optionButtons=Object.keys(this.caseOptions).map(function(x){var E=document.createElement("div");return E.classList.add(c.CSS.tool),E.dataset.mode=x,E.innerHTML=c.caseOptions[x],E});var u=!0,h=!1,p=void 0;try{for(var f,C=function(){var x=f.value;c.actions.appendChild(x),c.api.listeners.on(x,"click",function(){c.convertCase(c.range,x.dataset.mode)})},m=this.optionButtons[Symbol.iterator]();!(u=(f=m.next()).done);u=!0)C()}catch(x){h=!0,p=x}finally{try{u||m.return==null||m.return()}finally{if(h)throw p}}return this.actions.hidden=!0,this.actions}},{key:"destroy",value:function(){var c=!0,d=!1,u=void 0;try{for(var h,p=this.optionButtons[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value;this.api.listeners.off(f,"click")}}catch(C){d=!0,u=C}finally{try{c||p.return==null||p.return()}finally{if(d)throw u}}}},{key:"state",set:function(c){this._state=c,this.button.classList.toggle(this.CSS.toolbarBtnActive,c)}},{key:"title",get:function(){return"Change Case"}}]),l}()}])})})(yl);var sp=yl.exports;const rp=li(sp);function Cr(t,e){return new Jf({holder:t,tools:{list:{class:ep,inlineToolbar:!0,config:{defaultStyle:"unordered"}},underline:op,strikethrough:ip,changeCase:rp},inlineToolbar:["bold","italic","underline","strikethrough","changeCase"],autofocus:!0,data:e})}const Qo=he({height:0,width:0}),Uo=10,_n=14,Bn=18,Sr=864,Tr=486,ap=Xe({__name:"TheWorkspace",props:{slide:{}},setup(t){const o=Qn(t,"slide");to(o,()=>{f()});const n=he([]),i=he(),s=he();let r,a,l,c,d=he({active:!1,editorInstance:void 0,top:0,left:0}),u,h,p;Fo(()=>{i.value.height=Tr*Be,i.value.width=Sr*Be,i.value.style.width=Sr+"px",i.value.style.height=Tr+"px",r=i.value.getContext("2d",{willReadFrequently:!0}),r.setTransform(Be,0,0,Be,0,0),Qo.value.height=i.value.height,Qo.value.width=i.value.width,Te.value.addImage=x,Te.value.addRectangle=E,Te.value.deleteElement=m,a=i.value.getBoundingClientRect(),f(),window.addEventListener("click",_),r.textBaseline="top"});const f=()=>{var A;h=new ch(i.value,(A=o.value)==null?void 0:A.elements,n.value,C),C(),Te.value.isDeleteElement=!1,p=void 0},C=()=>{var A;if(!(i.value===null||!((A=o.value)!=null&&A.elements))){r.clearRect(0,0,i.value.width,i.value.height);for(const B of o.value.elements)if(B.type==="rectangle")r.fillStyle=B.color||"",r.fillRect(B.area.x,B.area.y,B.area.width,B.area.height);else if(B.type==="image"){const U=document.createElement("canvas"),L=U.getContext("2d");U.width=B.content.width,U.height=B.content.height,L==null||L.putImageData(B.content,0,0),r.drawImage(U,B.area.x,B.area.y,B.area.width,B.area.height)}else B.type==="text"&&On(B.content,B.area.x,B.area.y,r,Bn)}},m=()=>{var A;p!=null?((A=o.value)==null||A.elements.splice(p,1),C()):console.error("currentElementIndex not found"),p=void 0,Te.value.isDeleteElement=!1,nt.save()};function x(A){if(!A)return;const B=i.value.width/Be,U=i.value.height/Be,L=new Image;L.src=URL.createObjectURL(A),L.addEventListener("load",()=>{var Ce;const z=L.width>B,j=L.height>U;if(l=L.width,c=L.height,z||j){const _t=Math.min(B/L.width,U/L.height);l=L.width*_t,c=L.height*_t}const X=(B-l)/2,me=(U-c)/2;r==null||r.drawImage(L,X,me,l,c);const De={type:"image",content:r==null?void 0:r.getImageData(X*Be,me*Be,l*Be,c*Be),area:{x:X,y:me,width:l,height:c}};(Ce=o.value)==null||Ce.elements.push(De),nt.save(),w(De)})}const E=()=>{var B;const A={type:"rectangle",color:"blue",area:{x:0,y:0,width:100,height:100}};(B=o.value)==null||B.elements.push(A),C(),nt.save()};function y(A){if(!o.value||A.clientX<a.left||A.clientX>a.right||A.clientY<a.top||A.clientY>a.bottom)return;const B=A.clientX-a.left,U=A.clientY-a.top;for(let L=o.value.elements.length-1;L>=0;L--){const z=o.value.elements[L],{area:j}=z;if(j.x<=B&&B<=j.x+j.width&&j.y<=U&&U<=j.y+j.height)return C(),w(z),_(),R(),z.type==="text"&&Te.value.isTextEdit&&b(z,j.x+a.left,j.y+a.top),p=L,Te.value.isDeleteElement=!0,z;d.value.active&&_(),R(),p=void 0,Te.value.isDeleteElement=!1,C()}_(),Te.value.isTextEdit&&S(A.clientX,A.clientY)}function w(A){const{width:B,height:U}=A.area,{x:L,y:z}=A.type==="text"?{x:A.area.x-Uo,y:A.area.y-_n}:A.area;r.fillStyle="#1a73e8",r.strokeStyle="#1a73e8",r.strokeRect(L,z,B,U),r.strokeStyle="#fff";const j=8,X=[{x:L-j/2,y:z-j/2,width:j,height:j},{x:L+B-j/2,y:z-j/2,width:j,height:j},{x:L+B-j/2,y:z+U-j/2,width:j,height:j},{x:L-j/2,y:z+U-j/2,width:j,height:j},{x:L+B/2-j/2,y:z-j/2,width:j,height:j},{x:L+B-j/2,y:z+U/2-j/2,width:j,height:j},{x:L+B/2-j/2,y:z+U-j/2,width:j,height:j},{x:L-j/2,y:z+U/2-j/2,width:j,height:j}];for(let me=0;me<X.length;me++){const Ae=X[me];r.fillRect(Ae.x,Ae.y,j,j),r.strokeRect(Ae.x,Ae.y,j,j),n.value[me]=Ae}}function S(A,B){d.value={editorInstance:Cr("editor"),top:B,left:A,active:!0}}function _(){d.value.active&&d.value.editing?v():d.value.active&&O()}function O(){const A=+getComputedStyle(s.value).width.slice(0,-2),B=+getComputedStyle(s.value).height.slice(0,-2);let U=d.value.left-a.left+Uo,L=d.value.top-a.top+_n;d.value.editorInstance&&d.value.editorInstance.save().then(z=>{var X;if(z.blocks.length===0){R();return}const j={type:"text",content:z,area:{x:U,y:L,width:A,height:B}};(X=o.value)==null||X.elements.push(j),On(z,U,L,r,Bn),d.value.width=M(z),R(),nt.save()}).catch(z=>{console.log("Saving failed: ",z)})}function b(A,B,U){if(!o.value)return;const{content:L}=A;u=o.value.elements.indexOf(A),o.value.elements[u].content=null,C(),Te.value.isTextEdit=!0,d.value={editorInstance:Cr("editor",L),top:U-_n,left:B-Uo,editing:!0,active:!0}}function v(){var j;const A=(j=o.value)==null?void 0:j.elements[u],B=+getComputedStyle(s.value).width.slice(0,-2),U=+getComputedStyle(s.value).height.slice(0,-2);let L=d.value.left-a.left+Uo,z=d.value.top-a.top+_n;d.value.editorInstance&&d.value.editorInstance.save().then(X=>{if(X.blocks.length===0){R();return}A.content=X,A.area.width=B,A.area.height=U,On(X,L,z,r,Bn),d.value.width=M(X),R(),nt.save()}).catch(X=>{console.log("Saving failed: ",X)})}function M(A){let B=0;return A.blocks.forEach(({type:U,data:L})=>{U==="paragraph"?B=Math.max(B,L.text):U==="list"&&(B=Math.max(B,...L.items))}),B}function R(){var A;typeof d.value.editorInstance>"u"||"destroy"in d.value.editorInstance&&(Te.value.isTextEdit=!1,d.value.active=!1,(A=d.value.editorInstance)==null||A.destroy())}return(A,B)=>(Ne(),St(Je,null,[Ie("div",{class:de(A.$style.container)},[Ie("canvas",{ref_key:"canvas",ref:i,id:"workspace",onMousedown:B[0]||(B[0]=jt((...U)=>{var L,z;return((L=xe(h))==null?void 0:L.drag)&&((z=xe(h))==null?void 0:z.drag(...U))},["prevent"])),onMouseup:B[1]||(B[1]=jt((...U)=>{var L,z;return((L=xe(h))==null?void 0:L.drop)&&((z=xe(h))==null?void 0:z.drop(...U))},["prevent"])),onMouseout:B[2]||(B[2]=jt((...U)=>{var L,z;return((L=xe(h))==null?void 0:L.drop)&&((z=xe(h))==null?void 0:z.drop(...U))},["prevent"])),onMousemove:B[3]||(B[3]=jt((...U)=>{var L,z;return((L=xe(h))==null?void 0:L.move)&&((z=xe(h))==null?void 0:z.move(...U))},["prevent"])),class:de(A.$style.canvas),onClick:B[4]||(B[4]=jt(U=>y(U),["prevent","stop"]))},null,34)],2),Ie("div",{ref_key:"editor",ref:s,id:"editor",class:de([A.$style.editor,xe(d).active?A.$style.editor_active:""]),style:Zn({top:xe(d).top+"px",left:xe(d).left+"px",width:xe(d).width+"px","font-size":Bn+"px","padding-left":Uo+"px"}),onClick:B[5]||(B[5]=jt(()=>{},["stop"]))},null,6)],64))}}),lp="_container_i225c_2",cp="_canvas_i225c_7",dp="_editor_i225c_18",up="_editor_active_i225c_28",hp={container:lp,canvas:cp,"image-input":"_image-input_i225c_13",editor:dp,editor_active:up},fp={$style:hp},pp=Tt(ap,[["__cssModules",fp]]),gp=Xe({__name:"ToolsButton",props:{action:{type:Function},disabled:{type:Boolean},highlighted:{type:Boolean},iconName:{}},setup(t){const e=t;return(o,n)=>(Ne(),Vt(Un,{class:de(o.$style.button),variant:"light",action:e.action,"icon-name":e.iconName,disabled:e.disabled,highlighted:e.highlighted},null,8,["class","action","icon-name","disabled","highlighted"]))}}),mp="_button_1yqg0_2",bp={button:mp},vp={$style:bp},co=Tt(gp,[["__cssModules",vp]]),kp=Xe({__name:"ToolsPanel",setup(t){const e=he(null),o=()=>{var l;e.value!=null&&((l=e.value)==null||l.addEventListener("change",n),e.value.click(),r())},n=()=>{if(e.value==null)return;const l=e.value.files[0];Te.value.addImage&&Te.value.addImage(l),e.value&&e.value.removeEventListener("change",n)},i=()=>{Te.value.addRectangle&&Te.value.addRectangle(),r()},s=()=>{Te.value.isTextEdit=!0},r=()=>{Te.value.isTextEdit=!1},a=()=>{Te.value.deleteElement&&Te.value.deleteElement()};return(l,c)=>(Ne(),St("div",{class:de(l.$style.toolsPanel)},[le(co,{"icon-name":"arrow-left",action:()=>xe(nt).undo()},null,8,["action"]),le(co,{"icon-name":"arrow-right",action:()=>xe(nt).redo()},null,8,["action"]),Ie("div",{class:de(l.$style.delimiter)},null,2),le(co,{"icon-name":"font",highlighted:xe(Te).isTextEdit,action:s},null,8,["highlighted"]),le(co,{"icon-name":"image-tool",action:o}),le(co,{"icon-name":"copy",action:i}),Ie("input",{ref_key:"uploadInput",ref:e,type:"file",hidden:""},null,512),xe(Te).isDeleteElement?(Ne(),Vt(co,{key:0,"icon-name":"remove-18px",action:a})):Fa("",!0)],2))}}),yp="_toolsPanel_hktfv_2",wp="_delimiter_hktfv_11",xp={toolsPanel:yp,delimiter:wp},Ep={$style:xp},Cp=Tt(kp,[["__cssModules",Ep]]),Sp=Xe({__name:"FullscreenView",props:{slide:{}},emits:["back","next"],setup(t,{emit:e}){const n=Qn(t,"slide"),i=he(0),s=he(0);to(n,()=>{zn(a.value,l,n.value,i.value,s.value)});const r=c=>{c.key==="ArrowLeft"?e("back"):c.key==="ArrowRight"&&e("next")};Fo(()=>{i.value=screen.width/Qo.value.width*Be,s.value=za*i.value,a.value.width=screen.width*Be,a.value.height=Qo.value.height*i.value*Be,a.value.style.width=screen.width+"px",a.value.style.height=i.value*Qo.value.height+"px",l=a.value.getContext("2d",{willReadFrequently:!0}),l.setTransform(Be,0,0,Be,0,0),zn(a.value,l,n.value,i.value,s.value),document.addEventListener("keydown",r)}),us(()=>{document.removeEventListener("keydown",r)});const a=he();let l;return(c,d)=>(Ne(),St("div",{class:de(c.$style.wrapper)},[Ie("canvas",{class:de(c.$style.canvas),ref_key:"canvas",ref:a},null,2)],2))}}),Tp="_wrapper_18nbn_2",_p="_canvas_18nbn_6",Bp={wrapper:Tp,canvas:_p},Ip={$style:Bp},Mp=Tt(Sp,[["__cssModules",Ip]]),Ap=async()=>(await fetch(`${window.location.href}/data.json`)).json(),Op=async t=>{const e=t.map(async o=>{const n=o.elements.map(async s=>{if(s.type==="image"){const{content:r,...a}=s,c=await(await fetch(window.location.href+r)).blob(),d=await Lp(c);if(!d)throw new Error(`File ${r} not found`);return{content:d,...a}}return s});return{elements:await Promise.all(n),id:o.id}});return Promise.all(e)};async function Lp(t){const e=await createImageBitmap(t),o=document.createElement("canvas"),n=o.getContext("2d");return o.width=e.width,o.height=e.height,n==null||n.drawImage(e,0,0),n==null?void 0:n.getImageData(0,0,o.width,o.height)}const Rp=Xe({__name:"App",setup(t){const e=he(ju),o=he(null),n=he(-1);Fo(()=>{no.get("slides").then(async l=>{if(l!=null&&l.data)e.value=l.data;else{const c=await Ap();e.value=await Op(c)}nt.init(e)}),n.value=0,e.value[n.value]&&(o.value=e.value[n.value].id)});const i=l=>{o.value=l,n.value=e.value.findIndex(c=>c.id===l)},s=l=>{const c=e.value.findIndex(d=>d.id===l);e.value.splice(c,1),n.value=0,o.value=e.value[n.value].id,nt.save()},r=()=>{n.value!==0&&n.value--},a=()=>{n.value<e.value.length&&n.value++};return(l,c)=>xe(Ua)?(Ne(),Vt(Mp,{key:0,onBack:r,onNext:a,slide:e.value[n.value]},null,8,["slide"])):(Ne(),St("div",{key:1,class:de(l.$style.container)},[le(Hu),Ie("div",{class:de(l.$style.row)},[le(rh,{slides:e.value,currentSlideId:o.value,onSelectSlide:i,onRemoveSlide:s},null,8,["slides","currentSlideId"]),Ie("div",{class:de(l.$style.column)},[le(Cp),le(pp,{slide:e.value[n.value]},null,8,["slide"])],2)],2)],2))}}),Np="_container_f3q1k_2",Pp="_row_f3q1k_8",Dp="_column_f3q1k_15",Fp={container:Np,row:Pp,column:Dp},Hp={$style:Fp},wl=Tt(Rp,[["__cssModules",Hp]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const po=typeof window<"u";function jp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const pe=Object.assign;function xi(t,e){const o={};for(const n in e){const i=e[n];o[n]=mt(i)?i.map(t):t(i)}return o}const en=()=>{},mt=Array.isArray,$p=/\/$/,Up=t=>t.replace($p,"");function Ei(t,e,o="/"){let n,i={},s="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),r=e.slice(a,e.length)),n=qp(n??e,o),{fullPath:n+(s&&"?")+s+r,path:n,query:i,hash:r}}function zp(t,e){const o=e.query?t(e.query):"";return e.path+(o&&"?")+o+(e.hash||"")}function _r(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Wp(t,e,o){const n=e.matched.length-1,i=o.matched.length-1;return n>-1&&n===i&&Lo(e.matched[n],o.matched[i])&&xl(e.params,o.params)&&t(e.query)===t(o.query)&&e.hash===o.hash}function Lo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function xl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const o in t)if(!Kp(t[o],e[o]))return!1;return!0}function Kp(t,e){return mt(t)?Br(t,e):mt(e)?Br(e,t):t===e}function Br(t,e){return mt(e)?t.length===e.length&&t.every((o,n)=>o===e[n]):t.length===1&&t[0]===e}function qp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const o=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=o.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")s>1&&s--;else break;return o.slice(0,s).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var cn;(function(t){t.pop="pop",t.push="push"})(cn||(cn={}));var tn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tn||(tn={}));function Yp(t){if(!t)if(po){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Up(t)}const Vp=/^[^#]+#/;function Xp(t,e){return t.replace(Vp,"#")+e}function Zp(t,e){const o=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-o.left-(e.left||0),top:n.top-o.top-(e.top||0)}}const ci=()=>({left:window.pageXOffset,top:window.pageYOffset});function Gp(t){let e;if("el"in t){const o=t.el,n=typeof o=="string"&&o.startsWith("#"),i=typeof o=="string"?n?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!i)return;e=Zp(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ir(t,e){return(history.state?history.state.position-e:-1)+t}const qi=new Map;function Jp(t,e){qi.set(t,e)}function Qp(t){const e=qi.get(t);return qi.delete(t),e}let eg=()=>location.protocol+"//"+location.host;function El(t,e){const{pathname:o,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),_r(l,"")}return _r(o,t)+n+i}function tg(t,e,o,n){let i=[],s=[],r=null;const a=({state:h})=>{const p=El(t,location),f=o.value,C=e.value;let m=0;if(h){if(o.value=p,e.value=h,r&&r===f){r=null;return}m=C?h.position-C.position:0}else n(p);i.forEach(x=>{x(o.value,f,{delta:m,type:cn.pop,direction:m?m>0?tn.forward:tn.back:tn.unknown})})};function l(){r=o.value}function c(h){i.push(h);const p=()=>{const f=i.indexOf(h);f>-1&&i.splice(f,1)};return s.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(pe({},h.state,{scroll:ci()}),"")}function u(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function Mr(t,e,o,n=!1,i=!1){return{back:t,current:e,forward:o,replaced:n,position:window.history.length,scroll:i?ci():null}}function og(t){const{history:e,location:o}=window,n={value:El(t,o)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,d){const u=t.indexOf("#"),h=u>-1?(o.host&&document.querySelector("base")?t:t.slice(u))+l:eg()+t+l;try{e[d?"replaceState":"pushState"](c,"",h),i.value=c}catch(p){console.error(p),o[d?"replace":"assign"](h)}}function r(l,c){const d=pe({},e.state,Mr(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,d,!0),n.value=l}function a(l,c){const d=pe({},i.value,e.state,{forward:l,scroll:ci()});s(d.current,d,!0);const u=pe({},Mr(n.value,l,null),{position:d.position+1},c);s(l,u,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function ng(t){t=Yp(t);const e=og(t),o=tg(t,e.state,e.location,e.replace);function n(s,r=!0){r||o.pauseListeners(),history.go(s)}const i=pe({location:"",base:t,go:n,createHref:Xp.bind(null,t)},e,o);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function ig(t){return typeof t=="string"||t&&typeof t=="object"}function Cl(t){return typeof t=="string"||typeof t=="symbol"}const Ft={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sl=Symbol("");var Ar;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ar||(Ar={}));function Ro(t,e){return pe(new Error,{type:t,[Sl]:!0},e)}function Bt(t,e){return t instanceof Error&&Sl in t&&(e==null||!!(t.type&e))}const Or="[^/]+?",sg={sensitive:!1,strict:!1,start:!0,end:!0},rg=/[.+*?^${}()[\]/\\]/g;function ag(t,e){const o=pe({},sg,e),n=[];let i=o.start?"^":"";const s=[];for(const c of t){const d=c.length?[]:[90];o.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const h=c[u];let p=40+(o.sensitive?.25:0);if(h.type===0)u||(i+="/"),i+=h.value.replace(rg,"\\$&"),p+=40;else if(h.type===1){const{value:f,repeatable:C,optional:m,regexp:x}=h;s.push({name:f,repeatable:C,optional:m});const E=x||Or;if(E!==Or){p+=10;try{new RegExp(`(${E})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${f}" (${E}): `+w.message)}}let y=C?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;u||(y=m&&c.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),i+=y,p+=20,m&&(p+=-8),C&&(p+=-20),E===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(o.strict&&o.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}o.strict||(i+="/?"),o.end?i+="$":o.strict&&(i+="(?:/|$)");const r=new RegExp(i,o.sensitive?"":"i");function a(c){const d=c.match(r),u={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",f=s[h-1];u[f.name]=p&&f.repeatable?p.split("/"):p}return u}function l(c){let d="",u=!1;for(const h of t){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:f,repeatable:C,optional:m}=p,x=f in c?c[f]:"";if(mt(x)&&!C)throw new Error(`Provided param "${f}" is an array but it is not repeatable (* or + modifiers)`);const E=mt(x)?x.join("/"):x;if(!E)if(m)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${f}"`);d+=E}}return d||"/"}return{re:r,score:n,keys:s,parse:a,stringify:l}}function lg(t,e){let o=0;for(;o<t.length&&o<e.length;){const n=e[o]-t[o];if(n)return n;o++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function cg(t,e){let o=0;const n=t.score,i=e.score;for(;o<n.length&&o<i.length;){const s=lg(n[o],i[o]);if(s)return s;o++}if(Math.abs(i.length-n.length)===1){if(Lr(n))return 1;if(Lr(i))return-1}return i.length-n.length}function Lr(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dg={type:0,value:""},ug=/[a-zA-Z0-9_]/;function hg(t){if(!t)return[[]];if(t==="/")return[[dg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${o})/"${c}": ${p}`)}let o=0,n=o;const i=[];let s;function r(){s&&i.push(s),s=[]}let a=0,l,c="",d="";function u(){c&&(o===0?s.push({type:0,value:c}):o===1||o===2||o===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&o!==2){n=o,o=4;continue}switch(o){case 0:l==="/"?(c&&u(),r()):l===":"?(u(),o=1):h();break;case 4:h(),o=n;break;case 1:l==="("?o=2:ug.test(l)?h():(u(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:o=3:d+=l;break;case 3:u(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return o===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),r(),i}function fg(t,e,o){const n=ag(hg(t.path),o),i=pe(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pg(t,e){const o=[],n=new Map;e=Pr({strict:!1,end:!0,sensitive:!1},e);function i(d){return n.get(d)}function s(d,u,h){const p=!h,f=gg(d);f.aliasOf=h&&h.record;const C=Pr(e,d),m=[f];if("alias"in d){const y=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of y)m.push(pe({},f,{components:h?h.record.components:f.components,path:w,aliasOf:h?h.record:f}))}let x,E;for(const y of m){const{path:w}=y;if(u&&w[0]!=="/"){const S=u.record.path,_=S[S.length-1]==="/"?"":"/";y.path=u.record.path+(w&&_+w)}if(x=fg(y,u,C),h?h.alias.push(x):(E=E||x,E!==x&&E.alias.push(x),p&&d.name&&!Nr(x)&&r(d.name)),f.children){const S=f.children;for(let _=0;_<S.length;_++)s(S[_],x,h&&h.children[_])}h=h||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&l(x)}return E?()=>{r(E)}:en}function r(d){if(Cl(d)){const u=n.get(d);u&&(n.delete(d),o.splice(o.indexOf(u),1),u.children.forEach(r),u.alias.forEach(r))}else{const u=o.indexOf(d);u>-1&&(o.splice(u,1),d.record.name&&n.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function a(){return o}function l(d){let u=0;for(;u<o.length&&cg(d,o[u])>=0&&(d.record.path!==o[u].record.path||!Tl(d,o[u]));)u++;o.splice(u,0,d),d.record.name&&!Nr(d)&&n.set(d.record.name,d)}function c(d,u){let h,p={},f,C;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw Ro(1,{location:d});C=h.record.name,p=pe(Rr(u.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),d.params&&Rr(d.params,h.keys.map(E=>E.name))),f=h.stringify(p)}else if("path"in d)f=d.path,h=o.find(E=>E.re.test(f)),h&&(p=h.parse(f),C=h.record.name);else{if(h=u.name?n.get(u.name):o.find(E=>E.re.test(u.path)),!h)throw Ro(1,{location:d,currentLocation:u});C=h.record.name,p=pe({},u.params,d.params),f=h.stringify(p)}const m=[];let x=h;for(;x;)m.unshift(x.record),x=x.parent;return{name:C,path:f,params:p,matched:m,meta:bg(m)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:c,removeRoute:r,getRoutes:a,getRecordMatcher:i}}function Rr(t,e){const o={};for(const n of e)n in t&&(o[n]=t[n]);return o}function gg(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:mg(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function mg(t){const e={},o=t.props||!1;if("component"in t)e.default=o;else for(const n in t.components)e[n]=typeof o=="object"?o[n]:o;return e}function Nr(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bg(t){return t.reduce((e,o)=>pe(e,o.meta),{})}function Pr(t,e){const o={};for(const n in t)o[n]=n in e?e[n]:t[n];return o}function Tl(t,e){return e.children.some(o=>o===t||Tl(t,o))}const _l=/#/g,vg=/&/g,kg=/\//g,yg=/=/g,wg=/\?/g,Bl=/\+/g,xg=/%5B/g,Eg=/%5D/g,Il=/%5E/g,Cg=/%60/g,Ml=/%7B/g,Sg=/%7C/g,Al=/%7D/g,Tg=/%20/g;function Os(t){return encodeURI(""+t).replace(Sg,"|").replace(xg,"[").replace(Eg,"]")}function _g(t){return Os(t).replace(Ml,"{").replace(Al,"}").replace(Il,"^")}function Yi(t){return Os(t).replace(Bl,"%2B").replace(Tg,"+").replace(_l,"%23").replace(vg,"%26").replace(Cg,"`").replace(Ml,"{").replace(Al,"}").replace(Il,"^")}function Bg(t){return Yi(t).replace(yg,"%3D")}function Ig(t){return Os(t).replace(_l,"%23").replace(wg,"%3F")}function Mg(t){return t==null?"":Ig(t).replace(kg,"%2F")}function Kn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Ag(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(Bl," "),r=s.indexOf("="),a=Kn(r<0?s:s.slice(0,r)),l=r<0?null:Kn(s.slice(r+1));if(a in e){let c=e[a];mt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Dr(t){let e="";for(let o in t){const n=t[o];if(o=Bg(o),n==null){n!==void 0&&(e+=(e.length?"&":"")+o);continue}(mt(n)?n.map(s=>s&&Yi(s)):[n&&Yi(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+o,s!=null&&(e+="="+s))})}return e}function Og(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=mt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Lg=Symbol(""),Fr=Symbol(""),Ls=Symbol(""),Ol=Symbol(""),Vi=Symbol("");function zo(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function o(){t=[]}return{add:e,list:()=>t.slice(),reset:o}}function $t(t,e,o,n,i){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((r,a)=>{const l=u=>{u===!1?a(Ro(4,{from:o,to:e})):u instanceof Error?a(u):ig(u)?a(Ro(2,{from:e,to:u})):(s&&n.enterCallbacks[i]===s&&typeof u=="function"&&s.push(u),r())},c=t.call(n&&n.instances[i],e,o,l);let d=Promise.resolve(c);t.length<3&&(d=d.then(l)),d.catch(u=>a(u))})}function Ci(t,e,o,n){const i=[];for(const s of t)for(const r in s.components){let a=s.components[r];if(!(e!=="beforeRouteEnter"&&!s.instances[r]))if(Rg(a)){const c=(a.__vccOpts||a)[e];c&&i.push($t(c,o,n,s,r))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${s.path}"`));const d=jp(c)?c.default:c;s.components[r]=d;const h=(d.__vccOpts||d)[e];return h&&$t(h,o,n,s,r)()}))}}return i}function Rg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hr(t){const e=Lt(Ls),o=Lt(Ol),n=ct(()=>e.resolve(xe(t.to))),i=ct(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],u=o.matched;if(!d||!u.length)return-1;const h=u.findIndex(Lo.bind(null,d));if(h>-1)return h;const p=jr(l[c-2]);return c>1&&jr(d)===p&&u[u.length-1].path!==p?u.findIndex(Lo.bind(null,l[c-2])):h}),s=ct(()=>i.value>-1&&Fg(o.params,n.value.params)),r=ct(()=>i.value>-1&&i.value===o.matched.length-1&&xl(o.params,n.value.params));function a(l={}){return Dg(l)?e[xe(t.replace)?"replace":"push"](xe(t.to)).catch(en):Promise.resolve()}return{route:n,href:ct(()=>n.value.href),isActive:s,isExactActive:r,navigate:a}}const Ng=Xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hr,setup(t,{slots:e}){const o=Jn(Hr(t)),{options:n}=Lt(Ls),i=ct(()=>({[$r(t.activeClass,n.linkActiveClass,"router-link-active")]:o.isActive,[$r(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const s=e.default&&e.default(o);return t.custom?s:$a("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:i.value},s)}}}),Pg=Ng;function Dg(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Fg(t,e){for(const o in e){const n=e[o],i=t[o];if(typeof n=="string"){if(n!==i)return!1}else if(!mt(i)||i.length!==n.length||n.some((s,r)=>s!==i[r]))return!1}return!0}function jr(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $r=(t,e,o)=>t??e??o,Hg=Xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:o}){const n=Lt(Vi),i=ct(()=>t.route||n.value),s=Lt(Fr,0),r=ct(()=>{let c=xe(s);const{matched:d}=i.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),a=ct(()=>i.value.matched[r.value]);Mn(Fr,ct(()=>r.value+1)),Mn(Lg,a),Mn(Vi,i);const l=he();return to(()=>[l.value,a.value,t.name],([c,d,u],[h,p,f])=>{d&&(d.instances[u]=c,p&&p!==d&&c&&c===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Lo(d,p)||!h)&&(d.enterCallbacks[u]||[]).forEach(C=>C(c))},{flush:"post"}),()=>{const c=i.value,d=t.name,u=a.value,h=u&&u.components[d];if(!h)return Ur(o.default,{Component:h,route:c});const p=u.props[d],f=p?p===!0?c.params:typeof p=="function"?p(c):p:null,m=$a(h,pe({},f,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Ur(o.default,{Component:m,route:c})||m}}});function Ur(t,e){if(!t)return null;const o=t(e);return o.length===1?o[0]:o}const jg=Hg;function $g(t){const e=pg(t.routes,t),o=t.parseQuery||Ag,n=t.stringifyQuery||Dr,i=t.history,s=zo(),r=zo(),a=zo(),l=Sc(Ft);let c=Ft;po&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=xi.bind(null,P=>""+P),u=xi.bind(null,Mg),h=xi.bind(null,Kn);function p(P,V){let q,J;return Cl(P)?(q=e.getRecordMatcher(P),J=V):J=P,e.addRoute(J,q)}function f(P){const V=e.getRecordMatcher(P);V&&e.removeRoute(V)}function C(){return e.getRoutes().map(P=>P.record)}function m(P){return!!e.getRecordMatcher(P)}function x(P,V){if(V=pe({},V||l.value),typeof P=="string"){const T=Ei(o,P,V.path),N=e.resolve({path:T.path},V),D=i.createHref(T.fullPath);return pe(T,N,{params:h(N.params),hash:Kn(T.hash),redirectedFrom:void 0,href:D})}let q;if("path"in P)q=pe({},P,{path:Ei(o,P.path,V.path).path});else{const T=pe({},P.params);for(const N in T)T[N]==null&&delete T[N];q=pe({},P,{params:u(T)}),V.params=u(V.params)}const J=e.resolve(q,V),fe=P.hash||"";J.params=d(h(J.params));const g=zp(n,pe({},P,{hash:_g(fe),path:J.path})),k=i.createHref(g);return pe({fullPath:g,hash:fe,query:n===Dr?Og(P.query):P.query||{}},J,{redirectedFrom:void 0,href:k})}function E(P){return typeof P=="string"?Ei(o,P,l.value.path):pe({},P)}function y(P,V){if(c!==P)return Ro(8,{from:V,to:P})}function w(P){return O(P)}function S(P){return w(pe(E(P),{replace:!0}))}function _(P){const V=P.matched[P.matched.length-1];if(V&&V.redirect){const{redirect:q}=V;let J=typeof q=="function"?q(P):q;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=E(J):{path:J},J.params={}),pe({query:P.query,hash:P.hash,params:"path"in J?{}:P.params},J)}}function O(P,V){const q=c=x(P),J=l.value,fe=P.state,g=P.force,k=P.replace===!0,T=_(q);if(T)return O(pe(E(T),{state:typeof T=="object"?pe({},fe,T.state):fe,force:g,replace:k}),V||q);const N=q;N.redirectedFrom=V;let D;return!g&&Wp(n,J,q)&&(D=Ro(16,{to:N,from:J}),De(J,J,!0,!1)),(D?Promise.resolve(D):M(N,J)).catch(F=>Bt(F)?Bt(F,2)?F:Ae(F):X(F,N,J)).then(F=>{if(F){if(Bt(F,2))return O(pe({replace:k},E(F.to),{state:typeof F.to=="object"?pe({},fe,F.to.state):fe,force:g}),V||N)}else F=A(N,J,!0,k,fe);return R(N,J,F),F})}function b(P,V){const q=y(P,V);return q?Promise.reject(q):Promise.resolve()}function v(P){const V=ro.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(P):P()}function M(P,V){let q;const[J,fe,g]=Ug(P,V);q=Ci(J.reverse(),"beforeRouteLeave",P,V);for(const T of J)T.leaveGuards.forEach(N=>{q.push($t(N,P,V))});const k=b.bind(null,P,V);return q.push(k),je(q).then(()=>{q=[];for(const T of s.list())q.push($t(T,P,V));return q.push(k),je(q)}).then(()=>{q=Ci(fe,"beforeRouteUpdate",P,V);for(const T of fe)T.updateGuards.forEach(N=>{q.push($t(N,P,V))});return q.push(k),je(q)}).then(()=>{q=[];for(const T of g)if(T.beforeEnter)if(mt(T.beforeEnter))for(const N of T.beforeEnter)q.push($t(N,P,V));else q.push($t(T.beforeEnter,P,V));return q.push(k),je(q)}).then(()=>(P.matched.forEach(T=>T.enterCallbacks={}),q=Ci(g,"beforeRouteEnter",P,V),q.push(k),je(q))).then(()=>{q=[];for(const T of r.list())q.push($t(T,P,V));return q.push(k),je(q)}).catch(T=>Bt(T,8)?T:Promise.reject(T))}function R(P,V,q){a.list().forEach(J=>v(()=>J(P,V,q)))}function A(P,V,q,J,fe){const g=y(P,V);if(g)return g;const k=V===Ft,T=po?history.state:{};q&&(J||k?i.replace(P.fullPath,pe({scroll:k&&T&&T.scroll},fe)):i.push(P.fullPath,fe)),l.value=P,De(P,V,q,k),Ae()}let B;function U(){B||(B=i.listen((P,V,q)=>{if(!kn.listening)return;const J=x(P),fe=_(J);if(fe){O(pe(fe,{replace:!0}),J).catch(en);return}c=J;const g=l.value;po&&Jp(Ir(g.fullPath,q.delta),ci()),M(J,g).catch(k=>Bt(k,12)?k:Bt(k,2)?(O(k.to,J).then(T=>{Bt(T,20)&&!q.delta&&q.type===cn.pop&&i.go(-1,!1)}).catch(en),Promise.reject()):(q.delta&&i.go(-q.delta,!1),X(k,J,g))).then(k=>{k=k||A(J,g,!1),k&&(q.delta&&!Bt(k,8)?i.go(-q.delta,!1):q.type===cn.pop&&Bt(k,20)&&i.go(-1,!1)),R(J,g,k)}).catch(en)}))}let L=zo(),z=zo(),j;function X(P,V,q){Ae(P);const J=z.list();return J.length?J.forEach(fe=>fe(P,V,q)):console.error(P),Promise.reject(P)}function me(){return j&&l.value!==Ft?Promise.resolve():new Promise((P,V)=>{L.add([P,V])})}function Ae(P){return j||(j=!P,U(),L.list().forEach(([V,q])=>P?q(P):V()),L.reset()),P}function De(P,V,q,J){const{scrollBehavior:fe}=t;if(!po||!fe)return Promise.resolve();const g=!q&&Qp(Ir(P.fullPath,0))||(J||!q)&&history.state&&history.state.scroll||null;return ma().then(()=>fe(P,V,g)).then(k=>k&&Gp(k)).catch(k=>X(k,P,V))}const Ce=P=>i.go(P);let _t;const ro=new Set,kn={currentRoute:l,listening:!0,addRoute:p,removeRoute:f,hasRoute:m,getRoutes:C,resolve:x,options:t,push:w,replace:S,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:s.add,beforeResolve:r.add,afterEach:a.add,onError:z.add,isReady:me,install(P){const V=this;P.component("RouterLink",Pg),P.component("RouterView",jg),P.config.globalProperties.$router=V,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(l)}),po&&!_t&&l.value===Ft&&(_t=!0,w(i.location).catch(fe=>{}));const q={};for(const fe in Ft)Object.defineProperty(q,fe,{get:()=>l.value[fe],enumerable:!0});P.provide(Ls,V),P.provide(Ol,aa(q)),P.provide(Vi,l);const J=P.unmount;ro.add(P),P.unmount=function(){ro.delete(P),ro.size<1&&(c=Ft,B&&B(),B=null,l.value=Ft,_t=!1,j=!1),J()}}};function je(P){return P.reduce((V,q)=>V.then(()=>v(q)),Promise.resolve())}return kn}function Ug(t,e){const o=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let r=0;r<s;r++){const a=e.matched[r];a&&(t.matched.find(c=>Lo(c,a))?n.push(a):o.push(a));const l=t.matched[r];l&&(e.matched.find(c=>Lo(c,l))||i.push(l))}return[o,n,i]}const zg=$g({history:ng("./"),routes:[{path:"/",name:"app",component:wl}]});function ot(t){if(typeof t!="object"||t===null)return t;let e;if(t instanceof Date)e=new Date,e.setTime(t.getTime());else if(t instanceof RegExp)e=new RegExp(t);else if(t instanceof Map)e=new Map,t.forEach((o,n)=>{e.set(n,ot(o))});else if(t instanceof Set)e=new Set,t.forEach(o=>{e.add(ot(o))});else if(t instanceof ImageData){const{width:o,height:n,data:i}=t,s=new Uint8ClampedArray(i.length);s.set(i),e=new ImageData(s,o,n)}else if(Array.isArray(t)){e=[];for(let o=0;o<t.length;o++)e[o]=ot(t[o])}else e={},Object.keys(t).forEach(o=>{e[o]=ot(t[o])});return e}let zr;const Wg=5;var $e,At,tt,mn;class Kg{constructor(e){ve(this,$e,void 0);ve(this,At,void 0);ve(this,tt,void 0);ve(this,mn,void 0);if(zr)throw new Error("Only one HistoryManger allowed");zr=this,we(this,$e,[]),we(this,mn,(e==null?void 0:e.limit)||Wg),we(this,tt,-1)}init(e){we(this,At,e),this.save()}save(){const e=he(ot($(this,At).value));if(this.canRedo){const o=$(this,$e).length-1-$(this,tt);we(this,$e,ot($(this,$e).splice(-o,o)))}$(this,$e).length>=$(this,mn)&&$(this,$e).shift(),$(this,$e).push(ot(e.value)),we(this,tt,$(this,$e).length-1),no.set("slides",{id:"slides",data:ot(e.value)})}undo(){this.canUndo&&(di(this,tt)._--,$(this,At).value=ot($(this,$e)[$(this,tt)]),no.set("slides",{id:"slides",data:ot($(this,At).value)}))}redo(){this.canRedo&&(di(this,tt)._++,$(this,At).value=ot($(this,$e)[$(this,tt)]),no.set("slides",{id:"slides",data:ot($(this,At).value)}))}get canUndo(){return $(this,$e).length!==0&&$(this,tt)>0}get canRedo(){return $(this,$e).length!==0&&$(this,tt)<$(this,$e).length-1}}$e=new WeakMap,At=new WeakMap,tt=new WeakMap,mn=new WeakMap;const Wr=lu(wl),nt=new Kg({limit:20});no.onConfigured().then(()=>{Wr.use(zg),Wr.mount("#app")});export{Ie as a,St as c,Ne as o};
